[
    {
        "title": "About me",
        "uri": "page/about",
        "content": "Nothing world place Persistence  Talent will not  nothing common unsuccessful men talent  Genius will not  unrewarded genius almost proverb  Education will not  world full educated derelicts  Persistence Determination alone omnipotent  slogan  Press On  solved will always solve problems human race",
        "objectID": "page/about",
        "subtitle": "Why you'd want to go on a date with me",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "Archive",
        "uri": "page/archive",
        "content": "kubernetes devops python golang         Kubernetes Docker Prometheus Operator      Prometheus Operator       Prometheus Operator    etcd    Grafana        Loki Prometheus Operator     Docker        Dive      Kubernetes API      Kubernetes Ingress     HTTPS 360    K8S Dashboard Wayne       Grafana   Kubernetes      Kubernetes      Kubernetes           kubernetes       Kubernetes       Helm Hooks     Helm         Dockerfile      Kubernetes      Qos Helm          CloudNativeLives K8S              ingress        Kubernetes  ipvs      kubernetes               ingress              DNS    Jenkins   CI CD       Jenkins   CI CD       Jenkins   CI CD    Pod            kubernetes          kubernetes          Kubernetes RBAC    Secret       Service       Job   CronJob       RC RS            Kubernetes Pod       kubeadm  kubernetes1 10   k8s         3   Skaffold       kubernetes      k8s         2   kubernetes          k8s         1      Kubernetes        Kubernetes Downward API           kubernetes   ConfigMap   Secrets            Kubernetes   golang    Docker          YAML      Kubernetes Deployment Kubernetes Helm     kubernetes PodPreset      kubernetes dashboard           Prometheus  AlertManager   Kubernetes    Prometheus2 0 kubernetes        kubernetes    socket io        kubernetes      docker     Harbor kubernetes dashboard              kubernetes    Kubernetes Deployment     Kubernetes  Prometheus       Python Mac     cryptography    TDD      Python         TDD      Python         Python           django2 0 10      Django  STATICROOT  STATICFILESDIRS    django      django url         django admin   action django      inclusion_tag       Python      PDF       Python        python  csv       11              K8S        Django2 0      webpack3                               Hugo    Gitment      Hugo    Algolia        git log      HTTPS  awk      Nginx     301",
        "objectID": "page/archive",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "友情链接",
        "uri": "page/friend",
        "content": "K8S    Ryan Yang JACK LEE           Jimmy Song Roc RECALL s Blog",
        "objectID": "page/friend",
        "subtitle": "阳明的一些朋友",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "Django2.0 实战项目",
        "uri": "post/Django2.0 实战项目课程",
        "content": "Django2 0      WEB                 Django             Django2 0 1 x                        Django                       Django             https   www haimaxy com course m12jop",
        "objectID": "post/Django2.0 实战项目课程",
        "subtitle": "基于 Django2.0 快速实现一个产品分享的 WEB 应用",
        "date": "2018-04-16T00:00:00.000Z",
        "tags": [
            "django",
            "实战"
        ],
        "keywords": [
            "django",
            "django2",
            "实战",
            "实战项目"
        ],
        "slug": "django20-practice-project-course",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "http://sdn.haimaxy.com/covers/2018/4/16/9fc3e6cb83af4715b09f52adcc598ea8.jpg",
                "desc": "django2.0"
            }
        ],
        "category": "django"
    },
    {
        "title": "django下url函数的用法",
        "uri": "post/django下url函数的用法 ",
        "content": "Django           url  django conf urls defaults           10                Django        Templates         urlpatterns                     Templates                        urlpatterns                                           url            urlpatterns             Templates                  url      urlpatterns             urlpatterns   patterns      r  article    news_index       Templates  html                 10                Templates    10      a                     urlpatterns   patterns      r  news    news_index              Templates    10    html                                             a                url          urlpatterns             urlpatterns   patterns     url r  article    newsindex   name  newsindex      Templates  html          urlpatterns    Template              url           urlpatterns         name    url r  article    newsindex   name  newsindex    Templates                     name        urlpatterns         name                          Templates        views              url                 HttpResponseRedirect   article     urlpatterns             views                url       HttpResponseRedirect reverse  news_index       Template              urlpatterns                r    P d 4     P d 1 2       news_list                      http   xxxx com 2014 06         urlpatterns          url r    P d 4     P d 1 2       newslist  name  newsarchive     Templates              url         templates            2014 06     2014  06                                2014 06                        views                 reverse  news_archive  kwargs   year  2014  month  06                 2014 06",
        "objectID": "post/django下url函数的用法 ",
        "date": "2014-06-13T00:00:00.000Z",
        "publishdate": "2014-06-13T00:00:00.000Z",
        "slug": "django-url-function-usage",
        "tags": [
            "django",
            "url"
        ],
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "django国际化问题",
        "uri": "post/django国际化问题",
        "content": "django         django1 6 5                                                django1 6             1   settings py   LANGUAGE_CODE    en us  TIME_ZONE    UTC  USE_I18N   True USE_L10N   True USE_TZ   True LANGUAGES       cn              en    English      LOCALE_PATHS     os path join BASEDIR   locale          LOCALEPATHS   MIDDLEWARE_CLASSES      django contrib sessions middleware SessionMiddleware      django middleware locale LocaleMiddleware     django middleware common CommonMiddleware    django middleware csrf CsrfViewMiddleware    django contrib auth middleware AuthenticationMiddleware    django contrib messages middleware MessageMiddleware    django middleware clickjacking XFrameOptionsMiddleware     TEMPLATECONTEXTPROCESSORS      django contrib auth context_processors auth      django core context_processors i18n     django core context_processors request    django core context_processors static     2           django admin py makemessages  l en   django admin py makemessages  l cn                       locale       cn en          LC_MESSAGES           django po           msgid  Chinese  msgstr            msgid               msgstr                                            po         mo   django admin py compilemessages 3                        load i18n                trans           trans  About          trans  Jobs          trans  Login     4                                        csrf_token       lang LANGUAGES       lang 1       endfor    function selectdo obj    str     i18n setlang    myform   document getElementById  langform    myform method    POST   myform action   str  myform submit             url      i18n setlang         django views i18n set_language",
        "objectID": "post/django国际化问题",
        "date": "2014-05-28T00:00:00.000Z",
        "publishdate": "2014-05-28T00:00:00.000Z",
        "tags": [
            "django",
            "国际化"
        ],
        "slug": "django-i18n",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Django 中STATIC_ROOT 与STATICFILES_DIRS的区别",
        "uri": "post/django的STATIC_ROOT与STATICFILES_DIRS的区别",
        "content": "Django                                                                         settings py      STATICROOT STATICFILESDIRS                         STATICROOT   STATICFILESDIRS                       STATIC_ROOT STATICROOT Django 1 3                            STATICROOT       STATICURL       static           URL   STATICROOT       Django App      Django App            App                                       Django            1 3                          django views static serve       App urls py          url r     static P        django views static serve     document_root      path to project app static                      Django                         Django                Nginx   CDN            App                         nginx   static                                App                        1 3                                                            nginx  static    STATICROOT          python manage py collectstatic         App            STATICROOT                           STATIC_ROOT                 STATICFILES_DIRS        STATICFILESDIRS                                       collectstatic                  STATICROOT         STATICFILESDIRS       STATICROOT                             App                             STATICFILESDIRS STATICROOT              STATIC_URL     static                   STATICFILES_DIRS     os path join BASE_DIR   staticfiles        collectstatic                                                      STATICROOT   os path join BASEDIR   static         Django  static    django contrib staticfiles  App staticfiles    STATICFILESDIRS STATICROOT    App static                       settings py           Nginx             static   Nginx   django contrib staticfiles                 static                     Django              settings DEBUG False    staticfiles",
        "objectID": "post/django的STATIC_ROOT与STATICFILES_DIRS的区别",
        "date": "2017-11-01T00:00:00.000Z",
        "publishdate": "2017-11-01T00:00:00.000Z",
        "tags": [
            "python",
            "django"
        ],
        "bigimg": [
            {
                "src": "/img/posts/18888531_442371539465605_1833253399559143424_n.jpg",
                "desc": "乌镇水乡@杭州 JUNE 1,2017"
            }
        ],
        "slug": "django-staticroot-staticfilesdirs-function",
        "category": "python",
        "gitcomment": true
    },
    {
        "title": "django自定义标签之inclusion_tag的用法",
        "uri": "post/django自定义标签之inclusion_tag的用法",
        "content": "django                                      inclusion_tags     1  model      templatetags             init py                  2   buttons py           django import template register   template Library    register inclusiontag  tags diggbutton html   takes_context True  def digg_button context  comment   context       request          takes_context   True                context  user   context  user   user is_authenticated    return   isdigg   comment isdigg user    uuid   comment uuid   uptimes   comment uptimes  return   is_digg   False   uuid   comment uuid   uptimes   comment uptimes  3        tags          diggbutton html            diggbutton             is_digg         up_times       else         up_times       endif    4         digg_button                          django 1 6 2              buttons               buttons     templatetags               load buttons    5                  digg_button        digg_button comment        django 1 6 2",
        "objectID": "post/django自定义标签之inclusion_tag的用法",
        "date": "2014-05-28T00:00:00.000Z",
        "publishdate": "2014-05-28T00:00:00.000Z",
        "tags": [
            "django",
            "标签"
        ],
        "slug": "django-custom-tag-inclusion_tag",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Docker 的多阶段构建",
        "uri": "post/Docker 的多阶段构建",
        "content": "Docker     Build Ship and Run App Anywhere       Docker                           Build                               golang                                                                                                                                  golang             Docker          package main import    github com gin gonic gin   net http    func main     router    gin Default   router GET   ping   func c  gin Context    c String http StatusOK   PONG      router Run   8080                                        alpine                        Docker                             Ubuntu                                                  alpine                  Ubuntu              volume                         alpine                                                                                alpine                     alpine                    Dockerfile     Dockerfile build  golang WORKDIR  go src app ADD    go src app RUN go  u  v github com kardianos govendor RUN govendor sync RUN GOOS linux GOARCH 386 go build  v  o  go src app app server   alpine       Dockerfile old  alpine latest RUN apk add  U tzdata RUN ln  sf  usr share zoneinfo Asia Shanghai  etc localtime WORKDIR  root  COPY app server   CMD     app server                                build sh     bin sh echo Building cnych docker multi stage demo build docker build  t cnych docker multi stage demo build    f Dockerfile build docker create   name extract cnych docker multi stage demo build docker cp extract  go src app app server   app server docker rm  f extract echo Building cnych docker multi stage demo old docker build   no cache  t cnych docker multi stage demo old    f Dockerfile old rm   app server                                                           Docker 17 05                  Multi stage builds                        Dockerfile                                                                                                   Dockerfile              Dockerfile  golang build env ADD    go src app WORKDIR  go src app RUN go  u  v github com kardianos govendor RUN govendor sync RUN GOOS linux GOARCH 386 go build  v  o  go src app app server alpine RUN apk add  U tzdata RUN ln  sf  usr share zoneinfo Asia Shanghai  etc localtime COPY   from build env  go src app app server  usr local bin app server EXPOSE 8080 CMD    app server             Dockerfile                       build         docker build  t cnych docker multi stage demo latest                                            0         AS                       build env                   from build env                         docker run   rm  p 8080 8080 cnych docker multi stage demo latest                  http   127 0 0 1 8080 ping       PONG                                            github    https   github com cnych docker multi stage demo      https   docs docker com develop develop images multistage build               k8s                                       kubernetes",
        "objectID": "post/Docker 的多阶段构建",
        "date": "2018-02-04T00:00:00.000Z",
        "publishdate": "2018-02-04T00:00:00.000Z",
        "tags": [
            "docker",
            "alpine"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "golang",
            "服务"
        ],
        "slug": "multi-stage-build-for-docker",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1495855720902-bb60e936d7ca.jpeg",
                "desc": "moonlit"
            }
        ],
        "category": "docker"
    },
    {
        "title": "Dockerfile 最佳实践",
        "uri": "post/Dockerfile最佳实践",
        "content": "Docker    Dockerfile           https   docs docker com develop develop images dockerfile_best practices  Docker     Dockerfile                                 Dockerfiles                       Dockerfile Reference                    Dockerfile                   Docker Inc    Docker                                      Dockerfile buildpack deps                      Dockerfile                                                                                  12 Factor 12                                                  docker build                          Dockerfile                  f              Dockerfile                                Docker                                     cd        hello         hello        Dockerfile   cat                 mkdir myproject    cd myproject echo  hello    hello echo  e  FROM busybox nCOPY  hello   nRUN cat  hello    Dockerfile docker build  t helloapp v1        Dockerfile   hello                                        f   Dockerfile              mkdir  p dockerfiles context mv Dockerfile dockerfiles    mv hello context docker build   no cache  t helloapp v2  f dockerfiles Dockerfile context                                                                                                Dockerfile  Sending build context Docker daemon 187 8MB    dockerignore      Dockerfile           Dockerfile                                                           dockerignore                dockerignore            Git    gitignore                 Docker 17 05                                                                                                                                                                                            web                 web                                                                  Celery                                                                                             Docker                             Docker                     Docker 17 05      1 10                                        1 10       RUN COPY   ADD                                                    17 05                                                                                   RUN COPY ADD                     Dockerfile                                                                                                                                              buildpack deps        RUN apt get update    apt get install  y   bzr   cvs   git   mercurial   subversion                Docker    Dockerfile                       Docker                                                                docker build        no cache true                                                  Docker                        FROM                                                                                         Dockerfile                                ADD   COPY                                                                                                                              ADD   COPY                                        RUN apt get  y update                  Docker                                               Dockerfile                     Dockerfile             Dockerfile                                                  Dockerfile                               Alpine                        5 MB                 LABEL                                            LABEL                                                                                                             Set one individual labels LABEL com example version  0 0 1 beta  LABEL vendor  ACME Incorporated  LABEL com example release date  2015 02 12  LABEL com example version is production                   1 10                LABEL                                          Set multiple labels once  using line continuation characters break long lines LABEL vendor ACME  Incorporated   com example is production      com example version  0 0 1 beta    com example release date  2015 02 12                 Understanding object labels  RUN      Dockerfile                        RUN              RUN               apt get   RUN apt get                         RUN apt get upgrade   dist upgrade                                          foo         apt get install  y foo             foo        RUN apt get update   apt get install       RUN        RUN apt get update    apt get install  y   package bar   package baz   package foo   apt get update         RUN                 apt get install              Dockerfile     ubuntu 14 04 RUN apt get update RUN apt get install  y curl              Docker                   apt get install         ubuntu 14 04 RUN apt get update RUN apt get install  y curl nginx Docker        RUN apt get update               apt get update                     apt get update          apt get install           curl   nginx       RUN apt get update    apt get install  y      Dockerfiles                                          cache busting                          cache busting                RUN apt get update    apt get install  y   package bar   package baz   package foo 1 3                                 ",
        "objectID": "post/Dockerfile最佳实践",
        "date": "2018-09-12T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker",
            "dockerfile"
        ],
        "slug": "dockerfile-best-practice",
        "keywords": [
            "kubernetes",
            "docker",
            "dockerfile",
            "实践"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1536620752150-a7e9e62a62ee.jpeg",
                "desc": "Colorful vertical stripes"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Docker 镜像分析工具 Dive(附视频)",
        "uri": "post/Docker镜像分析工具Dive",
        "content": "docker inspect         docker     meta     docker history                                                          docker images REPOSITORY TAG IMAGE ID CREATED SIZE python 3 6 4 07d72c0beb99 8 months ago 689MB   docker inspect python 3 6 4             RootFS      Type    layers    Layers      sha256 8fad67424c4e7098f255513e160caa00852bcff347bc9f920a82ddf3f60229de    sha256 86985c679800f423275a0ea3ad540e9b7f522dcdcd65ec2b20f407996162f2e0    sha256 6e5e20cbf4a7246b94f7acf2a2ceb2c521e95daca334dd1e8ba388fa73443dfe    sha256 ff57bdb79ac820da132ad1fdc1e2d250de5985b264dbdf60aa4ce83a05c4da75    sha256 6e1b48dc2cccd7c0faf316e5975f1a02f5897723d7fa3b0367b28a20173931d6    sha256 325a22db58ea59d76568ded2fac6b783554f8cd5fa8e851c260da4b141c55c6c    sha256 a4a7a3673769ce5035e06f56458cab872bb5dc561bebe3571ac62fe2b52f0aaf    sha256 c83faac49cbc38f1e458dfffb71b1c87860f56ac34602befefe6005177474ba3        Metadata      LastTagTime    0001 01 01T00 00 00Z          docker history python 3 6 4 IMAGE CREATED CREATED SIZE COMMENT 07d72c0beb99 8 months ago  bin sh  c   nop  CMD   python3   0B 8 months ago  bin sh  c set  ex  wget  O get pip py  ht  6 06MB 8 months ago  bin sh  c   nop  ENV PYTHONPIPVERSION 9   0B 8 months ago  bin sh  c cd  usr local bin    ln  s idle3  32B 8 months ago  bin sh  c set  ex    buildDeps   dpkg de  62 9MB 8 months ago  bin sh  c   nop  ENV PYTHON_VERSION 3 6 4 0B 8 months ago  bin sh  c   nop  ENV GPG_KEY 0D96DF4D4110E  0B 8 months ago  bin sh  c apt get update    apt get install  8 67MB 8 months ago  bin sh  c   nop  ENV LANG C UTF 8 0B 8 months ago  bin sh  c   nop  ENV PATH  usr local bin    0B 8 months ago  bin sh  c set  ex  apt get update  apt ge  320MB 8 months ago  bin sh  c apt get update    apt get install  123MB 8 months ago  bin sh  c set  ex    command  v gpg      0B 8 months ago  bin sh  c apt get update    apt get install  44 6MB 8 months ago  bin sh  c   nop  CMD   bash   0B 8 months ago  bin sh  c   nop  ADD file bc844c4763367b5f0  123MB                     docker            dive    https   github com wagoodman dive           docker             docker                docker         dive            tag       dive            build       docker                 dive build  t              docker                                                                                                                                                                                                                              docker                 dive build  t some tag        docker build      dive build                                docker                dive            docker pull wagoodman dive    pull                                       docker run   rm  it    v  var run docker sock  var run docker sock   wagoodman dive latest            python 3 6 4        docker run   rm  it    v  var run docker sock  var run docker sock   wagoodman dive latest python 3 6 4 Analyzing Image Fetching metadata    Fetching image        layer  0  2f1b3001b085f94                                               100    465 465      layer  1  383de4491c61a96                                               100    7 7      layer  2  5a18124b107698b                                               100    1382 1382      layer  3  68c6148e6856d76                                               100    568 568      layer  4  872e2e8e6109ee2                                               100    5421 5421      layer  5  8aa62fd66ae0210                                               100    8252 8252      layer  6  93e9cefe47e6b15                                               100    11545 11545      layer  7  f1a4ff99e76e332                                               100    1482 1482    Building tree    Analyzing layers                                                                                                                                                 dive  github                                                     Docker   Kubernetes                  k8s                                       kubernetes",
        "objectID": "post/Docker镜像分析工具Dive",
        "date": "2018-12-08T00:00:00.000Z",
        "tags": [
            "docker",
            "镜像",
            "dive"
        ],
        "slug": "docker-image-explore-tool-dive",
        "keywords": [
            "docker",
            "镜像",
            "dive"
        ],
        "gitcomment": true,
        "notoc": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1544137105-295758788545.jpeg",
                "desc": "Monte Due Mani, Italy"
            }
        ],
        "category": "docker"
    },
    {
        "title": "Grafana 在 Kubernetes 中的使用",
        "uri": "post/Grafana 在 Kubernetes 中的使用",
        "content": "Prometheus     Kubernetes                     promQL               Prometheus   Dashboard                  Prometheus                                                   grafana     grafana                                             Graphite zabbix InfluxDB Prometheus OpenTSDB Elasticsearch          Prometheus                                                       grafana     Kubernetes               grafana   docker             dockerhub                           https   hub docker com r grafana grafana              grafana              docker run  d   name grafana  p 3000 3000 grafana grafana              Changelog  v5 1 0         Major restructuring container Usage chown removed File permissions incompatibility previous versions user id changed 104 472 group id changed 107 472 Runs grafana user default  instead root  default volumes removed        3  userid   groupid                                          Kubernetes    Pod  grafana yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  grafana namespace  kube ops labels  app  grafana spec  revisionHistoryLimit  10 template  metadata  labels  app  grafana spec  containers  name  grafana image  grafana grafana 5 3 4 imagePullPolicy  IfNotPresent ports  containerPort  3000 name  grafana env  name  GFSECURITYADMIN_USER value  admin name  GFSECURITYADMIN_PASSWORD value  admin321 readinessProbe  failureThreshold  10 httpGet  path   api health port  3000 scheme  HTTP initialDelaySeconds  60 periodSeconds  10 successThreshold  1 timeoutSeconds  30 livenessProbe  failureThreshold  3 httpGet  path   api health port  3000 scheme  HTTP periodSeconds  10 successThreshold  1 timeoutSeconds  1 resources  limits  cpu  100m memory  256Mi requests  cpu  100m memory  256Mi volumeMounts  mountPath   var lib grafana subPath  grafana name  storage securityContext  fsGroup  472 runAsUser  472 volumes  name  storage persistentVolumeClaim  claimName  grafana           grafana grafana 5 3 4                             GFSECURITYADMINUSER GFSECURITYADMINPASSWORD      grafana               grafana   dashboard           var lib grafana                                       volume                Deployment                   Changelog   grafana   userid   groupid                  securityContext                    pvc                       pv   pvc       grafana volume yaml  apiVersion  v1 kind  PersistentVolume metadata  name  grafana spec  capacity  storage  1Gi accessModes  ReadWriteOnce persistentVolumeReclaimPolicy  Recycle nfs  server  10 151 30 57 path   data k8s apiVersion  v1 kind  PersistentVolumeClaim metadata  name  grafana namespace  kube ops spec  accessModes  ReadWriteOnce resources  requests  storage  1Gi             grafana                  Service        NodePort         ingress          grafana svc yaml  apiVersion  v1 kind  Service metadata  name  grafana namespace  kube ops labels  app  grafana spec  type  NodePort ports  port  3000 selector  app  grafana                      kubectl create  f grafana volume yaml persistentvolume  grafana  created persistentvolumeclaim  grafana  created   kubectl create  f grafana deploy yaml deployment extensions  grafana  created   kubectl create  f grafana svc yaml service  grafana  created              grafana     Pod         kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE grafana 5f7b965b55 wxvvk 0 1 CrashLoopBackOff 1 22s             CrashLoopBackOff                 Pod        kubectl logs  f grafana 5f7b965b55 wxvvk  n kube ops GFPATHSDATA   var lib grafana  not writable  may issues file permissions  information here  http   docs grafana org installation docker  migration from a previous version of the docker container to 5 1 or later mkdir  cannot create directory   var lib grafana plugins   Permission denied          5 1                                                var lib grafana             5 1    groupid                 securityContext         var lib grafana    pvc                 grafana 472                                       Job                 grafana chown job yaml  apiVersion  batch v1 kind  Job metadata  name  grafana chown namespace  kube ops spec  template  spec  restartPolicy  containers  name  grafana chown command    chown     R    472 472     var lib grafana   image  busybox imagePullPolicy  IfNotPresent volumeMounts  name  storage subPath  grafana mountPath   var lib grafana volumes  name  storage persistentVolumeClaim  claimName  grafana          busybox     var lib grafana      472   user   group              volumeMounts   volumes        Deployment                  Deployment            kubectl delete  f grafana deploy yaml deployment extensions  grafana  deleted   kubectl create  f grafana deploy yaml deployment extensions  grafana  created   kubectl create  f grafana chown job yaml job batch  grafana chown  created                                 kubectl pod  n kube ops NAME READY STATUS RESTARTS AGE grafana 79477fbb7c 2mb84 1 1 Running 0 2m grafana chown k8zt7 0 1 Completed 0 2m             Completed  Pod             grafana       Pod     Job                     Completed      grafana   Po",
        "objectID": "post/Grafana 在 Kubernetes 中的使用",
        "date": "2018-11-17T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana",
            "AlertManger"
        ],
        "slug": "grafana-usage-in-k8s",
        "keywords": [
            "kubernetes",
            "prometheus",
            "grafana",
            "AlertManger"
        ],
        "gitcomment": true,
        "bigimg": [],
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "Grafana 日志聚合工具 Loki",
        "uri": "post/Grafana 日志聚合工具 Loki",
        "content": "Loki  Grafana Labs                                                                                      Prometheus            Like Prometheus  logs      Prometheus                       Loki                                          Loki                      Prometheus                                            Kubernetes Pod        Pod                        Grafana       Loki    3       loki                   promtail                 loki   Grafana   UI        DockerHub     Loki Promtail  Docker                 docker compose                Loki            Clone        git clone https   github com grafana loki git    docs      cd loki docs   docs            yaml     docker compose yaml  version   3  networks  loki  services  loki  image  grafana loki master ports   3100 3100  volumes   PWD  etc loki command   config file  etc loki loki local config yaml networks  loki promtail  image  grafana promtail make images static 26a87c9 volumes   PWD  etc promtail  var log  var log command   config file  etc promtail promtail docker config yaml networks  loki grafana  image  grafana grafana master ports   3000 3000  environment  GFEXPLOREENABLED   true  networks  loki        docker compose         docker compose  d                    docker compose yaml                     docker compose ps Name Command State Ports docsgrafana1  run sh 0 0 0 0 3000  3000 tcp docsloki1  bin loki  config file  et     0 0 0 0 3100  3100 tcp  80 tcp docspromtail1  usr bin promtail  config                                     3000      grafana         admin admin                         Loki    Loki           http   loki 3100                 grafana      Explore      Loki           Log labels                                                 var log messages                                                                                                               app  mysql  name  mysql backup                                                      name   mysql      name   mysql        Prometheus             Loki            Loki                    Loki                                              Docker   Kubernetes                  k8s                                       kubernetes",
        "objectID": "post/Grafana 日志聚合工具 Loki",
        "date": "2018-12-14T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana",
            "loki",
            "日志"
        ],
        "slug": "grafana-log-tool-loki",
        "keywords": [
            "kubernetes",
            "prometheus",
            "grafana",
            "loki",
            "日志"
        ],
        "gitcomment": true,
        "notoc": true,
        "bigimg": [],
        "category": "kubernetes"
    },
    {
        "title": "Helm Hooks 的使用",
        "uri": "post/Helm Hooks 的使用",
        "content": "Kubernetes        Helm     Hook        chart       release                           Hooks                    chart             ConfigMap   Secret      chart                                     release              release                  Hooks                           Helm             Hook         metadata     annotations          apiVersion      kind       metadata  annotations   helm sh hook    pre install                    Helm Hooks            Hooks   Helm                 Hooks     pre install        kubernetes               post install     kubernetes               pre delete    kubernetes                   post delete      release           pre upgrade                        post upgrade               pre rollback                       post rollback                crd install             CRD         chart             CRD          Hooks         release                                chart                    helm install foo chart         Tiller Server          Tiller Server    foo    Tiller           kubernetes    Tiller   release            Helm     Helm               install             hook pre install post install          chart                     helm install foo chart         Tiller Server          Tiller Server    foo    Tiller   hook       kubernetes       pre install hook Tiller        hook            0       hook        Tiller           hook Tiller       hook      Tiller           kubernetes   Tiller   post install hook Tiller       hook      Tiller   release               Helm          hook                   hook         Job       Tiller     Job                       Helm                          kubernetes                                hook                                hook           release                Tiller Server     hook                              hook              helm delete         hook                         pre delete  post delete    hook               helm sh hook delete policy   annotation     hook            hook         hook                                Values Chart Release                            metadata            annotation               hook        templates         post install job yaml                hook  apiVersion  batch v1 kind  Job metadata  name      Release Name    post install job lables  release      Release Name    chart      Chart Name    version      Chart Version    annotations                        Job     release      helm sh hook   post install  helm sh hook weight     5   helm sh hook delete policy   hook succeeded spec  template  metadata  name      Release Name    labels  release      Release Name    chart      Chart Name    version      Chart Version    spec  restartPolicy  containers  name  post install job image  alpine command     bin sleep       default  10   Values sleepTime          Job           annotations                                   release         annotations   helm sh hook   post install                    hook            post upgrade     annotations   helm sh hook   post install post upgrade             hook                                                    annotations   helm sh hook weight     5             hook        annotations   helm sh hook delete policy   hook succeeded                  hook succeeded    Tiller   hook         hook    hook failed      hook          Tiller      hook    before hook creation         hook           hook   helm   release         hook                  helm                   already exists           helm sh hook delete policy    before hook creation      helm sh hook delete policy    hook succeeded hook failed                    hook         kubernetes                          hook       kubernetes        helm release                     helm sh hook delete policy    before hook creation    hook            hook        hook       Tiller     release    hook        hook                                                            Docker   Kubernetes                  k8s                                       kubernetes",
        "objectID": "post/Helm Hooks 的使用",
        "date": "2018-10-07T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm"
        ],
        "slug": "helm-hooks-usage",
        "keywords": [
            "kubernetes",
            "helm",
            "hook"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1538672074509-c5653fa3ee30.jpeg",
                "desc": "Antônio Prado"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Helm 初体验",
        "uri": "post/helm 初体验",
        "content": "Helm                                                                                                                                                  kubernetes                yaml                                               yum                        Helm    kubernetes    yum             Kubernetes          Helm             chart chart     tgz       chart   chart           chart  Kubernetes         chart    Helm    chart            Helm          chart      Kubernetes             config             release     chart             Helm   Helm            Helm Client                      chart           Tiller sever           chart    release                release Tiller Server      Kubernetes      server    Helm client Kubernetes API server      Tiller server              Helm client        chart               chart  Kubernetes               Kubernetes        chart      client    charts   server      release         Helm Realese               2 7 2            helm    usr local bin        Helm                         Helm                   Tiller    helm version Client   version Version SemVer  v2 7 2   GitCommit  8478fb4fc723885b155c924d1c8c410b7a9444e6   GitTreeState  clean   Error  cannot connect Tiller     Helm               kubectl        kubectl          kubernetes    apiserver                       helm init    Helm     gcr io                                          helm init   upgrade   tiller image cnych tiller v2 7 2                                   E0125 14 03 19 093131 56246 portforward go 331  error occurred forwarding 55943    44134  error forwarding port 44134 pod d01941068c9dfea1c9e46127578994d1cf8bc34c971ff109dc6faa4c05043a6e  uid   unable port forwarding  socat not found  2018 01 25 14 03 19  0xc420476210   0xc4203ae1e0  Stream removed  broadcasting  3 2018 01 25 14 03 19  0xc4203ae1e0   3  Writing data frame 2018 01 25 14 03 19  0xc420476210   0xc4200c3900  Create stream 2018 01 25 14 03 19  0xc420476210   0xc4200c3900  Stream added  broadcasting  5 Error  cannot connect Tiller            socat       sudo yum install  y socat Helm            Tiller      kubernetes   kube system         kubectl pod  n kube system  l app helm NAME READY STATUS RESTARTS AGE tiller deploy 546cf9696c wq5nl 1 1 Running 0 57m         Helm          Client   version Version SemVer  v2 7 2   GitCommit  8478fb4fc723885b155c924d1c8c410b7a9444e6   GitTreeState  clean   Server   version Version SemVer  v2 7 2   GitCommit  8478fb4fc723885b155c924d1c8c410b7a9444e6   GitTreeState  clean               RBAC     kubernetes    1 8 x         RBAC            Tiller    ServiceAccount                    Helm     Role based Access Control    rbac yaml    apiVersion  v1 kind  ServiceAccount metadata  name  tiller namespace  kube system apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRoleBinding metadata  name  tiller roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  cluster admin subjects  kind  ServiceAccount name  tiller namespace  kube system     kubectl      kubectl create  f rbac config yaml serviceaccount  tiller  created clusterrolebinding  tiller  created    tiller  ServceAccount            Tiller                    ServiceAccount           Tiller      ServiceAccount        kubectl patch deploy   namespace kube system tiller deploy  p    spec    template    spec    serviceAccount   tiller                           Helm         Error  no available release name found           Helm                                           Chart    helm create hello helm Creating hello helm   tree hello helm hello helm     Chart yaml     charts     templates       NOTES txt       _helpers tpl       deployment yaml       ingress yaml       service yaml     values yaml 2 directories  7 files       templates     deployment yaml            Chart     nginx                         Helm                        Chart     helm install   hello helm NAME  kilted bobcat LAST DEPLOYED  Thu Jan 25 16 57 46 2018 NAMESPACE  default 2018 01 25 16 57 47  0xc4207d8140   7  Writing data frame STATUS  DEPLOYED RESOURCES    v1 Service NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE kilted bobcat hello helm ClusterIP 10 254 43 90 80 TCP 1s   v1beta1 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE kilted bobcat hello helm 1 1 1 0 1s   v1 Pod related  NAME READY STATUS RESTARTS AGE kilted bobcat hello helm 789946b9b xslrm 0 1 ContainerCreating 0 1s NOTES  application URL running commands  export POD_NAME   kubectl pods   namespace default  l  app hello helm release kilted bobcat   o jsonpath    items 0  metadata name    echo  Visit http   127 0 0 1 8080 use application  kubectl port forward  POD_NAME 8080 80                    export POD_NAME   kubectl pods   namespace default  l  app hello helm release kilted bobcat   o jsonpath    items 0  metadata name      kubectl port forward  POD_NAME 8080 80          http   127 0 0 1 8080                nginx        release    helm list NAME REVISION UPDATED STATUS CHART NAMESPACE kilted bobcat 1 Thu Jan 25 16 57 46 2018 DEPLOYED hello helm 0 1 0 default   chart    helm package hello helm Successfully packaged",
        "objectID": "post/helm 初体验",
        "date": "2018-01-25T00:00:00.000Z",
        "publishdate": "2017-01-25T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm"
        ],
        "slug": "first-use-helm-on-kubernetes",
        "keywords": [
            "kubernetes",
            "helm",
            "用法"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/Hxev8VTsTuOJ27thHQdK_DSC_0068.jpeg",
                "desc": "Mouth of the cave"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Helm 命名模板的使用",
        "uri": "post/Helm 命名模板的使用",
        "content": "Helm                                                                                                  Helm         Helm       Helm       Helm         Values Helm            Helm                                                                                                                     chart                                                                    chart      define  mychart labels    define                  chart           chart                          define                                       define  ChartName TplName               end                         label         define  mychart labels     labels  from  helm date       htmlDate        end                     ConfigMap       template                     define  mychart labels     labels  from  helm date       htmlDate        end    apiVersion  v1 kind  ConfigMap metadata  name      Release Name    configmap     template  mychart labels     data      range  key   value     Values course        key         value   quote        end                            helm install   dry run   debug    debug  Created tunnel using local port   42058         Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  ardent bunny configmap labels  from  helm date  2018 09 22 data  k8s   devops  python   django        define              template                                                      chart      templates            helpers tpl             templates       NOTES txt                        kubernetes                                      chart            Helm   partials                        partials        _helpers tpl                        templates _helpers tpl                  labels             define  mychart labels     labels  from  helm date       htmlDate        end                                                                           templates configmap yaml              template                   mychart lables                                 DEBUG                                                                  chart                     labels             define  mychart labels     labels  from  helm date       htmlDate    chart      Chart Name    version      Chart Version        end                                       helm install   dry run   debug    debug  Created tunnel using local port   42058         Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  peeking zorse configmap labels  from  helm date  2018 09 22 chart  version  data  k8s   devops  python   django  chart                                                   template                                            Chart                    template              apiVersion  v1 kind  ConfigMap metadata  name      Release Name    configmap     template  mychart labels       data      range  key   value     Values course        key         value   quote        end        template                                     Values                                 helm install   dry run   debug    debug  Created tunnel using local port   32768         Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  oldfashioned mule configmap labels  from  helm date  2018 09 22 chart  mychart version  0 1 0 data  k8s   devops  python   django         chart                     include                  labels           _helpers tpl                 labels             define  mychart labels     from  helm date       htmlDate    chart      Chart Name    version      Chart Version        end                  configmap       labels     data     apiVersion  v1 kind  ConfigMap metadata  name      Release Name    configmap labels      template  mychart labels       data      range  key   value     Values course        key         value   quote        end        template  mychart labels                        helm install   dry run   debug    debug  Created tunnel using local port   42652         Error  YAML parse error mychart templates configmap yaml  error converting YAML JSON  yaml  line 9  mapping values not allowed context Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  altered wombat configmap labels  from  helm date  2018 09 22 chart  mychart version  0 1 0 data  k8s   devops  python   django  from  helm date  2018 09 22 chart  mychart version  0 1 0                         YAML          template                                                                                      Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  mortal cricket configmap labels  from  helm date  2018 09 22 chart  mychart version  0 1 0 data  k8s   devops  python   django  from  helm date  2018 09 22 chart  mychart version  0 1 0        data                    labels                        labels                                                   data                        Helm             template      include               indent                      include    apiVersion  v1 kind  ConfigMap metadata  name      Release Name    configmap labels",
        "objectID": "post/Helm 命名模板的使用",
        "subtitle": "Kubernetes 包管理工具 Helm 命名模板的使用",
        "date": "2018-09-23T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm"
        ],
        "slug": "helm-name-template-usage",
        "keywords": [
            "kubernetes",
            "helm",
            "模板"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1537529380282-810ebbe8c9b1.jpg",
                "desc": "Moraine Lake"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Helm 的基本使用",
        "uri": "post/Helm 的基本使用",
        "content": "Helm         Tiller Server                  Helm Chart                 Helm                 Helm   Repo     Docker Registry      Chart              Chart            Helm            google                                        Chart       helm repo list              helm repo list NAME URL stable https   kubernetes charts storage googleapis com  local http   127 0 0 1 8879 charts               stable             local                               Chart           Chart           index yaml            Chart   HTTP                  Chart             Chart                                  Chart                  OSS Github Pages                                        Github Pages                        https   github com cnych kube charts mirror             Helm                        helm repo remove stable  stable  removed repositories   helm repo add stable https   cnych github io kube charts mirror   stable  added repositories   helm repo list NAME URL stable https   cnych github io kube charts mirror  local http   127 0 0 1 8879 charts   helm repo update Hang tight grab latest chart repositories       Skip local chart repository    Successfully update  stable  chart repository Update Complete    Happy Helming                update                         web        Helm Chart                              Chart               index yaml                   yaml           text yaml   text x yaml       web                      Helm Chart            chart Helm   Charts      Kubernetes                  Release       Chart                                  stable                       helm search          Charts         helm search NAME CHART VERSION APP VERSION DESCRIPTION     stable minio 1 6 3 RELEASE 2018 08 25T01 56 38Z Minio high performance distributed object storage se    stable mission control 0 4 2 3 1 2 Helm chart JFrog Mission Control stable mongodb 4 2 2 4 0 2 NoSQL document oriented database stores JSON like do    stable mongodb replicaset 3 5 6 3 6 NoSQL document oriented database stores JSON like do        stable zetcd 0 1 9 0 0 3 CoreOS zetcd Helm chart Kubernetes                helm search         charts                             helm search mysql NAME CHART VERSION APP VERSION DESCRIPTION     stable mysql 0 10 1 5 7 14 Fast  reliable  scalable  easy use open source rel    stable mysqldump 0 1 0 5 7 21 Helm chart help backup MySQL databases using mysqldump stable prometheus mysql exporter 0 1 0 v0 10 0 Helm chart prometheus stable mariadb 4 4 0 10 1 35 Fast  reliable  scalable  easy use open source rel                   charts              inspect         chart          helm inspect stable mysql appVersion  5 7 14 description  Fast  reliable  scalable  easy use open source relational database system  engine  gotpl home  https   www mysql com  icon  https   www mysql com common logos logo mysql 170x115 png keywords  mysql database sql maintainers  email  o with sportradar com name  olemarkus email  viglesias google com name  viglesiasce name  mysql sources  https   github com kubernetes charts https   github com docker library mysql version  0 10 1 mysql image version ref  https   hub docker com r library mysql tags  image   mysql  imageTag   5 7 14         inspect          chart                            helm search             chart            helm install              chart               helm install                     chart          helm install stable mysql NAME  mewing squid LAST DEPLOYED  Tue Sep 4 23 31 23 2018 NAMESPACE  default STATUS  DEPLOYED RESOURCES    v1 PersistentVolumeClaim NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE mewing squid mysql Pending 1s   v1 Service NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE mewing squid mysql ClusterIP 10 108 197 48 3306 TCP 1s   v1beta1 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE mewing squid mysql 1 0 0 0 1s   v1 Pod related  NAME READY STATUS RESTARTS AGE mewing squid mysql 69f587bdf9 z7glv 0 1 Pending 0 0s   v1 Secret NAME TYPE DATA AGE mewing squid mysql Opaque 2 1s   v1 ConfigMap NAME DATA AGE mewing squid mysql test 1 1s NOTES  MySQL accessed via port 3306 following DNS name within cluster  mewing squid mysql default svc cluster local root password run  MYSQLROOTPASSWORD   kubectl secret   namespace default mewing squid mysql  o jsonpath    data mysql root password     base64   decode  echo  connect database  Run Ubuntu pod use client  kubectl run  i   tty ubuntu   image ubuntu 16 04   restart Never    bash  il Install mysql client    apt get update    apt get install mysql client  y Connect using mysql cli  provide password    mysql  h mewing squid mysql  p connect database directly outside K8s cluster  MYSQL_HOST 127 0 0 1 MYSQL_PORT 3306 Execute following command route connection  kubectl port forward svc mewing squid mysql 3306 mysql  h   MYSQLHOST   P  MYSQLPORT   u root  p  MYSQLROOTPASSWORD     mysql chart           chart        release        release      hmewing squid            release          name             helm install stable mysql   name mydb        helm                     release                         mysql      ",
        "objectID": "post/Helm 的基本使用",
        "date": "2018-09-04T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm"
        ],
        "slug": "kubernetes-helm-usage",
        "keywords": [
            "kubernetes",
            "helm",
            "用法"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535807485722-6810baaaf271.jpeg",
                "desc": "nostalgia"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Hugo 集成 Algolia 搜索",
        "uri": "post/hugo集成Algolia搜索",
        "content": "Hugo   Steve Francis    http   spf13 com    Go                             Hugo     Hugo                                                                                                    Google        Hugo                                             Algolia     Algolia     APP                         API                                         InstantSearch                                     https   www algolia com     GitHub   Google                                     Dashboard        Algolia            app     Indices                 qikqiak blog                         Algolia                         json    API                             API                      Algolia     API                              hugo algolia                      hugo aligolia               npm    yarn                       npm install hugo algolia  g           hugo                  config yaml     config toml       config yaml      Algolia    API     baseurl      DefaultContentLanguage   zh cn  hasCJKLanguage  true languageCode   zh cn  title   River s Site  theme   beautifulhugo  metaDataFormat   yaml  algolia  index   qikqiak blog  key   3f541d53f128036d7542f6f2362d4a67  appID   XYLRNJ38SQ    API          dashboard   API Keys        key Admin API Key                          hugo algolia  s JSON index file created public algolia json   updatedAt   2018 02 23T02 36 09 480Z   taskID  249063848950                       public        algolia json            dashboard     Indices                                               index     false    hugo algolia                                          Algolia                                                                beautifulhugo    themes beautifulhugo layouts partials          search html  var client   algoliasearch  XYLRNJ38SQ    3f541d53f128036d7542f6f2362d4a67    var index   client initIndex  qikqiak blog    autocomplete   aa search input     hint  false     source  autocomplete sources hits index   hitsPerPage  8    displayKey   name   templates    suggestion  function suggestion    console log suggestion   return           suggestion _highlightResult title value                    JS     var client   algoliasearch  XYLRNJ38SQ    3f541d53f128036d7542f6f2362d4a67    var index   client initIndex  qikqiak blog        algoliasearch       Application ID       Search Only API Key    initIndex               qikqiak blog                     themes beautifulhugo layouts partials nav html              times  Search blog qikqiak com    partial  search html       close                   search html                      themes beautifulhugo static css search css     import  https   fonts googleapis com css family Montserrat 400 700    aa input container   display  inline block  position  relative  width  100      aa input container span  aa input container input   width  inherit     aa input search   width  300px  padding  12px 28px 12px 12px  border  2px solid  e4e4e4  border radius  4px   webkit transition   2s  transition   2s  font family   Montserrat   sans serif  box shadow  4px 4px 0 rgba 241  241  241  0 35   font size  11px  box sizing  border box  color   333   webkit appearance  none   moz appearance  none  appearance  none     aa input search   webkit search decoration   aa input search   webkit search cancel button   aa input search   webkit search results button   aa input search   webkit search results decoration   display  none     aa input search focus   outline  0  border color   3a96cf  box shadow  4px 4px 0 rgba 58  150  207  0 1      aa input icon   height  16px  width  16px  position  absolute  top  50   right  16px   webkit transform  translateY  50    transform  translateY  50    fill   e4e4e4     aa hint   color   e4e4e4     aa dropdown menu   background color   fff  border  2px solid rgba 228  228  228  0 6   border top width  1px  font family   Montserrat   sans serif  width  300px  margin top  10px  box shadow  4px 4px 0 rgba 241  241  241  0 35   font size  11px  border radius  4px  box sizing  border box     aa suggestion   padding  12px  border top  1px solid rgba 228  228  228  0 6   cursor  pointer   webkit transition   2s  transition   2s  display   webkit box  display   ms flexbox  display  flex   webkit box pack  justify   ms flex pack  justify  justify content  space between   webkit box align  center   ms flex align  center  align items  center     aa suggestion hover   aa suggestion aa cursor   background color  rgba 241  241  241  0 35      aa suggestion   span first child   color   333     aa suggestion   span last child   text transform  uppercase  color   a9a9a9     aa suggestion   span first child em   aa suggestion   span last child em   font weight  700  font style  normal  background color  rgba 58  150  207  0 1   padding  2px 0 2px 2px                  CSS         themes beautifulhugo layouts partials head html head                                                                        https   github com rootsongjc beautifulhugo https   gohugo io tools search  https   www npmjs com package hugo algolia",
        "objectID": "post/hugo集成Algolia搜索",
        "date": "2018-02-23T00:00:00.000Z",
        "publishdate": "2018-02-23T00:00:00.000Z",
        "tags": [
            "Hugo",
            "Algolia"
        ],
        "slug": "hugo-integrated-algolia-search",
        "keywords": [
            "Hugo",
            "Algolia",
            "搜索"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1500531279542-fc8490c8ea4d.jpeg",
                "desc": "Breckenridge, United States"
            }
        ],
        "category": "hugo"
    },
    {
        "title": "Hugo 集成 Gitment 评论插件",
        "uri": "post/hugo集成gitment评论插件",
        "content": "Hugo   Algolia                                                                                     disqus                                                                                              GitHub Issues         Gitment     Gitment      GitHub Issues                                                        Markdown   GFM                  GitHub Pages                    https   github com settings applications new      OAuth Application             Callback URL                https   blog qikqiak com            client id   client secret                       Gitment     Gitment               Hugo     beautifulhugo                                            themes beautifulhugo layouts _default single html                          Params gitment     var gitment   new Gitment   id       Slug                 location href owner      GitHub ID   repo         repo   oauth    client_id      client ID   client_secret      client secret        gitment render  git comments      end           id        location href        URL                 ID           422         URL                      Slug         slug              Params gitment        Gitment                gitment               meta      title  Hugo    Gitment      date  2018 03 05 tags    Hugo    gitment    github   slug  hugo integrated gitment plugin gitment  true category   hugo      gitment    true   slug                        slug    gitment    false            Gitment                              GitHub                    repo   owner                               Demo     Gitment                                           Github issues                 Gitment              Github issues API          Python                                       https   imsun github io gitment",
        "objectID": "post/hugo集成gitment评论插件",
        "date": "2018-03-05T00:00:00.000Z",
        "keywords": [
            "Hugo",
            "评论",
            "gitment",
            "github",
            "Algolia"
        ],
        "tags": [
            "Hugo",
            "gitment",
            "github"
        ],
        "slug": "hugo-integrated-gitment-plugin",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1459909633680-206dc5c67abb.jpeg",
                "desc": "Moon close-up by NASA"
            }
        ],
        "category": "hugo"
    },
    {
        "title": "ipvs 基本介绍",
        "uri": "post/ipvs 介绍",
        "content": "ipvs  IP Virtual Server                     4 LAN      Linux        ipvs                        ipvs     TCP UDP                             IP             ipvs vs  iptables     kube proxy   iptables   ipvs        kubernetes v1 8      ipvs      v1 9     beta      v1 11          iptables     v1 1           v1 2      iptables    kube proxy         ipvs   iptables     netfilter     ipvs     iptables             ipvs                    ipvs     iptables                            ipvs                   ipvs    iptables ipvs     iptables       SNAT masquared          ipvs    ipset     DROP masquared               iptables                                   ipvs     ipset       set name   members   usage                                                                                                                              KUBE CLUSTER IP   service IP   port   Mark Masq cases masquerade all true clusterCIDR specified     KUBE LOOP BACK   service IP   port   IP   masquerade solving hairpin purpose     KUBE EXTERNAL IP   service external IP   port   masquerade packages external IPs     KUBE LOAD BALANCER   load balancer ingress IP   port   masquerade packages load balancer type service     KUBE LOAD BALANCER LOCAL   LB ingress IP   port externalTrafficPolicy local   accept packages load balancer externalTrafficPolicy local     KUBE LOAD BALANCER FW   load balancer ingress IP   port loadBalancerSourceRanges   package filter load balancer loadBalancerSourceRanges specified     KUBE LOAD BALANCER SOURCE CIDR   load balancer ingress IP   port   source CIDR   package filter load balancer loadBalancerSourceRanges specified     KUBE NODE PORT TCP   nodeport type service TCP port   masquerade packets nodePort TCP      KUBE NODE PORT LOCAL TCP   nodeport type service TCP port externalTrafficPolicy local   accept packages nodeport service externalTrafficPolicy local     KUBE NODE PORT UDP   nodeport type service UDP port   masquerade packets nodePort UDP      KUBE NODE PORT LOCAL UDP   nodeport type service UDP port externalTrafficPolicy local   accept packages nodeport service externalTrafficPolicy local          ipvs      iptables  1  kube proxy        masquerade all true    kube proxy      masquerade all true     ipvs         Service   Cluster IP            iptables        ipvs     iptables       iptables  t nat  nL Chain PREROUTING  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain OUTPUT  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain POSTROUTING  policy ACCEPT  target prot opt source destination KUBE POSTROUTING    0 0 0 0 0 0 0 0 0 0    kubernetes postrouting rules    Chain KUBE MARK MASQ  2 references  target prot opt source destination MARK    0 0 0 0 0 0 0 0 0 0 MARK 0x4000 Chain KUBE POSTROUTING  1 references  target prot opt source destination MASQUERADE    0 0 0 0 0 0 0 0 0 0    kubernetes service traffic requiring SNAT    mark match 0x4000 0x4000 MASQUERADE    0 0 0 0 0 0 0 0 0 0 match set KUBE LOOP BACK dst dst src Chain KUBE SERVICES  2 references  target prot opt source destination KUBE MARK MASQ    0 0 0 0 0 0 0 0 0 0 match set KUBE CLUSTER IP dst dst ACCEPT    0 0 0 0 0 0 0 0 0 0 match set KUBE CLUSTER IP dst dst 2    kube proxy         CIDR    kube proxy      cluster cidr      ipvs         Service Cluster IP            iptables       kube proxy       CIDR    10 244 16 0 24    ipvs     iptables           iptables  t nat  nL Chain PREROUTING  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain OUTPUT  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain POSTROUTING  policy ACCEPT  target prot opt source destination KUBE POSTROUTING    0 0 0 0 0 0 0 0 0 0    kubernetes postrouting rules    Chain KUBE MARK MASQ  3 references  target prot opt source destination MARK    0 0 0 0 0 0 0 0 0 0 MARK 0x4000 Chain KUBE POSTROUTING  1 references  target prot opt source destination MASQUERADE    0 0 0 0 0 0 0 0 0 0    kubernetes service traffic requiring SNAT    mark match 0x4000 0x4000 MASQUERADE    0 0 0 0 0 0 0 0 0 0 match set KUBE LOOP BACK dst dst src Chain KUBE SERVICES  2 references  target prot opt source destination KUBE MARK MASQ     10 244 16 0 24 0 0 0 0 0 match set KUBE CLUSTER IP dst dst ACCEPT    0 0 0 0 0 0 0 0 0 0 match set KUBE CLUSTER IP dst dst 3  Load Balancer     Service   loadBalancer      ipvs       KUBE LOAD BALANCER   ipset   iptables           LoadBalancerSourceRanges        externalTrafficPolicy local     ipvs     ipset   KUBE LOAD BALANCER LOCAL KUBE LOAD BALANCER FW KUBE LOAD BALANCER SOURCE CIDR        iptables            iptables  t nat  nL Chain PREROUTING  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain OUTPUT  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals   ",
        "objectID": "post/ipvs 介绍",
        "subtitle": "如何在 kubernetes 中启用 ipvs",
        "date": "2018-08-23T00:00:00.000Z",
        "keywords": [
            "ipvs",
            "iptables",
            "kubernetes",
            "kube-proxy"
        ],
        "tags": [
            "ipvs",
            "iptables",
            "kubernetes",
            "kubeadm"
        ],
        "slug": "how-to-use-ipvs-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1534939023197-ee1747a69141.jpeg",
                "desc": "Sittin’ On The Dock Of The Bay"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Job和CronJob 的使用方法",
        "uri": "post/Job和CronJob的使用",
        "content": "Pod              HPA                        HPA                     Job                                                        Kubernetes         Job CronJob                  Job                               Pod     CronJob    Job          Job    Job                   Job              YAML    apiVersion  batch v1 kind  Job metadata  name  job demo spec  template  metadata  name  job demo spec  restartPolicy  containers  name  counter image  busybox command   bin sh    c   for 9 8 7 6 5 4 3 2 1  echo  i  done    Job RestartPolicy   Never OnFailure      Always     Job                           Always                     Job    job demo yaml    kubectl create  f job yaml job  job demo  created            Job        kubectl jobs NAME DESIRED SUCCESSFUL AGE job demo 1 1 1m        Pod            kubectl logs                kubectl pods NAME READY STATUS RESTARTS AGE job demo p6zst 0 1 Completed 0 14h   kubectl logs job demo p6zst 9 8 7 6 5 4 3 2 1 CronJob CronJob     Job                                                       Linux  crontab          CronJob        crontab                         Job    crontab       crontab                            1   0 59  2   0 23   3  1 31  4  1 12  5   0 7 0 7        6              CronJob        Job    apiVersion  batch v2alpha1 kind  CronJob metadata  name  cronjob demo spec  successfulJobsHistoryLimit  10 failedJobsHistoryLimit  10 schedule    1        jobTemplate  spec  template  spec  restartPolicy  OnFailure containers  name  hello image  busybox args   bin sh    c   for 9 8 7 6 5 4 3 2 1  echo  i  done       Kind CronJob        spec schedule                         crontab           spec jobTemplate                   Job                   spec successfulJobsHistoryLimit  spec failedJobsHistoryLimit                                Job                Job              Cron Job  Job                                    0        Job                     cronjob   kubectl create  f cronjob demo yaml cronjob  cronjob demo  created        kubectl run     CronJob    kubectl run hello   schedule   1          restart OnFailure   image busybox     bin sh  c  date  echo Hello Kubernetes cluster  cronjob batch  hello  created   kubectl cronjob NAME SCHEDULE SUSPEND ACTIVE LAST SCHEDULE AGE hello  1       False 0 13s   kubectl jobs NAME DESIRED SUCCESSFUL AGE hello 1528533240 1 1 1m hello 1528533300 1 0 1s   pods   kubectl pods   selector job name hello 1528533240   output jsonpath   items  metadata name     kubectl logs  pods Sat Jun 9 08 34 19 UTC 2018 Hello Kubernetes cluster        Cron Job         kubectl          kubectl delete cronjob hello cronjob batch  hello  deleted            Job       Cron Job     Job            Job             Job       Pod       Job       Job     Pod                   Docker   Kubernetes                  k8s                                       kubernetes",
        "objectID": "post/Job和CronJob的使用",
        "date": "2018-06-09T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod",
            "Job",
            "CronJob"
        ],
        "slug": "use-job-cronjob",
        "keywords": [
            "kubernetes",
            "job",
            "cronjob",
            "pod"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1503863937795-62954a3c0f05.jpeg",
                "desc": "Morning glory"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "k8s技术圈一周精选[第1期]",
        "uri": "post/k8s技术圈一周精选[第1期]",
        "content": "2018     1 4                                                                                                                 1        2         3  kubelet sidecar     4  kubernetes                        Kubernetes                k8s                                       kubernetes",
        "objectID": "post/k8s技术圈一周精选[第1期]",
        "date": "2018-03-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "知识星球",
            "k8s技术圈"
        ],
        "keywords": [
            "kubernetes",
            "知识星球",
            "k8s技术圈",
            "精选"
        ],
        "slug": "k8s-tech-weekly-collection-phase1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1506188232657-23c9c893ac2b.jpeg",
                "desc": "Girl Cave"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "k8s技术圈一周精选[第2期]",
        "uri": "post/k8s技术圈一周精选[第2期]",
        "content": "k8s        1                                                                                         2                                                    1  Helm      2  nodeAffinity    3       ingress   ingress controller 4  flannel      5           6  Helm        7  docker    jenkins                  Kubernetes                k8s                                       kubernetes",
        "objectID": "post/k8s技术圈一周精选[第2期]",
        "date": "2018-03-25T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "知识星球",
            "k8s技术圈"
        ],
        "keywords": [
            "kubernetes",
            "知识星球",
            "k8s技术圈",
            "精选"
        ],
        "slug": "k8s-tech-weekly-collection-phase2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1437843947241-9e73e69172fb.jpeg",
                "desc": "Arthur's Seat, Edinburgh@United Kingdom"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "k8s技术圈一周精选[第3期]",
        "uri": "post/k8s技术圈一周精选[第3期]",
        "content": "k8s                                                                1           2            3  kubectl    no host                   Kubernetes                k8s                                       kubernetes",
        "objectID": "post/k8s技术圈一周精选[第3期]",
        "date": "2018-04-01T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "知识星球",
            "k8s技术圈"
        ],
        "keywords": [
            "kubernetes",
            "知识星球",
            "k8s技术圈",
            "精选"
        ],
        "slug": "k8s-tech-weekly-collection-phase3",
        "gitcomment": true,
        "toc": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1516054237813-0df813b7f496.jpeg",
                "desc": "This lake has so much salt that some bacterias created this color in the water transforming in a very beautiful and unique place."
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes dashboard 升级之路",
        "uri": "post/kubernetes dashboard 升级",
        "content": "kubernetes           kubernetes   v1 8 2       dashboard    1 6 x     dashboard                                                1 7 x                                  dashboard                                       basic auth       1 6 x   dashboard      basic auth                 haproxy nginx  traefik ingress haproxy nginx     haproxy  nginx    basic auth                      https            traefik ingress       https        traefik       nginx       nginx   https           haproxy         ConfigMap  kind  ConfigMap apiVersion  v1 metadata  name  haproxy conf namespace  kube system data  haproxy config     userlist users user admin insecure password admin global log 127 0 0 1 local0 debug stats timeout 30s defaults log global mode http option httplog option dontlognull timeout connect 5000 timeout client 50000 timeout server 50000 timeout http request 15s timeout http keep alive 15s frontend k8s ui bind   8440 mode http acl authok httpauth users  http request auth unless auth_ok default_backend k8s ui backend k8s ui mode http balance roundrobin server k8s ui 1 kubernetes dashboard kube system svc cluster local 80 check       haproxy Deployment Service  apiVersion  extensions v1beta1 kind  Deployment metadata  name  haproxy namespace  kube system labels  k8s app  haproxy spec  template  metadata  labels  k8s app  haproxy spec  containers  name  haproxy image  haproxy latest imagePullPolicy  IfNotPresent ports  containerPort  8440 name  k8s ui protocol  TCP volumeMounts  name  haproxy config volume mountPath   usr local etc haproxy volumes  name  haproxy config volume configMap  name  haproxy conf items  key  haproxy config path  haproxy cfg kind  Service apiVersion  v1 metadata  name  haproxy namespace  kube system labels  k8s app  haproxy spec  ports  port  8440 targetPort  k8s ui name  k8s ui selector  k8s app  haproxy         ingress      apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik system namespace  kube system spec  rules  host  k8s local http  paths  path    backend  serviceName  haproxy servicePort  k8s ui       https   k8s local    basic auth      traefik ingress          haprox  nginx               ingress      basic auth     ingress          annotations                        htpasswd     htpasswd  bc auth admin admin            auth   secret   kubectl create secret generic system basic auth   from file auth  n kube system        auth type basic auth secret system basic auth     ingress       traefik ingress controller hosts   basic auth        htpasswd    apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik system namespace  kube system annotations  ingress kubernetes io auth type  basic ingress kubernetes io auth secret  system basic auth spec  rules  host  k8s local http  paths  path    backend  serviceName  haproxy servicePort  k8s ui     Dashboard         dashboard  basic auth           1 7 1                                dashboard   yaml             kubectl delete  f dashboard                            wget https   raw githubusercontent com kubernetes dashboard master src deploy recommended kubernetes dashboard yaml           Service  NodePort             dashboard      kubectl create  f kubernetes dashboard yaml         dashboard           kubectl svc kubernetes dashboard  n kube system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE haproxy ClusterIP 10 254 125 90 8440 TCP 8442 TCP 2d kubernetes dashboard NodePort 10 254 122 185 443 31694 TCP 10s                 IP      31694      dashboard        dashboard      https                                  dashboard                dashboard   Kubeconfig token                      Kubeconfig                               default                  dashboard      Kubeconfig  token        Kubeconfig     token        token              token       admin     admin           yaml    admin                   token   dashbaord               Service Account        Bearer token   API server          Kubernetes       kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  admin annotations  rbac authorization kubernetes io autoupdate   true  roleRef  kind  ClusterRole name  cluster admin apiGroup  rbac authorization k8s io subjects  kind  ServiceAccount name  admin namespace  kube system apiVersion  v1 kind  ServiceAccount metadata  name  admin namespace  kube system labels  kubernetes io cluster service   true  addonmanager kubernetes io mode  Reconcile    admin                     token          kubectl secret  n kube system grep admin token admin token d5jsg kubernetes io service account token 3 1d   kubectl secret admin token d5jsg  o jsonpath   data token   n kube system  base64  d         base64         dashboard              token                        kubernetes                                    Kubeconfig                     Kubeconfig                 https          bashboard                                    https           dashboard     https                         ls certs  dashboard crt dashboard key   kubectl create secret generic kubernetes dashboard certs   from file certs  n kube syste",
        "objectID": "post/kubernetes dashboard 升级",
        "date": "2017-11-13T00:00:00.000Z",
        "publishdate": "2017-11-13T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "dashboard",
            "https"
        ],
        "keywords": [
            "kubernetes",
            "dashboard",
            "https",
            "登录",
            "认证",
            "升级"
        ],
        "slug": "update-kubernetes-dashboard-more-secure",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/21689420_1963460803943335_1928791974941294592_n.jpg",
                "desc": "It was an exciting feeling to be there alone at this huge lake, witnessing the spectacle of nature"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Deployment滚动升级",
        "uri": "post/kubernetes deployment实现滚动升级",
        "content": "k8s      1 7 7                Deployment  Replication Controller rc   Deployment   rc                                                      Deployment                                                     Recreate     Pod      RollingUpdate           Pod                            Deployment       Deployment    Replica Set    Replica Set       Pod   Deployment    rs              Deployment    Kubernetes       Replica Set                              Deployment       Replica Set   3 nginx pod yaml      apiVersion  apps v1beta1 kind  Deployment metadata  name  nginx deploy labels  k8s app  nginx demo spec  replicas  3 template  metadata  labels  app  nginx spec  containers  name  nginx image  nginx 1 7 9 ports  containerPort  80           nginx deployment yaml         kubectl create  f nginx deployment yaml deployment  nginx deploy  created                Deployment    kubectl deployments NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE nginx deploy 3 0 0 0 1s                kubectl deployments NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE nginx deploy 3 3 3 3 4m       Deployment     3 Replica Set           rs pod    kubectl rs NAME DESIRED CURRENT READY AGE nginx deploy 431080787 3 3 3 6m   kubectl pod   show labels NAME READY STATUS RESTARTS AGE LABELS nginx deploy 431080787 53z8q 1 1 Running 0 7m app nginx pod template hash 431080787 nginx deploy 431080787 bhhq0 1 1 Running 0 7m app nginx pod template hash 431080787 nginx deploy 431080787 sr44p 1 1 Running 0 7m app nginx pod template hash 431080787    Deployment yaml    replicas 3         3 POD         Deployment           yaml    nginx     nginx 1 13 3    spec            minReadySeconds  5 strategy  indicate strategy want rolling update type  RollingUpdate rollingUpdate  maxSurge  1 maxUnavailable  1 minReadySeconds  Kubernetes                        Kubernetes                                                 maxSurge                   POD      maxSurage 1 replicas 5    Kubernetes    1    Pod        POD            5 1 POD  maxUnavaible             POD             maxSurge  0        0    maxUnavaible 1    Kubernetes           1 POD                     kubectl apply  f nginx deployment yaml deployment  nginx deploy  configured         rollout            kubectl rollout status deployment nginx deploy Waiting rollout finish  1 3 new replicas updated   deployment  nginx deploy  successfully rolled        kubectl rollout pause deployment        kubectl rollout resume deployment           rs       kubectl rs NAME DESIRED CURRENT READY AGE nginx deploy 2078889897 0 0 0 47m nginx deploy 3297445372 3 3 3 42m nginx deploy 431080787 0 0 0 1h   AGE                  3     yaml                describe               Name  nginx deploy Namespace  default CreationTimestamp  Wed  18 Oct 2017 16 58 52  0800 Labels  k8s app nginx demo Annotations  deployment kubernetes io revision 3 kubectl kubernetes io last applied configuration   apiVersion   apps v1beta1   kind   Deployment   metadata    annotations      labels    k8s app   nginx demo    name   nginx deploy   namespace   defa    Selector  app nginx Replicas  3 desired   3 updated   3 total   3 available   0 unavailable StrategyType  RollingUpdate MinReadySeconds  0 RollingUpdateStrategy  25  max unavailable  25  max surge Pod Template  Labels  app nginx Containers  nginx  Image  nginx 1 13 3 Port  80 TCP Environment  Mounts  Volumes  Conditions  Type Status Reason                    Progressing True NewReplicaSetAvailable Available True MinimumReplicasAvailable OldReplicaSets  NewReplicaSet  nginx deploy 3297445372  3 3 replicas created  Events  FirstSeen LastSeen Count SubObjectPath Type Reason Message                                                                     50m 50m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 2078889897 1 45m 45m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 2078889897 0 45m 45m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 3297445372 1 39m 39m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 431080787 2 39m 39m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 3297445372 2 38m 38m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 431080787 1 38m 38m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 3297445372 3 38m 38m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 431080787 0   Deployment                 Deployment          POD                                            Deployment                  Deployment         kubectl rollout history deployment nginx deploy deployments  nginx deploy  REVISION CHANGE CAUSE 1 2 3 kubectl apply   filename Desktop nginx deployment yaml   record true              Deployment         record                                 REVISION       kubectl rollout history deployment nginx deploy   revision 3 deployments  nginx deploy  revision  3 Pod Template  Labels  app nginx pod template hash 3297445372 Annotati",
        "objectID": "post/kubernetes deployment实现滚动升级",
        "date": "2017-10-18T00:00:00.000Z",
        "publishdate": "2017-10-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "deployment"
        ],
        "keywords": [
            "kubernetes",
            "deployment",
            "滚动",
            "升级",
            "回滚",
            "更新"
        ],
        "bigimg": [
            {
                "src": "/img/posts/22280765_1473377219422921_7316093626113589248_n.jpg",
                "desc": "峨眉山@四川 Sep 30,2017"
            }
        ],
        "slug": "kubernetes-rollout-update",
        "category": "kubernetes",
        "gitcomment": true
    },
    {
        "title": "Kubernetes Downward API 基本用法",
        "uri": "post/kubernetes Downward API用法",
        "content": "k8s                      POD         kubernetes             Downward API     Downward API           POD                             POD                  Volume     POD                                  Downward API   POD   IP          namespace                                        yaml      test env pod yaml  apiVersion  v1 kind  Pod metadata  name  test env pod namespace  kube system spec  containers  name  test env pod image  busybox latest command     bin sh     c    env   env  name  POD_NAME valueFrom  fieldRef  fieldPath  metadata name name  POD_NAMESPACE valueFrom  fieldRef  fieldPath  metadata namespace name  POD_IP valueFrom  fieldRef  fieldPath  status podIP                       env   valueFrom            POD   name   namespace          POD                     metata             POD   IP             POD IP       POD                       status            fieldRef   POD             resourceFieldRef                          kubectl        POD    kubectl create  f test env pod yaml pod  test env pod  created POD                   kubectl logs test env pod  n kube system  grep POD POD_IP 172 30 19 24 POD_NAME test env pod POD_NAMESPACE kube system        POD   IP NAME NAMESPACE               Volume   Downward API                   Volume         POD              Downward API  POD   Label Annotation       Volume                                      yaml     test volume pod yaml  apiVersion  v1 kind  Pod metadata  name  test volume pod namespace  kube system labels  k8s app  test volume node env  test annotations  build  test own  qikqiak spec  containers  name  test volume pod container image  busybox latest command    sh     c   args  true      e  etc podinfo labels     echo  en   n n   cat  etc podinfo labels  fi      e  etc podinfo annotations     echo  en   n n   cat  etc podinfo annotations  fi  sleep 3600  done  volumeMounts  name  podinfo mountPath   etc podinfo volumes  name  podinfo downwardAPI  items  path   labels  fieldRef  fieldPath  metadata labels path   annotations  fieldRef  fieldPath  metadata annotations        labels   annotaions            etc podinfo          POD     kubectl create  f test volume pod yaml pod  test volume pod  created           kubectl logs test volume pod  n kube system k8s app  test volume  node env  test  build  test  kubernetes io config seen  2018 03 02T17 51 10 856356259 08 00  kubernetes io config source  api  own  qikqiak                  POD   Labels   Annotations          etc podinfo      lables   annotations                       POD                   Downward API                      initContainer  POD                                                      k8s                                       kubernetes",
        "objectID": "post/kubernetes Downward API用法",
        "date": "2018-03-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "pod",
            "downward"
        ],
        "keywords": [
            "kubernetes",
            "pod",
            "downward",
            "用法"
        ],
        "slug": "use-downward-api-get-pod-info",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1493219686142-5a8641badc78.jpeg",
                "desc": "Draw Something"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes PodPreset 的使用",
        "uri": "post/kubernetes PodPreset使用",
        "content": "kubernetes    sentry       sentry     3        POD   WEB Celery Worker Crontab                                                                                    3    3                      3      kubernetes             PodPreset        Pod        Pod                secret volume volume mount              PodPreset      kubernetes 1 8         PodPreset PodPreset     Pod                  API         label selector        Pod   PodPreset  kubernetes           PodPreset       PodPreset                    Pod                           PodPresets    PodPreset                Pod               PodPreset               Pod             Pod              PodPreset              Pod               Pod spec        PodPreset            podpreset admission kubernetes io podpreset           Pod           PodPrestet      PodPreset            Pod  PodPreset          Pod   Kubernetes     Pod Spec    Env EnvFrom   VolumeMounts     Kubernetes    Pod          spec    Volume     Kubernetes    Pod Spec               Pod       Pod Preset                   Pod   Pod Spec       podpreset admission kubernetes io exclude  true      PodPreset    PodPreset            kubernetes 1 8                 PodPreset       PodPreset        podpreset API        admission control NamespaceLifecycle LimitRanger ServiceAccount DefaultStorageClass ResourceQuota PodPreset    runtime config rbac authorization k8s io v1alpha1 true settings k8s io v1alpha1 true      kube apiserver                         kube apiserver                 sentry          PodPreset    sentry podpreset yaml  apiVersion  settings k8s io v1alpha1 kind  PodPreset metadata  name  sentry env namespace  kube ops spec  selector  matchLabels  app  sentry env  name  CFORCEROOT value   true  name  SENTRYREDISHOST value   redis  name  SENTRYREDISPORT value   6379  name  SENTRYREDISDB value   2  name  SENTRYRABBITMQHOST value   rabbitmq 5672  name  SENTRYRABBITMQUSERNAME value   root  name  SENTRYRABBITMQPASSWORD value   root  name  SENTRYSECRETKEY value   xxxxxxxxxxxxx  name  SENTRYPOSTGRESHOST value   postgresql  name  SENTRYPOSTGRESPORT value   5432  name  SENTRYDBNAME value   sentry  name  SENTRYDBUSER value   sentry  name  SENTRYDBPASSWORD value   sentry321           PodPreset        app  sentry          POD                    sentry                sentry deployment yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  labels  app  sentry name  sentry namespace  kube ops spec  template  metadata  labels  app  sentry spec  containers  image  sentry 8 22 0 imagePullPolicy  Always name  sentry ports  containerPort  9000 name  web image  sentry 8 22 0 imagePullPolicy  Always name  sentry worker command    sentry    run    worker   image  sentry 8 22 0 imagePullPolicy  Always name  sentry cron command    sentry    run    cron             kubectl create  f sentry podpreset yaml   kubectl create  f sentry deployment yaml         dashboard       kubectl         sentry POD                     https   kubernetes io docs tasks inject data application podpreset                k8s                                       kubernetes",
        "objectID": "post/kubernetes PodPreset使用",
        "date": "2018-01-23T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "PodPreset"
        ],
        "keywords": [
            "kubernetes",
            "PodPreset",
            "用法"
        ],
        "slug": "how-to-use-podpreset-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1498637841888-108c6b723fcb.jpeg",
                "desc": "Transfagarasan by Drone"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes RBAC 详解",
        "uri": "post/kubernetes RBAC 详解",
        "content": "Kubernetes                  ConfigMap Secret                     Kubernetes                                                                RBAC              RBAC  rbac authorization k8s io API Group                 Kubernetes API           RBAC     apiserver        authorization mode RBAC      kubeadm      1 6            RBAC        Master     apiserver    Pod        cat  etc kubernetes manifests kube apiserver yaml       authorization mode Node RBAC                                   apiserver     RBAC API    Kubernetes                          API         CRUD Create Read Update Delete                                  Pods ConfigMaps Deployments Nodes Secrets Namespaces                    create delete list update edit watch exec            API Group        Pods   Core API Group  Deployements   apps API Group   Kubernetes   RBAC                                 Rule              API Group             Role   ClusterRole                     Rules              Role                        namespace       ClusterRole                             Role   ClusterRole  Kubernetes            API              Pod ConfigMap                                kubectl           Subject                        3          User Account                                     KeyStone   Goolge                                                            API       Group                              cluster admin Service Account        Kubernetes API              namespace                           API                                ServiceAccount             RoleBinding   ClusterRoleBinding                        Subject      Role                                       RoleBinding         namespace             ClusterRoleBinding         namespace                  RBAC                  namespace             User Account      kube system         username  haimaxy group  youdianzhishi  1                   Kubernetes   User Account   API                                                                     OpenSSL        User              cfssl           haimaxy            haimaxy key    openssl genrsa  out haimaxy key 2048                         haimaxy csr          subj           CN      O        openssl req  new  key haimaxy key  out haimaxy csr  subj   CN haimaxy O youdianzhis         Kubernetes   CA       kubeadm      CA       etc kubernetes pki                                        CA               ca crt ca key                                      500     openssl x509  req  in haimaxy csr  CA  etc kubernetes pki ca crt  CAkey  etc kubernetes pki ca key  CAcreateserial  out haimaxy crt  days 500                             ls haimaxy csr haimaxy key haimaxy crt                                      Context     kubectl config set credentials haimaxy   client certificate haimaxy crt   client key haimaxy key           haimaxy                Context    kubectl config set context haimaxy context   cluster kubernetes   namespace kube system   user haimaxy          haimaxy                           kubectl                                       kubectl pods   context haimaxy context Error server  Forbidden   pods forbidden  User  haimaxy  cannot list pods namespace  default   2                                       YAML              Deployment Pod ReplicaSets           haimaxy role yaml  apiVersion  rbac authorization k8s io v1 kind  Role metadata  name  haimaxy role namespace  kube system rules  apiGroups        extensions    apps   resources    deployments    replicasets    pods   verbs    get    list    watch    create    update    patch    delete                  Pod   core    API Group  YAML          Deployment   apps    API Group ReplicaSets  extensions   API Group                   rules     apiGroups            API Group       extensions    apps     verbs                                                               Role    kubectl create  f haimaxy role yaml                haimaxy context                3           Role                   Role        haimaxy                      RoleBinding     kube system              haimaxy role       haimaxy       haimaxy rolebinding yaml  apiVersion  rbac authorization k8s io v1 kind  RoleBinding metadata  name  haimaxy rolebinding namespace  kube system subjects  kind  User name  haimaxy apiGroup     roleRef  kind  Role name  haimaxy role apiGroup        YAML        subjects                                   User    haimaxy   kubectl             kubectl create  f haimaxy rolebinding yaml  4                 haimaxy context             kubectl pods   context haimaxy context                kubectl         namespace                                  n default        kubectl   context haimaxy context pods   namespace default Error server  Forbidden   pods forbidden  User  haimaxy  cannot list pods namespace  default                     default                        namespace  ServiceAccount                                     subjects               ServiceAccount                      kube system           pods   deployments         ServiceAccount       kubectl create sa haimaxy sa  n kube system           YAML           ",
        "objectID": "post/kubernetes RBAC 详解",
        "subtitle": "深入理解 Kubernetes RBAC 的用法",
        "date": "2018-06-22T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "RBAC"
        ],
        "keywords": [
            "kubernetes",
            "RBAC"
        ],
        "slug": "use-rbac-in-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1529579134665-75dfc9c5ccef.jpeg",
                "desc": "China"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes 下升级Prometheus2.0",
        "uri": "post/kubernetes 下升级prometheus2.0",
        "content": "prometheus2 0                                https   prometheus io blog 2017 11 08 announcing prometheus 2 0              2 0                                 kubernetes   prometheus               Kubernetes  Prometheus               yaml     github                  1 8 2       RABC           Prometheus    ServiceAccount  apiVersion  v1 kind  ServiceAccount metadata  name  prometheus namespace  kube ops apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRole metadata  name  prometheus namespace  kube ops rules  apiGroups       resources  nodes nodes proxy services endpoints pods verbs    get    list    watch   nonResourceURLs     metrics   verbs    get   apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRoleBinding metadata  name  prometheus namespace  kube ops roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  prometheus subjects  kind  ServiceAccount name  prometheus namespace  kube ops        Prometheus       2 0 0                                               storage local path  storage tsdb path     apiVersion  extensions v1beta1 kind  Deployment metadata  labels  k8s app  prometheus name  prometheus namespace  kube ops spec  replicas  1 template  metadata  labels  k8s app  prometheus spec  serviceAccountName  prometheus containers  image  prom prometheus v2 0 0 name  prometheus command    bin prometheus  args     config file  etc prometheus prometheus yml     storage tsdb path  prometheus     storage tsdb retention 15d  ports  containerPort  9090 protocol  TCP name  http volumeMounts  mountPath    prometheus  name  data subPath  prometheus data mountPath    etc prometheus  name  config volume resources  requests  cpu  100m memory  100Mi limits  cpu  200m memory  1Gi volumes  name  data persistentVolumeClaim  claimName  opspvc configMap  name  prometheus config name  config volume   args                      kubernetessdconfigs    api_servers                  apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   kubernetes apiservers  kubernetessdconfigs  role  endpoints scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token relabel_configs  sourcelabels   metakubernetesnamespace  metakubernetesservicename  metakubernetesendpointportname  action  keep regex  default kubernetes https job_name   kubernetes nodes  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics job_name   kubernetes cadvisor  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics cadvisor job_name   kubernetes node exporter  scheme  http tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  31672  targetlabel  address_          prometheus     targets            grafana               Kubernetes  Prometheus        https   github com cnych k8s repo               Kubernetes                k8s                                       kubernetes",
        "objectID": "post/kubernetes 下升级prometheus2.0",
        "date": "2017-11-22T00:00:00.000Z",
        "publishdate": "2017-11-22T00:00:00.000Z",
        "slug": "update-prometheus-2-in-kubernetes",
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana"
        ],
        "keywords": [
            "kubernetes",
            "prometheus2",
            "grafana",
            "升级"
        ],
        "bigimg": [
            {
                "src": "/img/posts/22277538_1987368801539992_4665344475080425472_n.jpg",
                "desc": "It is always a new adventure, and I am always impressed with how beautiful nature is"
            }
        ],
        "category": "kubernetes",
        "gitcomment": true
    },
    {
        "title": "kubernetes 如何发音？",
        "uri": "post/kubernetes 如何发音",
        "content": "kubernetes                       kub  netis                         github issue          https   github com kubernetes kubernetes issues 44308       kubernetes  k8s                                                                       Algorithms    A9  kubernetes   k8s     k    8     s     k8s          K8s abbreviation derived replacing 8 letters  ubernete  8                                        Docker   Kubernetes                  k8s                                       kubernetes",
        "objectID": "post/kubernetes 如何发音",
        "subtitle": "kubernetes 如何发音？为何缩写为 k8s？",
        "date": "2018-08-19T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "发音",
            "k8s"
        ],
        "keywords": [
            "kubernetes",
            "发音",
            "k8s"
        ],
        "slug": "kubernetes-how-to-pronunciation",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1521312793923-3d0b6e488ecd.jpeg",
                "desc": "Abandoned Boat in São Tomé"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 持久化存储(一)",
        "uri": "post/kubernetes 数据持久化(一)",
        "content": "hostPath    emptyDir                                                                         CPU                                        Kubernetes      PV   PVC                        PV      PersistentVolume                      PV                                      Ceph GlusterFS NFS                       PVC      PersistentVolumeClaim         PVC            PVC   Pod      Pod        PVC      PV    Pod      CPU       PVC                                                    PVC          PVC                                                                                   Kubernetes                 StorageClass    StorageClass                                            StorageClass                                                    NFS                      NFS                10 151 30 57     NFS          data k8s          systemctl stop firewalld service   systemctl disable firewalld service      nfs   yum  y install nfs utils rpcbind             chmod 755  data k8s     nfs nfs           etc exports                       vi  etc exports  data k8s   rw sync norootsquash         data k8s                                      IP        rw       sync               norootsquash     NFS               root                       UID   GID      nobody       nfs                                nfs     rpc    rpc                                           rpcbind   systemctl start rpcbind service   systemctl enable rpcbind   systemctl status rpcbind   rpcbind service   RPC bind service Loaded  loaded   usr lib systemd system rpcbind service  disabled  vendor preset  enabled  Active  active  running  Tue 2018 07 10 20 57 29 CST  1min 54s ago Process  17696 ExecStart  sbin rpcbind  w  RPCBIND_ARGS  code exited  status 0 SUCCESS  Main PID  17697  rpcbind  Tasks  1 Memory  1 1M CGroup   system slice rpcbind service   17697  sbin rpcbind  w Jul 10 20 57 29 master systemd 1   Starting RPC bind service    Jul 10 20 57 29 master systemd 1   Started RPC bind service        Started               nfs       systemctl start nfs service   systemctl enable nfs   systemctl status nfs   nfs server service   NFS server services Loaded  loaded   usr lib systemd system nfs server service  enabled  vendor preset  disabled  Drop In   run systemd generator nfs server service d   order with mounts conf Active  active  exited  Tue 2018 07 10 21 35 37 CST  14s ago Main PID  32067  code exited  status 0 SUCCESS  CGroup   system slice nfs server service Jul 10 21 35 37 master systemd 1   Starting NFS server services    Jul 10 21 35 37 master systemd 1   Started NFS server services       Started     NFS Server                             rpcinfo  p grep nfs 100003 3 tcp 2049 nfs 100003 4 tcp 2049 nfs 100227 3 tcp 2049 nfs_acl 100003 3 udp 2049 nfs 100003 4 udp 2049 nfs 100227 3 udp 2049 nfs_acl               cat  var lib nfs etab  data k8s   rw sync wdelay hide nocrossmnt secure norootsquash noallsquash nosubtreecheck securelocks acl nopnfs anonuid 65534 anongid 65534 sec sys secure norootsquash noallsquash          nfs server                10 151 30 62     nfs          nfs    nfs                systemctl stop firewalld service   systemctl disable firewalld service      nfs   yum  y install nfs utils rpcbind                    rpc      nfs    systemctl start rpcbind service   systemctl enable rpcbind service   systemctl start nfs service   systemctl enable nfs service                            nfs            nfs            showmount  e 10 151 30 57 Export list 10 151 30 57   data k8s                    mkdir  p  root course kubeadm data   nfs                 mount  t nfs 10 151 30 57  data k8s  root course kubeadm data                                nfs                        touch  root course kubeadm data test txt     nfs          ls  ls  data k8s  total 4 4  rw r  r    1 root root 4 Jul 10 21 50 test txt         test txt             nfs        PV       NFS                 PV   PVC   PV                                               PV       nfs         1G             ReadWriteOnce       Recyle     YAML       pv1 demo yaml  apiVersion  v1 kind  PersistentVolume metadata  name  pv1 spec  capacity  storage  1Gi accessModes  ReadWriteOnce persistentVolumeReclaimPolicy  Recycle nfs  path   data k8s server  10 151 30 57 Kubernetes     PV             Ceph GlusterFs NFS    HostPath       HostPath                               Kubernetes PV                                                                   kubectl         kubectl create  f pv1 demo yaml persistentvolume  pv1  created   kubectl pv NAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGE pv1 1Gi RWO Recycle Available 12s        pv1             Available    pv1        PVC                       Capacity               PV                 PV   capacity                            storage 1Gi           IOPS            AccessModes       AccessModes      PV                                            ReadWriteOnce RWO                   ReadOnlyMany ROX                 ReadWriteMany RWX                         PV                                                      Volume            persistentVolu",
        "objectID": "post/kubernetes 数据持久化(一)",
        "subtitle": "PV 和 PVC 的使用",
        "date": "2018-07-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "pv",
            "pvc",
            "nfs",
            "StorageClass"
        ],
        "keywords": [
            "kubernetes",
            "pv",
            "pvc",
            "nfs",
            "StorageClass",
            "持久化",
            "存储"
        ],
        "slug": "kubernetes-persistent-volume1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1531826912410-2811a685b572.jpeg",
                "desc": "Moony colors"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 持久化存储(二)",
        "uri": "post/kubernetes 数据持久化(二)",
        "content": "PV   PVC             PV                      PVC              PV                                                                            StatefulSet                PV                       PV             StorageClass     Provisioner     StorageClass                                nfs              nfs client               Provisioner                nfs                         PV        PV    namespace    pvcName    pvName            NFS                   PV       archieved   namespace    pvcName    pvName           NFS            nfs client              nfs                       10 151 30 57         data k8s            nfs client             nfs client                    Deployment                   nfs    nfs client yaml  kind  Deployment apiVersion  extensions v1beta1 metadata  name  nfs client provisioner spec  replicas  1 strategy  type  Recreate template  metadata  labels  app  nfs client provisioner spec  serviceAccountName  nfs client provisioner containers  name  nfs client provisioner image  quay io external_storage nfs client provisioner latest volumeMounts  name  nfs client root mountPath   persistentvolumes env  name  PROVISIONER_NAME value  fuseim pri ifs name  NFS_SERVER value  10 151 30 57 name  NFS_PATH value   data k8s volumes  name  nfs client root nfs  server  10 151 30 57 path   data k8s           NFSSERVER   NFSPATH             nfs                      nfs client provisioner  serviceAccount             sa             nfs client sa yaml  apiVersion  v1 kind  ServiceAccount metadata  name  nfs client provisioner kind  ClusterRole apiVersion  rbac authorization k8s io v1 metadata  name  nfs client provisioner runner rules  apiGroups       resources    persistentvolumes   verbs    get    list    watch    create    delete   apiGroups       resources    persistentvolumeclaims   verbs    get    list    watch    update   apiGroups    storage k8s io   resources    storageclasses   verbs    get    list    watch   apiGroups       resources    events   verbs    list    watch    create    update    patch   apiGroups       resources    endpoints   verbs    create    delete    get    list    watch    patch    update   kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1 metadata  name  run nfs client provisioner subjects  kind  ServiceAccount name  nfs client provisioner namespace  default roleRef  kind  ClusterRole name  nfs client provisioner runner apiGroup  rbac authorization k8s io             nfs client provisioner  ServiceAccount           nfs client provisioner runner  ClusterRole   ClusterRole              persistentvolumes                     ServiceAccount      PV      nfs client   Deployment                 StorageClass     nfs client class yaml  apiVersion  storage k8s io v1 kind  StorageClass metadata  name  course nfs storage provisioner  fuseim pri ifs   choose name  match deployment s env PROVISIONER_NAME            course nfs storage  StorageClass        provisioner           Deployment    PROVISIONER_NAME                               kubectl create  f nfs client yaml   kubectl create  f nfs client sa yaml   kubectl create  f nfs client class yaml                 kubectl pods NAME READY STATUS RESTARTS AGE     nfs client provisioner 7648b664bc 7f9pk 1 1 Running 0 7h       kubectl storageclass NAME PROVISIONER AGE course nfs storage fuseim pri ifs 11s    StorageClass    StorageClass                            PV        PVC     test pvc yaml  kind  PersistentVolumeClaim apiVersion  v1 metadata  name  test pvc spec  accessModes  ReadWriteMany resources  requests  storage  1Mi          PVC      ReadWriteMany          1Mi                 PVC              StorageClass                       PVC              PV                     PV                        StorageClass                 PV           PVC         StorageClass                annotations         kind  PersistentVolumeClaim apiVersion  v1 metadata  name  test pvc annotations  volume beta kubernetes io storage class   course nfs storage  spec  accessModes  ReadWriteMany resources  requests  storage  1Mi                course nfs storage   StorageClass   Kubernetes              kubectl patch         kubectl patch storageclass course nfs storage  p    metadata     annotations    storageclass kubernetes io is default class   true                                                          kubectl create  f test pvc yaml persistentvolumeclaim  test pvc  created   kubectl pvc NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE     test pvc Bound pvc 73b5ffd2 8b4b 11e8 b585 525400db4df7 1Mi RWX course nfs storage 2m                test pvc   PVC              Bound              VOLUME           STORAGECLASS                    StorageClass   course nfs storage        PV        kubectl pv NAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGE     pvc 73b5ffd2 8b4b 11e8 b585 525400db4df7 1Mi RWX Delete Bound default test pvc course nfs storage 8m                       PV         RWX       Delete    PV                         StorageClass             StorageClass                                    StorageClass       PV",
        "objectID": "post/kubernetes 数据持久化(二)",
        "subtitle": "StorageClass 的使用",
        "date": "2018-07-19T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "pv",
            "pvc",
            "nfs",
            "StorageClass"
        ],
        "keywords": [
            "kubernetes",
            "pv",
            "pvc",
            "nfs",
            "StorageClass",
            "持久化",
            "存储",
            "StatefulSet"
        ],
        "slug": "kubernetes-persistent-volume2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1531902118092-4d55c50cc5fa.jpeg",
                "desc": "StorageClass"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 日志收集方案",
        "uri": "post/kubernetes 日志收集方案",
        "content": "kubernetes                     EFK                     Log Service    Log                                                                                    DT                         ELK  EFK          ElasticSearch                                                                     ES             ElasticSearch                              Kubernetes                                     Project  k8slog project       Agent           fluentd     curl http   aliacs k8s oss aliyuncs com conf 2Flogging 2Ffluentd pilot yml   fluentd pilot yml    yaml       env                FLUENTDOUTPUT      aliyunsls                  ALIYUNSLS_PROJECT                  project     ALIYUNSLSREGIONENDPOINT                                                       ALIYUNSLSACCESSKEY_ID           accesskeyid  ALIYUNSLSACCESSKEY_SECRET           accesskeysecret  ALIYUNSLSNEEDCREATE_LOGSTORE    Logstore              true         apiVersion  extensions v1beta1 kind  DaemonSet metadata  name  fluentd pilot namespace  kube system labels  k8s app  fluentd pilot kubernetes io cluster service   true  spec  template  metadata  labels  k8s app  fluentd es kubernetes io cluster service   true  version  v1 22 annotations  scheduler alpha kubernetes io critical pod     scheduler alpha kubernetes io tolerations      key    node alpha kubernetes io ismaster    effect    NoSchedule     spec  containers  name  fluentd pilot image  registry cn hangzhou aliyuncs com wangbs fluentd pilot latest resources  limits  memory  200Mi requests  cpu  100m memory  200Mi env  name   FLUENTD_OUTPUT  value   aliyun_sls  name   ALIYUNSLS_PROJECT  value   k8slog project  name   ALIYUNSLSREGIONENDPOINT  value   cn shanghai log aliyuncs com  name   ALIYUNSLSACCESSKEY_ID  value   xxxxxxx  name   ALIYUNSLSACCESSKEY_SECRET  value   xxxxxx  name   ALIYUNSLSNEEDCREATE_LOGSTORE  value   true  volumeMounts  name  sock mountPath   var run docker sock name  root mountPath   host readOnly  true terminationGracePeriodSeconds  30 volumes  name  sock hostPath  path   var run docker sock name  root hostPath  path                     kubectl ds  n kube system NAME DESIRED CURRENT READY UP TO DATE AVAILABLE NODE SELECTOR AGE fluentd pilot 4 4 4 4 4 5h           Fluentd                          aliyunlogsfluentd stdout                 fluentd           Project  Logstore     Logstore                   Logstore stdout                                    Fluentd pilot              kubedns         aliyunlogskubedns stuout     kubedns                                  EFK    TODO",
        "objectID": "post/kubernetes 日志收集方案",
        "date": "2017-11-22T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ElasticSearch",
            "阿里云"
        ],
        "slug": "kubernetes-logs-collect",
        "keywords": [
            "kubernetes",
            "EFK",
            "ElasticSearch",
            "Kibana",
            "Fluentd",
            "阿里云"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23734057_146614452628759_6006637352594702336_n.jpg",
                "desc": "Cherish all moments."
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes 服务质量 Qos 解析",
        "uri": "post/kubernetes 服务质量",
        "content": "QoS  Quality Service                                    kubernetes               QoS Quality Service    pod               pod                   CPU                 kubernetes            QoS           QoS     Guaranteed Burstable   Best Effort            Guaranteed             pod       Pod             CPU      limits pod           CPU      requests   limits         requests  limits requests   0  pod            limits  containers  name  foo resources  limits  cpu  10m memory  1Gi name  bar resources  limits  cpu  100m memory  100Mi pod            requests   limits        requests  limits  containers  name  foo resources  limits  cpu  10m memory  1Gi requests  cpu  10m memory  1Gi name  bar resources  limits  cpu  100m memory  100Mi requests  cpu  100m memory  100Mi   foo bar resources requests limits     pod QoS    Guaranteed  Burstable       pod         requests limits        pod QoS  Burstable    foo   resource    bar     containers  name  foo resources  limits  cpu  10m memory  1Gi requests  cpu  10m memory  1Gi name  bar   foo     limits    bar   CPU limits  containers  name  foo resources  limits  memory  1Gi name  bar resources  limits  cpu  100m          requests    limits  limits      resource           limits    requests  requests    limits  Best Effort          Pod      resources    requests limits  pod QoS  Best Effort    foo   bar    requests limits  containers  name  foo resources  name  bar resources    QoS         Kubernetes   cgroup pod  QoS          kill      pod            OOM       OOM      0 1000 OOM      OOM_ADJ          Guaranteed    Pod OOMADJ       998   Best Effort    Pod OOMADJ      1000   Burstable    Pod OOM_ADJ     2 999     kuberntes        kubelet docker OOMADJ       999      OOM kill  OOMADJ             OOM        pod                   kill    OOM_ADJ    999   kubernetes      OOM  kill   QoS pods kill       Best Effort pods                pods     kill   Burstable pods               Best Effort          kill        pods    kill    Guaranteed pods               Burstable   Best Effort          kill        pods    kill    QoS               QoS pods       Guaranteed                                                   Guaranteed                  Burstable Best Effort                                    Docker   Kubernetes                  k8s                                       kubernetes",
        "objectID": "post/kubernetes 服务质量",
        "subtitle": "Pod 资源 requests 和 limits 如何配置?",
        "date": "2018-09-07T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Qos"
        ],
        "keywords": [
            "kubernetes",
            "Qos"
        ],
        "slug": "kubernetes-qos-usage",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1536236155319-1edab471917c.jpeg",
                "desc": "Studio, Warsaw"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 下实现socket.io 的集群模式",
        "uri": "post/kubernetes 集群下实现socket.io 的集群模式",
        "content": "socket io                                                                                             kubernetes          socket io                 https   github com cnych k8s socketio cluster demo                        kubernetes                     POD         socket io                  POD                                                         POD                    POD                                            Session ID                           socket io                       Nginx ip_hash            ip        hash                                         kubernetes        traefik ingress                          Nginx                                             sessionAffinity               sessionAffinity    sessionAffinity                                           kubernetes   sessionAffinity          Service       service spec sessionAffinity    ClientIP       sessionAffinity None                     ClientIP      ip_hash              traefik ingress       Service     traefik annotation  apiVersion  v1 kind  Service metadata  name  socket demo namespace  kube apps annotations  traefik backend loadbalancer stickiness   true  traefik backend loadbalancer stickiness cookieName   socket  labels  k8s app  socket demo spec  sessionAffinity   ClientIP  ports  name  socketio port  80 protocol  TCP targetPort  3000 selector  k8s app  socket demo      annotations sessionAffinity                socket io                     hostname                       IP                   sessionAffinity                                                         hostname                POD                                              socket io                multiple Socket IO nodes accepting connections  want broadcast events everyone  or even everyone certain room  you ll need passing messages processes computers    interface charge routing messages call Adapter  implement own top socket io adapter  by inheriting it  use one provide top Redis  socket io redis  var io   require  socket io   3000   var redis   require  socket io redis    io adapter redis   host   localhost   port  6379                                            socket io adapter         socket io redis        socket io redis   adapter                      const express   require  express    const socketRedis   require  socket io redis    const os   require  os    const app   express    const http   require  http   Server app   const io   require  socket io   http   const port   process env PORT    3000  app use express static __dirname     static     app engine  html   require  ejs   renderFile   app set  view engine    html    app get      function  req  res    res render  index      os   os hostname           function onConnection socket   socket on  drawing    data     socket broadcast emit  drawing   data      io adapter socketRedis  host   redis   port  6379     io on  connection   onConnection   http listen port        console log  listening port     port       kubernetes    yaml      apiVersion  extensions v1beta1 kind  Deployment metadata  name  socket demo namespace  kube apps labels  k8s app  socket demo spec  replicas  3 template  metadata  labels  k8s app  socket demo spec  containers  image  cnych socketdemo k8s imagePullPolicy  Always name  socketdemo ports  containerPort  3000 protocol  TCP resources  limits  cpu  100m memory  100Mi requests  cpu  50m memory  50Mi apiVersion  v1 kind  Service metadata  name  socket demo namespace  kube apps annotations  traefik backend loadbalancer stickiness   true  traefik backend loadbalancer stickiness cookieName   socket  labels  k8s app  socket demo spec  sessionAffinity  None ports  name  socketio port  80 protocol  TCP targetPort  3000 selector  k8s app  socket demo                                     kubernetes     socket io            traefik backend loadbalancer stickiness cookieName                                                     socket io          polling         socket io          trasports   polling    websocket     sessionAffinity   traefik  cookieName                      sessionAffinity   None     traefik annotaions       socket io redis          join leave          adapter   remoteJoin remoteLeave                                      traefik sticky sessions kubernetes service socket io docs socket io redis               k8s                                       kubernetes",
        "objectID": "post/kubernetes 集群下实现socket.io 的集群模式",
        "date": "2017-11-21T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "socket.io",
            "cluster"
        ],
        "keywords": [
            "kubernetes",
            "socket.io",
            "cluster",
            "集群",
            "nodejs"
        ],
        "slug": "socketio-multiple-nodes-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23498828_2151213871773296_819155850823204864_n.jpg",
                "desc": "A pal and a skateboard and headed outside in South Australia."
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes使用Prometheus搭建监控平台",
        "uri": "post/Kubernetes使用Prometheus搭建监控平台",
        "content": "Kubernetes                                                          Dashboard                                           Pod          Kubernetes          influxdb grafana heapster                    Prometheus         Prometheus   k8s                     Kubernetes                k8s                                       kubernetes            Prometheus    Prometheus SoundCloud                 Google           Google Kubernetes             influxdb                                                              metrics            Prometheus              Prometheus       ConfigMap      Prometheus         apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   kubernetes nodes cadvisor  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  api_servers   https   10 43 0 1  in_cluster  true role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  4194  targetlabel  address_ job_name   kubernetes apiserver cadvisor  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  api_servers   https   10 43 0 1  in_cluster  true role  apiserver relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  10255  targetlabel  address_ job_name   kubernetes node exporter  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  api_servers   https   10 43 0 1  in_cluster  true role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  31672  targetlabel  address_           prometheus config yaml           kubectl create  f prometheus config yaml     job_name kubernetes apiserver cadvisor   10250     10255 10255   kubelet   metrics        curl     curl http    10255 metrics job_name kubernetes nodes cadvisor   10250     4194 4194   kubernetes           k8s 1 7      10255       1 7   cadvisor          kubelet                job_name kubernetes node exporter   10250    31672     node exporter   NodePort                    node exporter                       DaemonSet     PODS  apiVersion  extensions v1beta1 kind  DaemonSet metadata  name  node exporter namespace  kube ops labels  k8s app  node exporter spec  template  metadata  labels  k8s app  node exporter spec  containers  image  prom node exporter name  node exporter ports  containerPort  9100 protocol  TCP name  http apiVersion  v1 kind  Service metadata  labels  k8s app  node exporter name  node exporter namespace  kube ops spec  ports  name  http port  9100 nodePort  31672 protocol  TCP type  NodePort selector  k8s app  node exporter         node exporter yaml           kubectl create  f node exporter yaml      Deployment  Prometheus yaml      apiVersion  extensions v1beta1 kind  Deployment metadata  labels  name  prometheus deployment name  prometheus namespace  kube ops spec  replicas  1 template  metadata  labels  app  prometheus spec  containers  image  prom prometheus v1 0 1 name  prometheus command    bin prometheus  args    config file  etc prometheus prometheus yml    storage local path  prometheus    storage local retention 24h  ports  containerPort  9090 protocol  TCP volumeMounts  mountPath    prometheus  name  data subPath  prometheus mountPath    etc prometheus  name  config volume resources  requests  cpu  100m memory  100Mi limits  cpu  200m memory  1Gi volumes  name  data emptyDir     configMap  name  prometheus config name  config volume         prometheus deploy yaml           kubectl create  f prometheus deploy yaml              Prometheus UI        kubectl port forward           POD kubectl pod  l app prometheus  n kube ops  o go template   template    range  items     metadata name    end      kubectl port forward  POD 9090 9090         http   localhost 9090      Prometheus           ingress      yaml      apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik default ingress annotations  kubernetes io ingress class   traefik  spec  tls  secretName  traefik ssl rules  host  prometheus local           http  paths  path    backend  serviceName  prometheus servicePort  9090         prometheus ingress yaml           kubectl create  f prometheus ingress yaml          traefik                 Status   targets                   targets                            Prometheus   API ",
        "objectID": "post/Kubernetes使用Prometheus搭建监控平台",
        "slug": "kubernetes-monitor-prometheus-grafana",
        "date": "2017-10-17T00:00:00.000Z",
        "publishdate": "2017-10-17T00:00:00.000Z",
        "keywords": [
            "kubernetes",
            "监控",
            "prometheus",
            "grafana",
            "influxdb"
        ],
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana",
            "influxdb"
        ],
        "bigimg": [
            {
                "src": "/img/posts/k8s-prometheus-grafana-cover.png",
                "desc": ""
            }
        ],
        "category": "kubernetes",
        "gitcomment": true
    },
    {
        "title": "Kubernetes API 资源使用",
        "uri": "post/Kubernetes的API应该用哪个组和版本",
        "content": "Kubernetes       API                                     CLI  REST API                    API                                                                       YAML       Deployment                     apiVersion  apps v1beta2 apiVersion  apps v1                                     Kubernetes             kubectl                        https   akomljen com kubernetes api resources which group and version to use  API Resources               Kubernetes        API       kubectl api resources  o wide NAME SHORTNAMES APIGROUP NAMESPACED KIND VERBS bindings true Binding  create  componentstatuses cs false ComponentStatus  get list  configmaps cm true ConfigMap  create delete deletecollection list patch update watch  endpoints ep true Endpoints  create delete deletecollection list patch update watch  events ev true Event  create delete deletecollection list patch update watch  limitranges limits true LimitRange  create delete deletecollection list patch update watch  namespaces ns false Namespace  create delete list patch update watch  nodes no false Node  create delete deletecollection list patch proxy update watch  persistentvolumeclaims pvc true PersistentVolumeClaim  create delete deletecollection list patch update watch  persistentvolumes pv false PersistentVolume  create delete deletecollection list patch update watch  pods po true Pod  create delete deletecollection list patch proxy update watch  podtemplates true PodTemplate  create delete deletecollection list patch update watch  replicationcontrollers rc true ReplicationController  create delete deletecollection list patch update watch  resourcequotas quota true ResourceQuota  create delete deletecollection list patch update watch  secrets true Secret  create delete deletecollection list patch update watch  serviceaccounts sa true ServiceAccount  create delete deletecollection list patch update watch  services svc true Service  create delete list patch proxy update watch  mutatingwebhookconfigurations admissionregistration k8s io false MutatingWebhookConfiguration  create delete deletecollection list patch update watch  validatingwebhookconfigurations admissionregistration k8s io false ValidatingWebhookConfiguration  create delete deletecollection list patch update watch  customresourcedefinitions crd apiextensions k8s io false CustomResourceDefinition  create delete deletecollection list patch update watch  apiservices apiregistration k8s io false APIService  create delete deletecollection list patch update watch  controllerrevisions apps true ControllerRevision  create delete deletecollection list patch update watch  daemonsets ds apps true DaemonSet  create delete deletecollection list patch update watch  deployments deploy apps true Deployment  create delete deletecollection list patch update watch  replicasets rs apps true ReplicaSet  create delete deletecollection list patch update watch  statefulsets sts apps true StatefulSet  create delete deletecollection list patch update watch               1 11 0        kubectl      api resources                     SHORTNAMES              deployments      deploy             kubectl     APIGROUP                              yaml       apiVersion  v1 KIND        VERBS               ClusterRole RBAC                   API    API          kubectl api resources   api group apps  o wide NAME SHORTNAMES APIGROUP NAMESPACED KIND VERBS controllerrevisions apps true ControllerRevision  create delete deletecollection list patch update watch  daemonsets ds apps true DaemonSet  create delete deletecollection list patch update watch  deployments deploy apps true Deployment  create delete deletecollection list patch update watch  replicasets rs apps true ReplicaSet  create delete deletecollection list patch update watch  statefulsets sts apps true StatefulSet                    kubectl explain                  kubectl explain configmap DESCRIPTION  ConfigMap holds configuration data pods consume  FIELDS  apiVersion APIVersion defines versioned schema representation object  Servers convert recognized schemas latest internal value  may reject unrecognized values  info  https   git k8s io community contributors devel api conventions md resources data Data contains configuration data  key consist alphanumeric characters        _       kind Kind string value representing REST resource object represents  Servers may infer endpoint client submits requests to  Cannot updated  CamelCase  info  https   git k8s io community contributors devel api conventions md types kinds metadata Standard object s metadata  info  https   git k8s io community contributors devel api conventions md metadata   kubectl explain                     YAML                                   explain         group version         api version                explain                   api version          kubectl explain replicaset   api version apps v1 API Versions                        API       kubectl api versions admissionregistration k8s io v1beta1 apiextensions k8s io v1beta1 apiregistration k8s io v1beta1 apps v1 apps v1beta1 apps v1beta2 authentication k8s io v1 authent",
        "objectID": "post/Kubernetes的API应该用哪个组和版本",
        "subtitle": "应该使用哪个 Group 和 Version?",
        "date": "2018-12-07T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "api"
        ],
        "keywords": [
            "kubernetes",
            "api",
            "Group",
            "Version"
        ],
        "slug": "k8s-api-resources-group-and-version",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1543928069-4ce45659e968.jpeg",
                "desc": "API Resource"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes ConfigMap 和 Secrets",
        "uri": "post/kubernetes的ConfigMap和Secret",
        "content": "Token                                            settings py                                                                                                                                     10            A            A             10                                                                                                     Docker       Dockerfile                                                                                          kubernetes                          Gist  https   gist github com cnych d40756ce6e03035551b6a023135a78d9 1                    WEB       TOKEN   LANGUAGE                 hardcode app py     coding  utf 8    flask import Flask  jsonify app   Flask name   app route      def index    TOKEN    abcdefg123456  LANGUAGE    English  return jsonify token TOKEN  lang LANGUAGE  name     main   app run host  0 0 0 0   port 5000             TOKEN    LANGUAGE                                BUG                                2                                                   python     os     getenv         read env app py     coding  utf 8    import os flask import Flask  jsonify app   Flask name   app route      def index    TOKEN   os getenv  TOKEN       LANGUAGE   os getenv  LANGUAGE       return jsonify token TOKEN  lang LANGUAGE  name     main   app run host  0 0 0 0   port 5000                                       Unix    MacOS Linux                                export TOKEN abcdefg0000   export LANGUAGE English    Windows             cmd                       setx TOKEN  abcdefg0000  setx LANGUAGE  English                                  flask               TOKEN abcdefg0000 LANGUAGE English python read env app py Running http   0 0 0 0 5000   Press CTRL C quit  127 0 0 1      10 Feb 2018 15 15 14   GET   HTTP 1 1  200               http   127 0 0 1 5000                  lang    English    token    abcdefg0000                         3     Docker                                                                                       Docker                     Dockerfile          ENV              python 3 6 4        RUN mkdir  p  usr src app WORKDIR  usr src app      RUN pip install flask      ADD    usr src app        ENV TOKEN abcdefg0000 ENV LANGUAGE English      EXPOSE 5000      CMD python read env app py          Dockerfile    read env app py                      docker build  t cnych envtest                  cnych envtest            docker run   name envtest   rm  p 5000 5000  it cnych envtest Running http   0 0 0 0 5000   Press CTRL C quit              e              docker run   name envtest   rm  e TOKEN abcdefg88888  e LANGUAGE English  p 5000 5000  it cnych envtest Running http   0 0 0 0 5000   Press CTRL C quit             http   127 0 0 1 5000                             lang    English    token    abcdefg88888    4     Kubernetes              Kubernetes                      Kubernetes Deployment        Docker             Deployment    A B         Deployment                 Dockerfile          Kubernetes Deployment  YAML                      Deployment             read env yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  envtest labels  name  envtest spec  replicas  1 template  metadata  labels  name  envtest spec  containers  name  envtest image  cnych envtest ports  containerPort  5000 env  name  TOKEN value   abcd123456  name  LANGUAGE value   English        POD   env                                  TOKEN   LANGUAGE         5     Kubernetes   Secrets   ConfigMap      Docker Kubernetes                                                  Deployment                     Deployment                     Kubernetes    Secrets            ConfigMap                              Secret   ConfigMap           Secret      Base64                                 API      Secret                                ConfigMap             TOKEN     Secret    kubectl create secret generic token   from literal TOKEN abcd123456000     LANGUAGE       ConfigMap    kubectl create configmap language   from literal LANGUAGE English                    Secret   ConfigMap    kubectl secret NAME TYPE DATA AGE default token 6s2bc kubernetes io service account token 3 42d token Opaque 1 1m   kubectl configmap NAME DATA AGE language 1 1m             Kubernetes Demployment   YAML     final read env yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  envtest labels  name  envtest spec  replicas  1 template  metadata  labels  name  envtest spec  containers  name  envtest image  cnych envtest ports  containerPort  5000 env  name  TOKEN valueFrom  secretKeyRef  name  token key  TOKEN name  LANGUAGE valueFrom  configMapKeyRef  name  language key  LANGUAGE           env        secret   ConfigMap      6     Secret   ConfigMap              Kubernetes                                              POD                                                   Secret    ConfigMap    kubectl create configmap language   from literal LANGUAGE Chinese  o yaml   dry run   kubectl replace  f   configmap  language  replaced   kubectl create secret generic token   from literal TOKEN bbbbb123456  o yaml   dr",
        "objectID": "post/kubernetes的ConfigMap和Secret",
        "subtitle": "快速了解 kubernetes 中 ConfigMap 和 Secrets 的用法",
        "date": "2018-02-10T00:00:00.000Z",
        "publishdate": "2017-01-18T00:00:00.000Z",
        "keywords": [
            "kubernetes",
            "ConfigMap",
            "Secretes",
            "使用"
        ],
        "tags": [
            "kubernetes",
            "ConfigMap",
            "Secretes"
        ],
        "slug": "understand-kubernetes-configmap-and-secrets",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1470328358326-dee4879da669.jpeg",
                "desc": "Forest bride in flowing dress"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 的资源配额控制器",
        "uri": "post/kubernetes的资源配额控制器",
        "content": "kubernetes       namespace           namespace                                               kubernetes                           ResourceQuotaController                                                                               kubernetes   3                   CPU   Memory      POD       POD               Namespace                                      Docker   CPU        POD             POD                 CPU memory    Namespace                    CPU          POD RC Service                   apiserver   admission control     ResourceQuota   namespace       ResourceQuota      namespace                            namespace           ResourceQuota     ResourceQuotaController                                                                               namespace              ResourceQuotaController                                                                                    cpu            POD     CPU                limits cpu            POD     CPU                memory            POD                     limits memory            POD                     requests cpu            POD     CPU                requests memory            POD                           cat compute resources yaml apiVersion  v1 kind  ResourceQuota metadata  name  compute resources namespace  myspace spec  hard  requests cpu   1  requests memory  1Gi limits cpu   2  limits memory  2Gi EOF   kubectl create  f compute resources yaml                ResourceQuota      kubectl describe quota compute resources  n myspace Name  compute resources Namespace  myspace Resource Used Hard limits cpu 0 2 limits memory 0 2Gi requests cpu 0 1 requests memory 0 1Gi               namespace           cpu   memory                        request       limit           Pod                         yaml            admission control      LimitRanger  apiVersion  v1 kind  LimitRange metadata  name  limits spec  limits  default  cpu  200m memory  200Mi type  Container                namespace                             Storage Class                                                                                                                       requests storage       PVC                     persistentvolumecliaims   namespace       PVC         storageclass storage k8s io requests storage       storage class name     PVC                       storageclass storage k8s io persistentvolumeclaims   namespace        storage class name     PVC                                                                                                                              configmaps   namespace        configmap         persistentvolumeclaims   namespace        PVC         pods   namespace              POD       POD   status phase   Failed   Succeeded               replicationcontrollers   namespace        replication controllers         resourcequotas   namespace        resource quotas         services   namespace       service        services loadbalancers   namespace        load balancer     service         services nodeports   namespace        node port     service         secrets   namespace        secret               cat object counts yaml apiVersion  v1 kind  ResourceQuota metadata  name  object counts namespace  myspace spec  hard  pods   40  configmaps   10  replicationcontrollers   20  secrets   10  services   10  services nodeports   2  EOF   kubectl create  f object counts yaml                      kubectl describe quota object counts  n myspace Name  object counts Namespace  myspace Resource Used Hard configmaps 0 10 pods 0 40 replicationcontrollers 0 20 secrets 1 10 services 0 10 services nodeports 0 2                      scope                                                                                                                                                              Terminating      spec activeDeadlineSeconds    0   POD     NotTerminating      spec activeDeadlineSeconds nil   POD     BestEffort          best effort       POD     NotBestEffort           best effort       POD     BestEffort                PODS Terminating  NotTerminating   NotBestEffort           cpu limits cpu limits memory memory pods requests cpu requests memory          CPU       namespace                                                                                                                      https   kubernetes io docs tasks administer cluster quota memory cpu namespace  https   kubernetes io docs tasks administer cluster quota api object                Kubernetes                k8s                                       kubernetes",
        "objectID": "post/kubernetes的资源配额控制器",
        "date": "2018-03-23T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "resource",
            "quato"
        ],
        "keywords": [
            "kubernetes",
            "resource",
            "quato",
            "资源配额"
        ],
        "slug": "kubernetes-resource-quota-usage",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1517965319782-7b911f164cc2.jpeg",
                "desc": "Alabama Hills@United States"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes 调度器介绍",
        "uri": "post/kubernetes调度器介绍",
        "content": "kube scheduler  kubernetes                                          Pod                                             kubernetes                                                         kube scheduler                                                        Pod                                       kubernetes                      Pod                                                    kube scheduler   kubernetes                              Pod        Node                            API Server     PodSpec NodeName     Pod     Pod        binding                                                                                                                                    Pod                                                     kubernetes                                                     kubernetes       kubernetes          kubernetes pkg scheduler                                   kubernetes pkg scheduler    scheduler go                 algorithm       predicates                priorities              algorithmprovider       defaults               Scheduler                   pkg scheduler scheduler go      kube scheduler             cmd kube scheduler scheduler go                                          Predicates                          Priorities                                     Predicates                                               Node                                 Pod        Pending                                                   Pod      Pending                                        Priorities                                           priorites                           Pod                                         API Server   REST API    kubectl      Pod    API Server                 etcd            API Server       bind   Pod             Pod                                   Predicates                         Node       Pod        request         Pod                        Priorities                       Node                            Deployment       Pod                                             Node     Pod    binding             etcd            Node       kubelet        Pod         Predicates                          PodFitsResources              Pod       PodFitsHost    Pod     NodeName           NodeName    PodFitsHostPorts          port     Pod     port    PodSelectorMatches      Pod     label        NoDiskConflict     mount    volume   Pod      volume               CheckNodeDiskPressure                 CheckNodeMemoryPressure                                                  k8s io kubernetes pkg scheduler algorithm predicates predicates go   Priorities                                                         LeastRequestedPriority      CPU                                                  Pod           SelectorSpreadPriority                 Deployment    RC       Pod                      Pod               Pod     controller       controller         Pod    Pod           ImageLocalityPriority                                       NodeAffinityPriority                                                                        k8s io kubernetes pkg scheduler algorithm priorities                      0 10                                                     finalScoreNode    weight1   priorityFunc1     weight2   priorityFunc2         weightn   priorityFuncn             kube scheduler                                            kube scheduler             policy config file                            Predicates Priority                                                        Policy          kind     Policy    apiVersion     v1    predicates        name     PodFitsHostPorts      name     PodFitsResources      name     NoDiskConflict      name     NoVolumeZoneConflict      name     MatchNodeSelector      name     HostName       priorities        name     LeastRequestedPriority    weight    1     name     BalancedResourceAllocation    weight    1     name     ServiceSpreadingPriority    weight    1     name     EqualPriority    weight    1                                                                podSpec schedulerName                          apiVersion  v1 kind  Pod metadata  name  nginx labels  app  nginx spec  schedulerName  my scheduler              my scheduler containers  name  nginx image  nginx 1 10                            my scheduler            API       Pod     phase Pending schedulerName my scheduler pod      Pod                    Binding                                                       Priorities                                 pod priority     Pod            Pod                          Pod        Pod               Pod           PriorityClass         Namespace      apiVersion  v1 kind  PriorityClass metadata  name  high priority value  1000000 globalDefault  false description   This priority class used XYZ service pods only       value  32                    globalDefault      PriorityClassName   Pod            PriorityClass      true       Pod  spec priorityClassName       PriorityClass      apiVersion  v1 kind  Pod metadata  name  nginx labels  app  nginx spec  containers  name  nginx ima",
        "objectID": "post/kubernetes调度器介绍",
        "subtitle": "kubernetes 核心组件 kube-scheduler 调度流程和策略分析",
        "date": "2018-10-11T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "scheduler",
            "调度"
        ],
        "keywords": [
            "kubernetes",
            "scheduler",
            "亲和性",
            "调度",
            "affinity"
        ],
        "slug": "kube-scheduler-introduction",
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "Mac 下安装 cryptography 失败",
        "uri": "post/Mac 下安装 cryptography 失败问题",
        "content": "Mac    cryptography            openssl opensslv h  file not found       pip install cryptography     building  _openssl  extension cc  fno strict aliasing  fno common  dynamic  arch i386  arch x8664  g  Os  pipe  fno common  fno strict aliasing  fwrapv  DENABLEDTRACE  DMACOSX  DNDEBUG  Wall  Wstrict prototypes  Wshorten 64 to 32  DNDEBUG  g  fwrapv  Os  Wall  Wstrict prototypes  DENABLEDTRACE  arch i386  arch x8664  pipe  I System Library Frameworks Python framework Versions 2 7 include python2 7  c build temp macosx 10 12 intel 2 7 openssl c  o build temp macosx 10 12 intel 2 7 build temp macosx 10 12 intel 2 7 openssl o build temp macosx 10 12 intel 2 7 _openssl c 434 10  fatal error   openssl opensslv h  file not found  include   1 error generated  error  command  cc  failed exit status 1            openssl         brew          brew install openssl                                       openssl         env LDFLAGS   L  brew   prefix openssl  lib  CFLAGS   I  brew   prefix openssl  include  pip install cryptography",
        "objectID": "post/Mac 下安装 cryptography 失败问题",
        "date": "2018-07-05T00:00:00.000Z",
        "tags": [
            "mac",
            "python"
        ],
        "keywords": [
            "mac",
            "python",
            "pip",
            "cryptography"
        ],
        "slug": "install-cryptography-failed-in-mac",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1530636100082-7781dfaa6ab3.jpeg",
                "desc": "Eagle on the Way"
            }
        ],
        "category": "python"
    },
    {
        "title": "Memcached的一些坑!!!",
        "uri": "post/Memcached的一些坑",
        "content": "django                                     502                                                                                                   API   15             API                                      API             2M   Memcache          value                                 Memcached          Memcached      item                 Memcached          2G                    Memcached     30                           REALTIME_MAXDELTA 606024 30        250               KEYMAXLENGTH 250                  item     1MB   1MB         POWER_BLOCK 1048576          slab                 I 10m            128M         200   conn_init    freetotal            1024   settings maxconns 1024                 settings factor 1 25  settings chunk_size 48    slab           memcached       socket         libevent                       memcached                                        memcached                                                          item           10m                                                                              1m                        memcached       C              memcached  d  m 2048  l 10 0 0 40  p 11211  d  memcached             m                    M  2048  2 G     l     IP         localhost  p           11211",
        "objectID": "post/Memcached的一些坑",
        "date": "2014-05-28T00:00:00.000Z",
        "tags": [
            "django",
            "Memcached"
        ],
        "slug": "some-pits-of-memcached",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Nginx中如何设置301跳转",
        "uri": "post/nginx中设置301跳转",
        "content": "www                    SEO                                                DNS                     dnspod                                                        301   301      302        nginx        nginx   301       server   listen 80  server_name kuaidiantv com www kuaidiantv com  index index html    host     www kuaidiantv com      rewrite         http   www kuaidiantv com  1 permanent           http   atulhost com 301 redirect in nginx",
        "objectID": "post/nginx中设置301跳转",
        "date": "2016-02-27T21:21:00.000Z",
        "tags": [
            "ops",
            "nginx",
            "301"
        ],
        "slug": "nginx-301-redirect",
        "category": "ops",
        "gitcomment": true
    },
    {
        "title": "Pod 中挂载单个文件的方法",
        "uri": "post/Pod 中挂载单个文件的方法",
        "content": "Pod   volume                                                                                     subPath subPath         Pod        volume                ConfigMap      Nginx        1         nginx conf user nginx  worker_processes 1  error_log  var log nginx error log warn  pid  var run nginx pid  events   worker_connections 1024    http   include  etc nginx mime types  default_type application octet stream  logformat main   remoteaddr    remoteuser   timelocal    request      status  bodybytessent   http_referer       httpuseragent    httpxforwarded_for    access_log  var log nginx access log main  sendfile on   tcp_nopush on  keepalive_timeout 65   gzip on  include  etc nginx conf d   conf    2       ConfigMap      kubectl create configmap confnginx   from file nginx conf 3      nginx   Pod       configmap    nginx conf          nginx yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  ngtest spec  template  metadata  labels  app  nginx spec  containers  name  nginx image  nginx 1 7 9 ports  containerPort  80 volumeMounts  name  nginx config mountPath   etc nginx nginx conf subPath  nginx conf volumes  name  nginx config configMap  name  confnginx 4      Deployment    kubectl apply  f nginx yaml 5              Pod                  kubectl pods NAME READY STATUS RESTARTS AGE     ngtest 7df9b74f98 btlgp 1 1 Running 0 19m                  nginx conf       kubectl exec  it ngtest 7df9b74f98 btlgp  bin bash root ngtest 7df9b74f98 btlgp    ls  etc nginx  conf d koi utf mime types scgi_params win utf fastcgiparams koi win nginx conf uwsgiparams root ngtest 7df9b74f98 btlgp    cat  etc nginx nginx conf user nginx  worker_processes 1  error_log  var log nginx error log warn  pid  var run nginx pid  events   worker_connections 1024    http   include  etc nginx mime types  default_type application octet stream  logformat main   remoteaddr    remoteuser   timelocal    request      status  bodybytessent   http_referer       httpuseragent    httpxforwarded_for    access_log  var log nginx access log main  sendfile on   tcp_nopush on  keepalive_timeout 65  gzip on  include  etc nginx conf d   conf         nginx conf           ConfigMap              6           subPath                 t Model   os ModeDir       subPath                                       func doBindSubPath mounter Interface  subpath Subpath  kubeletPid int   hostPath string  err error           Create target bind mount  directory directories  empty file    everything else  t  err    os Lstat subpath Path  err    nil   return     fmt Errorf  lstat  s failed   s   subpath Path  err    t Mode     os ModeDir   0   err   os Mkdir bindPathTarget  0750   err    nil     os IsExist err    return     fmt Errorf  error creating directory  s   s   bindPathTarget  err      else        bin touch       file enough possible targets  symlink  device  pipe     socket        bind mounting file correctly changes type    target file  err   ioutil WriteFile bindPathTarget    byte    0640   err    nil   return     fmt Errorf  error creating file  s   s   bindPathTarget  err                          Kubernetes                      k8s                                       kubernetes",
        "objectID": "post/Pod 中挂载单个文件的方法",
        "date": "2018-07-24T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod",
            "nginx",
            "configmap"
        ],
        "slug": "pod-mount-single-file",
        "keywords": [
            "kubernetes",
            "Pod",
            "nginx",
            "configmap",
            "subPath",
            "volume"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1532339142463-fd0a8979791a.jpeg",
                "desc": "Chilling in Georgia"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Pod 工作流",
        "uri": "post/pod 工作流程",
        "content": "Pod Kubernetes               Pod              Pod                                   Kubernetes   apiserver           etcd               apiserver        etcd       apiserver                REST API       8080         6443                  apiserver        kube controller manager kube scheduler kubelet   apiserver watch API                              apiserver                    apiserver REST API apiserver watch API     Pod           Pod                   Pod                 Pod                        apiserver REST API    Pod   apiserver            etcd    kube scheduler  apiserver watch API                      Pod        Pod     Node         kube scheduler                      Node     Pod    Node            etcd             Node    kubelet  apiserver watch API        Pod           Pod                 container runtime    Docker        Pod   kubelet    container runtime  Pod         apiserver           etcd            Pod                               apiserver watch API kube scheduler                                 Docker   Kubernetes                  Docker  Kubernetes                 Docker                   Kubernetes       kubeadm       Kubernetes        Kubernetes                         Kubernetes         Kubernetes           Helm                Kubernetes   CI CD                k8s                                       kubernetes",
        "objectID": "post/pod 工作流程",
        "date": "2018-05-15T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod"
        ],
        "keywords": [
            "kubernetes",
            "Pod",
            "workflow",
            "工作流"
        ],
        "slug": "pod-workflow",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1497864149936-d3163f0c0f4b.jpeg",
                "desc": "Coloured pencils"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "初始化容器",
        "uri": "post/Pod 的初始化容器",
        "content": "liveness probe        readiness probe                                                       PostStart   PreStop              Init Container         Init Container                                                     Init Container                    Pod                        Init Container                        Init Container                                                       PreStart           Init Container                                         PostStart PreStop  liveness readiness                 Init Container                  Pod                   Init Container                           Pod      infra                                  Pod      Docker            Pod        pause amd64           infra       Pod                                        Pod                         Pod             infra                                                 Init Container                                 Ready                           Web                                Web                                              Web                           Web     Pod      InitContainer                                                    Web                                                                                                   Pod                                                 Pod      apiVersion  v1 kind  Pod metadata  name  init pod1 labels  app  init spec  containers  name  init container image  busybox command    sh     c    echo app running     sleep 3600   initContainers  name  init myservice image  busybox command    sh     c    until nslookup myservice  echo waiting myservice  sleep 2  done    name  init mydb image  busybox command    sh     c    until nslookup mydb  echo waiting mydb  sleep 2  done               Pod     init pod yaml    kubectl create  f init pod yaml pod  init pod  created   kubectl pod NAME READY STATUS RESTARTS AGE init pod 0 1 Init 0 2 0 26s         STATUS   Init 0 2      describe            kubectl describe pod init pod Name  init pod Namespace  default Node  node01 10 151 30 62 Start Time  Wed  30 May 2018 06 39 51  0800 Labels  app init Annotations  Status  Pending IP  10 244 1 23 Init Containers  init myservice  Container ID  docker   99cf46f0fab3841fe7725b386567d03dbd2f427cff5098116a7e3dafb9830b44 Image  busybox Image ID  docker pullable   busybox sha256 141c253bc4c3fd0a201d32dc1f493bcf3fff003b6df416dea4f41046e0f37d47 Port  Host Port  Command  sh  c until nslookup myservice  echo waiting myservice  sleep 2  done  State  Running Started  Wed  30 May 2018 06 40 03  0800 Ready  False Restart Count  0 Environment  Mounts   var run secrets kubernetes io serviceaccount default token n9w2d  ro  init mydb  Container ID  Image  busybox Image ID  Port  Host Port  Command  sh  c until nslookup mydb  echo waiting mydb  sleep 2  done  State  Waiting Reason  PodInitializing Ready  False Restart Count  0 Environment  Mounts   var run secrets kubernetes io serviceaccount default token n9w2d  ro  Containers  main container  Container ID  Image  busybox Image ID  Port  Host Port  Command  sh  c echo app running     sleep 3600 State  Waiting Reason  PodInitializing Ready  False Restart Count  0 Environment  Mounts   var run secrets kubernetes io serviceaccount default token n9w2d  ro  Conditions  Type Status Initialized False Ready False PodScheduled True Volumes  default token n9w2d  Type  Secret  a volume populated Secret  SecretName  default token n9w2d Optional  false QoS Class  BestEffort Node Selectors  Tolerations  node kubernetes io not ready NoExecute 300s node kubernetes io unreachable NoExecute 300s Events  Type Reason Age Message                               Normal Scheduled 1m default scheduler Successfully assigned init pod node01 Normal SuccessfulMountVolume 1m kubelet  node01 MountVolume SetUp succeeded volume  default token n9w2d  Normal Pulling 1m kubelet  node01 pulling image  busybox  Normal Pulled 1m kubelet  node01 Successfully pulled image  busybox  Normal Created 1m kubelet  node01 Created container Normal Started 1m kubelet  node01 Started container     myservice        init mydb main container    PodInitializing             myservice        init mydb main container           init mydb     main container        Service   YAML    kind  Service apiVersion  v1 metadata  name  myservice spec  ports  protocol  TCP port  80 targetPort  6376 kind  Service apiVersion  v1 metadata  name  mydb spec  ports  protocol  TCP port  80 targetPort  6377    Pod                                                                             Pod restartPolicy                 Pod   restartPolicy     Always Init          RestartPolicy                     Pod      Ready          Pod  Pending          Initializing    true                        Pod  apiVersion  v1 kind  Pod metadata  name  init demo spec  containers  name  nginx image  nginx ports  containerPort  80 volumeMounts  name  workdir mountPath   usr share nginx html initContainers  name  install image  busybox command  wget   O    work dir index html  http   www baidu com volumeMounts  name  workdir mountPath    work dir  volumes  name  workdir emptyDir ",
        "objectID": "post/Pod 的初始化容器",
        "subtitle": "Pod Init Container 详解",
        "date": "2018-05-29T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker"
        ],
        "keywords": [
            "kubernetes",
            "docker"
        ],
        "slug": "pod-init-container",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1520406625550-148d283f3620.jpeg",
                "desc": "Init Container"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus Operator 自定义报警",
        "uri": "post/Prometheus Operator 自定义报警",
        "content": "ServiceMonitor                                   PrometheusRule               ServiceMonitor                                  Prometheus Dashboard   Alert                                                                                   Prometheus           AlertManager         rules           Operator            Prometheus Dashboard   Config          AlertManager      alerting  alertrelabelconfigs  separator    regex  prometheus_replica replacement   1 action  labeldrop alertmanagers  kubernetessdconfigs  role  endpoints namespaces  names  monitoring scheme  http path_prefix    timeout  10s relabel_configs  sourcelabels   metakubernetesservicename  separator    regex  alertmanager main replacement   1 action  keep sourcelabels   metakubernetesendpointport_name  separator    regex  web replacement   1 action  keep rule_files   etc prometheus rules prometheus k8s rulefiles 0   yaml    alertmanagers                   endpoints   kubernetes                     alertmanager main      web   Service          alertmanager main    Service  kubectl describe svc alertmanager main  n monitoring Name  alertmanager main Namespace  monitoring Labels  alertmanager main Annotations  kubectl kubernetes io last applied configuration   apiVersion   v1   kind   Service   metadata    annotations      labels    alertmanager   main    name   alertmanager main   namespace   monitoring       Selector  alertmanager main app alertmanager Type  NodePort IP  10 104 156 29 Port  web 9093 TCP TargetPort  web TCP NodePort  web 31918 TCP Endpoints  10 244 2 34 9093 10 244 2 37 9093 10 244 4 109 9093 Session Affinity  None External Traffic Policy  Cluster Events            alertmanager main Port         web            Prometheus   AlertManager                         etc prometheus rules prometheus k8s rulefiles 0         YAML           Prometheus   Pod              YAML       kubectl exec  it prometheus k8s 0  bin sh  n monitoring Defaulting container name prometheus  Use  kubectl describe pod prometheus k8s 0  n monitoring  containers pod   prometheus   ls  etc prometheus rules prometheus k8s rulefiles 0  monitoring prometheus k8s rules yaml  prometheus   cat  etc prometheus rules prometheus k8s rulefiles 0 monitoring pr ometheus k8s rules yaml groups  name  k8s rules rules  expr    sum rate containercpuusagesecondstotal job  kubelet   image      container_name      5m     namespace  record  namespace containercpuusagesecondstotal sum_rate           YAML                  PrometheusRule          cat prometheus rules yaml apiVersion  monitoring coreos com v1 kind  PrometheusRule metadata  labels  prometheus  k8s role  alert rules name  prometheus k8s rules namespace  monitoring spec  groups  name  k8s rules rules  expr    sum rate containercpuusagesecondstotal job  kubelet   image      container_name      5m     namespace  record  namespace containercpuusagesecondstotal sum_rate       PrometheusRule   name   prometheus k8s rules namespace   monitoring               PrometheusRule               prometheus k8s rulefiles 0              yaml                                 PrometheusRule              Prometheus        PrometheusRule                   prometheus                      ruleSelector      rule               prometheus k8s   role alert rules     PrometheusRule              ruleSelector  matchLabels  prometheus  k8s role  alert rules                           prometheus k8s   role alert rules     PrometheusRule                  etcd              etcd                                      etcd                     prometheus etcdRules yaml  apiVersion  monitoring coreos com v1 kind  PrometheusRule metadata  labels  prometheus  k8s role  alert rules name  etcd rules namespace  monitoring spec  groups  name  etcd rules  alert  EtcdClusterUnavailable annotations  summary  etcd cluster small description  one etcd peer goes down cluster will unavailable expr    count up job  etcd      0     count up job  etcd      2   1  for  3m labels  severity  critical    label          prometheus k8s   role alert rules                    rules      kubectl exec  it prometheus k8s 0  bin sh  n monitoring Defaulting container name prometheus  Use  kubectl describe pod prometheus k8s 0  n monitoring  containers pod   prometheus   ls  etc prometheus rules prometheus k8s rulefiles 0  monitoring etcd rules yaml monitoring prometheus k8s rules yaml           rule              rulefiles                           Prometheus Dashboard   Alert                                                                                      AlertManager                         Operator     alertmanager                             alertmanager main    Service    NodePort     Service                status        AlertManager                          prometheus operator contrib kube prometheus manifests        alertmanager secret yaml     apiVersion  v1 data  alertmanager yaml  Imdsb2JhbCI6IAogICJyZXNvbHZlX3RpbWVvdXQiOiAiNW0iCiJyZWNlaXZlcnMiOiAKLSAibmFtZSI6ICJudWxsIgoicm91dGUiOiAKICAiZ3JvdXBfYnkiOiAKICAtICJqb2IiCiAgImdyb3VwX2ludGVydmFsIjogIjVtIgogICJncm91cF93YWl0IjogIjMwcyIKICAicmVjZWl2ZXIiOiAibnVsbCI",
        "objectID": "post/Prometheus Operator 自定义报警",
        "date": "2018-12-19T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "operator",
            "alertmanager"
        ],
        "slug": "prometheus-operator-custom-alert",
        "keywords": [
            "kubernetes",
            "prometheus",
            "operator",
            "alertmanager",
            "prometheus-operator",
            "钉钉"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://ws3.sinaimg.cn/large/006tNbRwgy1fyddbmv3d9j31dq0ryn8g.jpg",
                "desc": ""
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus Operator 高级配置",
        "uri": "post/Prometheus Operator 高级配置",
        "content": "Prometheus Operator                                                          Kubernetes          Service Pod                      ServiceMonitor                                         Prometheus Operator                                                                      Prometheus Operator             prometheus io scrape true   annotations   Service         Prometheus        job_name   kubernetes service endpoints  kubernetessdconfigs  role  endpoints relabel_configs  sourcelabels   metakubernetesserviceannotationprometheusio_scrape  action  keep regex  true sourcelabels   metakubernetesserviceannotationprometheusio_scheme  action  replace targetlabel  scheme_ regex   https   sourcelabels   metakubernetesserviceannotationprometheusio_path  action  replace targetlabel  metricspath regex       sourcelabels   address  _metakubernetesserviceannotationprometheusioport  action  replace targetlabel  address_ regex          d      d   replacement   1  2 action  labelmap regex  metakubernetesservicelabel     sourcelabels   metakubernetes_namespace  action  replace targetlabel  kubernetesnamespace sourcelabels   metakubernetesservicename  action  replace targetlabel  kubernetesname                               Kubernetes                         Service        Service  annotation    prometheus io scrape true               prometheus additional yaml                 Secret       kubectl create secret generic additional configs   from file prometheus additional yaml  n monitoring secret  additional configs  created               Prometheus Operator   contrib kube prometheus manifests                        base64       prometheus additional yaml    key           kubectl secret additional configs  n monitoring  o yaml apiVersion  v1 data  prometheus additional yaml  LSBqb2JfbmFtZTogJ2t1YmVybmV0ZXMtc2VydmljZS1lbmRwb2ludHMnCiAga3ViZXJuZXRlc19zZF9jb25maWdzOgogIC0gcm9sZTogZW5kcG9pbnRzCiAgcmVsYWJlbF9jb25maWdzOgogIC0gc291cmNlX2xhYmVsczogW19fbWV0YV9rdWJlcm5ldGVzX3NlcnZpY2VfYW5ub3RhdGlvbl9wcm9tZXRoZXVzX2lvX3NjcmFwZV0KICAgIGFjdGlvbjoga2VlcAogICAgcmVnZXg6IHRydWUKICAtIHNvdXJjZV9sYWJlbHM6IFtfX21ldGFfa3ViZXJuZXRlc19zZXJ2aWNlX2Fubm90YXRpb25fcHJvbWV0aGV1c19pb19zY2hlbWVdCiAgICBhY3Rpb246IHJlcGxhY2UKICAgIHRhcmdldF9sYWJlbDogX19zY2hlbWVfXwogICAgcmVnZXg6IChodHRwcz8pCiAgLSBzb3VyY2VfbGFiZWxzOiBbX19tZXRhX2t1YmVybmV0ZXNfc2VydmljZV9hbm5vdGF0aW9uX3Byb21ldGhldXNfaW9fcGF0aF0KICAgIGFjdGlvbjogcmVwbGFjZQogICAgdGFyZ2V0X2xhYmVsOiBfX21ldHJpY3NfcGF0aF9fCiAgICByZWdleDogKC4rKQogIC0gc291cmNlX2xhYmVsczogW19fYWRkcmVzc19fLCBfX21ldGFfa3ViZXJuZXRlc19zZXJ2aWNlX2Fubm90YXRpb25fcHJvbWV0aGV1c19pb19wb3J0XQogICAgYWN0aW9uOiByZXBsYWNlCiAgICB0YXJnZXRfbGFiZWw6IF9fYWRkcmVzc19fCiAgICByZWdleDogKFteOl0rKSg OjpcZCspPzsoXGQrKQogICAgcmVwbGFjZW1lbnQ6ICQxOiQyCiAgLSBhY3Rpb246IGxhYmVsbWFwCiAgICByZWdleDogX19tZXRhX2t1YmVybmV0ZXNfc2VydmljZV9sYWJlbF8oLispCiAgLSBzb3VyY2VfbGFiZWxzOiBbX19tZXRhX2t1YmVybmV0ZXNfbmFtZXNwYWNlXQogICAgYWN0aW9uOiByZXBsYWNlCiAgICB0YXJnZXRfbGFiZWw6IGt1YmVybmV0ZXNfbmFtZXNwYWNlCiAgLSBzb3VyY2VfbGFiZWxzOiBbX19tZXRhX2t1YmVybmV0ZXNfc2VydmljZV9uYW1lXQogICAgYWN0aW9uOiByZXBsYWNlCiAgICB0YXJnZXRfbGFiZWw6IGt1YmVybmV0ZXNfbmFtZQo  kind  Secret metadata  creationTimestamp  2018 12 20T14 50 35Z name  additional configs namespace  monitoring resourceVersion   41814998  selfLink   api v1 namespaces monitoring secrets additional configs uid  9bbe22c5 0466 11e9 a777 525400db4df7 type  Opaque            prometheus                     prometheus prometheus yaml  apiVersion  monitoring coreos com v1 kind  Prometheus metadata  labels  prometheus  k8s name  k8s namespace  monitoring spec  alerting  alertmanagers  name  alertmanager main namespace  monitoring port  web baseImage  quay io prometheus prometheus nodeSelector  beta kubernetes io os  linux replicas  2 secrets  etcd certs resources  requests  memory  400Mi ruleSelector  matchLabels  prometheus  k8s role  alert rules securityContext  fsGroup  2000 runAsNonRoot  true runAsUser  1000 additionalScrapeConfigs  name  additional configs key  prometheus additional yaml serviceAccountName  prometheus k8s serviceMonitorNamespaceSelector     serviceMonitorSelector     version  v2 5 0            prometheus    CRD         kubectl apply  f prometheus prometheus yaml prometheus monitoring coreos com  k8s  configured            Prometheus   Dashboard              Prometheus Dashboard                                    targets                      Prometheus   Pod       kubectl logs  f prometheus k8s 0 prometheus  n monitoring level error ts 2018 12 20T15 14 06 772903214Z caller main go 240 component k8sclientruntime err  github com prometheus prometheus discovery kubernetes kubernetes go 302  Failed list  v1 Pod  pods forbidden  User   system serviceaccount monitoring prometheus k8s   cannot list pods cluster scope  level error ts 2018 12 20T15 14 06 773096875Z caller main go 240 component k8sclientruntime err  github com prometheus prometheus discovery kubernetes kubernetes go 301  Failed list  v1 Service  services forbidden  User   system serviceaccount monitoring prometheus k8s   cannot list services cluster scope  level error ts 2018 12 20T15 14 06 773212629Z",
        "objectID": "post/Prometheus Operator 高级配置",
        "subtitle": "Prometheus Operator 自动发现以及数据持久化",
        "date": "2018-12-20T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "operator",
            "storageclass"
        ],
        "slug": "prometheus-operator-advance",
        "keywords": [
            "kubernetes",
            "prometheus",
            "operator",
            "alertmanager",
            "prometheus-operator",
            "钉钉",
            "持久化",
            "自动发现"
        ],
        "gitcomment": true,
        "notoc": true,
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fyddjjj4prj315o0rswi5.jpg",
                "desc": ""
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus报警AlertManager实战",
        "uri": "post/Prometheus报警AlertManager实战",
        "content": "Kubernetes  Prometheus                Prometheus            grafana                          grafana       grafana            Prometheus                      AlertManager                Kubernetes                k8s                                       kubernetes            AlertManager    Prometheus                       Prometheus Servers           AlertManger      AlertManager             silencing inhibition           email PagerDuty HipChat Slack             AlertManager           3        AlertManger   Prometheus  AlertManager    Prometheus             AlertManager      https   prometheus io docs alerting configuration          alertmanager                        alertmanager  config file simple yml      config file                kubernetes          AlertManager        docker                quay io prometheus alertmanager v0 12 0                         AlertManager               docker           ConfigMap            kind  ConfigMap apiVersion  v1 metadata  name  alertmanager namespace  kube ops data  config yml     global  resolve_timeout  5m route  receiver  webhook group_wait  30s group_interval  5m repeat_interval  4h group_by   alertname  routes  receiver  webhook group_wait  10s match  team  node receivers  name  webhook webhook_configs  url   http   apollo hooks dingtalk   send_resolved  true url   http   apollo hooks prome   send_resolved  true          webhook              email                                                       token URL             URL          Prometheus  AlertManager         Prometheus ConfigMap   AlertManager     alerting  alertmanagers  static_configs  targets    localhost 9093            Prometheus AlertManager      POD   AlertManager      9093       localhost 9093           Prometheus                        rule_files   etc prometheus rules yml   rule_files                 rules yml ConfigMap       etc prometheus        rules yml    groups  name  test rule rules  alert  NodeFilesystemUsage expr   nodefilesystemsize device  rootfs     nodefilesystemfree device  rootfs      nodefilesystemsize device  rootfs     100   80 for  2m labels  team  node annotations  summary      labels instance    High Filesystem usage detected  description      labels instance    Filesystem usage above 80   current value is      value     alert  NodeMemoryUsage expr   nodememoryMemTotal    nodememoryMemFree nodememoryBuffers nodememoryCached      nodememoryMemTotal   100   80 for  2m labels  team  node annotations  summary      labels instance    High Memory usage detected  description      labels instance    Memory usage above 80   current value is      value     alert  NodeCPUUsage expr   100    avg  instance   irate node_cpu job  kubernetes node exporter  mode  idle   5m      100     80 for  2m labels  team  node annotations  summary      labels instance    High CPU usage detected  description      labels instance    CPU usage above 80   current value is      value            3                         CPU          80      label team node receiver   alertmanager                       webhook  receiver         POST        HOOK                                         3     inactive             firing     pending   pending                    firing                           expr      graph                       Prometheus                     ConfigMap      cm yaml  apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s rule_files   etc prometheus rules yml alerting  alertmanagers  static_configs  targets    localhost 9093   scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   kubernetes apiservers  kubernetessdconfigs  role  endpoints scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token relabel_configs  sourcelabels   metakubernetesnamespace  metakubernetesservicename  metakubernetesendpointportname  action  keep regex  default kubernetes https job_name   kubernetes nodes  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics job_name   kubernetes cadvisor  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics cadvisor job_name   kubernetes node exporter  scheme  http tls_config  ca_file   var run secr",
        "objectID": "post/Prometheus报警AlertManager实战",
        "date": "2017-12-27T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "alertmanager"
        ],
        "keywords": [
            "kubernetes",
            "prometheus",
            "alertmanager",
            "报警",
            "钉钉",
            "webhook"
        ],
        "slug": "alertmanager-of-prometheus-in-practice",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1512389142860-9c449e58a543.jpeg",
                "desc": ""
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus Operator 初体验",
        "uri": "post/Promethues Operator 的安装使用",
        "content": "Kubernetes                     Prometheus AlertManager                                            Promethues          Kubernetes                                                   Prometheus Operator     Operator Operator  CoreOS           Kubernetes API                                             Operator   Kubernetes                                              Operator                         Operator    CRD              CRD   Kubernetes API     Kubernetes            API            YAML        spec    Kubernetes                       Kubernetes            kubectl     Operator                        Kubernetes                    CoreOS       Operator                 Prometheus Operator Operator          Kubernetes                                                                   Operator                Prometheus Operator                   Prometheus Operator         Prometheus Operator           Operator                     Prometheus ServiceMonitor AlertManager  PrometheusRule4 CRD                4               prometheus          Prometheus Server    ServiceMonitor  exporter      exporter                   metrics        Prometheus    ServiceMonitor   metrics      pull       alertmanager           AlertManager     PrometheusRule    Prometheus                                       Kubernetes                        Service   ServiceMonitor    Kubernetes        ServiceMonitor      labelSelector          Service Prometheus       labelSelector      ServiceMonitor              Prometheus Operator                 Helm                                    Clone       git clone https   github com coreos prometheus operator   cd contrib kube prometheus manifests    ls 00namespace namespace yaml node exporter clusterRole yaml 0prometheus operator 0alertmanagerCustomResourceDefinition yaml node exporter daemonset yaml            manifests                                     prometheus serviceMonitorKubelet yaml                    ServiceMonitor      kubelet  10250                          metrics        10255                     https metrics   http metrics       Prometheus Operator                                  Subsets    v1 EndpointSubset    Ports    v1 EndpointPort    Name   https metrics   Port  10250       Name   http metrics   Port  10255       Name   cadvisor   Port  4194                                           kubectl apply  f                monitoring  namespace                       Operator      4  CRD         kubectl crd  grep coreos alertmanagers monitoring coreos com 5d prometheuses monitoring coreos com 5d prometheusrules monitoring coreos com 5d servicemonitors monitoring coreos com 5d     monitoring             Pod    alertmanager   prometheus    StatefulSet                    prometheus operator   Pod                       kubectl pods  n monitoring NAME READY STATUS RESTARTS AGE alertmanager main 0 2 2 Running 0 21h alertmanager main 1 2 2 Running 0 21h alertmanager main 2 2 2 Running 0 21h grafana df9bfd765 f4dvw 1 1 Running 0 22h kube state metrics 77c9658489 ntj66 4 4 Running 0 20h node exporter 4sr7f 2 2 Running 0 21h node exporter 9mh2r 2 2 Running 0 21h node exporter m2gkp 2 2 Running 0 21h prometheus adapter dc548cc6 r6lhb 1 1 Running 0 22h prometheus k8s 0 3 3 Running 1 21h prometheus k8s 1 3 3 Running 1 21h prometheus operator bdf79ff67 9dc48 1 1 Running 0 21h       Service    kubectl svc  n monitoring NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE alertmanager main ClusterIP 10 110 204 224 9093 TCP 23h alertmanager operated ClusterIP None 9093 TCP 6783 TCP 23h grafana ClusterIP 10 98 191 31 3000 TCP 23h kube state metrics ClusterIP None 8443 TCP 9443 TCP 23h node exporter ClusterIP None 9100 TCP 23h prometheus adapter ClusterIP 10 107 201 172 443 TCP 23h prometheus k8s ClusterIP 10 107 105 53 9090 TCP 23h prometheus operated ClusterIP None 9090 TCP 23h prometheus operator ClusterIP None 8080 TCP 23h          grafana   prometheus           ClusterIP   Service                               Ingress        NodePort     Service               NodePort            grafana   prometheus k8s     Service          NodePort    kubectl edit svc grafana  n monitoring   kubectl edit svc prometheus k8s  n monitoring   kubectl svc  n monitoring NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE grafana NodePort 10 98 191 31 3000 32333 TCP 23h prometheus k8s NodePort 10 107 105 53 9090 30166 TCP 23h                                      prometheus   targets                                               kube controller manager   kube scheduler             ServiceMonitor                 kube scheduler       ServiceMonitor        prometheus serviceMonitorKubeScheduler yaml  apiVersion  monitoring coreos com v1 kind  ServiceMonitor metadata  labels  k8s app  kube scheduler name  kube scheduler namespace  monitoring spec  endpoints  interval  30s    30s       port  http metrics     service     jobLabel  k8s app namespaceSelector                 service        namespace    any  true matchNames  kube system selector        Service  labels     mathLabels                  service     matchExpressions           service      matchLabels  k",
        "objectID": "post/Promethues Operator 的安装使用",
        "date": "2018-12-11T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "operator"
        ],
        "slug": "first-use-prometheus-operator",
        "keywords": [
            "kubernetes",
            "prometheus",
            "operator",
            "安装",
            "prometheus-operator"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1544436595-18448ba66450.jpeg",
                "desc": "Cold lake"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus Operator 监控 etcd 集群",
        "uri": "post/Promethues Operator 监控 etcd",
        "content": "Prometheus Operator                        Prometheus Operator                  Kubernetes                                                                                   ServiceMonitor       Prometheus            ServiceMonitor      metrics         Service          Service           metrics                     etcd            Kubernetes          Kubeadm          etcd                                          etcd       etcd                  https               Prometheus     etcd                                      Kubeadm              kubectl       etcd                 kubectl pods  n kube system NAME READY STATUS RESTARTS AGE etcd master 1 1 Running 0 2h   kubectl pod etcd master  n kube system  o yaml        spec  containers  command  etcd   peer cert file  etc kubernetes pki etcd peer crt   listen client urls https   127 0 0 1 2379   advertise client urls https   127 0 0 1 2379   client cert auth true   peer client cert auth true   data dir  var lib etcd   cert file  etc kubernetes pki etcd server crt   key file  etc kubernetes pki etcd server key   trusted ca file  etc kubernetes pki etcd ca crt   peer key file  etc kubernetes pki etcd peer key   peer trusted ca file  etc kubernetes pki etcd ca crt image  k8s gcr io etcd amd64 3 1 12 imagePullPolicy  IfNotPresent livenessProbe  exec  command   bin sh  ec ETCDCTL_API 3 etcdctl   endpoints 127 0 0 1 2379   cacert  etc kubernetes pki etcd ca crt   cert  etc kubernetes pki etcd healthcheck client crt   key  etc kubernetes pki etcd healthcheck client key foo failureThreshold  8 initialDelaySeconds  15 periodSeconds  10 successThreshold  1 timeoutSeconds  15 name  etcd resources     terminationMessagePath   dev termination log terminationMessagePolicy  File volumeMounts  mountPath   var lib etcd name  etcd data mountPath   etc kubernetes pki etcd name  etcd certs        tolerations  effect  NoExecute operator  Exists volumes  hostPath  path   var lib etcd type  DirectoryOrCreate name  etcd data hostPath  path   etc kubernetes pki etcd type  DirectoryOrCreate name  etcd certs               etcd               etc kubernetes pki etcd                          secret              etcd          kubectl  n monitoring create secret generic etcd certs   from file  etc kubernetes pki etcd healthcheck client crt   from file  etc kubernetes pki etcd healthcheck client key   from file  etc kubernetes pki etcd ca crt secret  etcd certs  created                   etcd                      secret                  etcd certs       prometheus            prometheus           kubectl edit prometheus k8s  n monitoring       secrets     nodeSelector  beta kubernetes io os  linux replicas  2 secrets  etcd certs              Prometheus   Pod           etcd                   Pod        kubectl exec  it prometheus k8s 0  bin sh  n monitoring Defaulting container name prometheus  Use  kubectl describe pod prometheus k8s 0  n monitoring  containers pod      ls  etc prometheus secrets etcd certs  ca crt healthcheck client crt healthcheck client key    ServiceMonitor    Prometheus    etcd                   ServiceMonitor      prometheus serviceMonitorEtcd yaml  apiVersion  monitoring coreos com v1 kind  ServiceMonitor metadata  name  etcd k8s namespace  monitoring labels  k8s app  etcd k8s spec  jobLabel  k8s app endpoints  port  port interval  30s scheme  https tlsConfig  caFile   etc prometheus secrets etcd certs ca crt certFile   etc prometheus secrets etcd certs healthcheck client crt keyFile   etc prometheus secrets etcd certs healthcheck client key insecureSkipVerify  true selector  matchLabels  k8s app  etcd namespaceSelector  matchNames  kube system       monitoring             etcd k8s   ServiceMonitor                     kube system             k8s app etcd    label     Service jobLabel        job                     endpoints             etcd       endpoints                    relabel proxyUrl tlsConfig                 tls         serverName   etcd                 insecureSkipVerify true      ServiceMonitor               https   github com coreos prometheus operator blob master Documentation api md             ServiceMonitor       kubectl create  f prometheus serviceMonitorEtcd yaml servicemonitor monitoring coreos com  etcd k8s  created    Service ServiceMonitor                     Service                  Service    prometheus etcdService yaml   apiVersion  v1 kind  Service metadata  name  etcd k8s namespace  kube system labels  k8s app  etcd spec  type  ClusterIP clusterIP  None ports  name  port port  2379 protocol  TCP apiVersion  v1 kind  Endpoints metadata  name  etcd k8s namespace  kube system labels  k8s app  etcd subsets  addresses  ip  10 151 30 57 nodeName  etc master ports  name  port port  2379 protocol  TCP         Service          label          Pod                       etcd                              Endpoints     metadata         Service      Service   clusterIP     None                        Service        Endpoints   subsets     etcd                                Service       kubectl create  f prometheus etcdService yaml             Prometheus   Dashboard     target",
        "objectID": "post/Promethues Operator 监控 etcd",
        "date": "2018-12-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "operator",
            "etcd"
        ],
        "slug": "prometheus-operator-monitor-etcd",
        "keywords": [
            "kubernetes",
            "prometheus",
            "operator",
            "etcd",
            "prometheus-operator"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://ws3.sinaimg.cn/large/006tNbRwgy1fyb176sxagj315o0rsn8g.jpg",
                "desc": ""
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "用python处理csv文件",
        "uri": "post/python处理csv文件",
        "content": "CSV            Sublime Text  EXCEL   python            csv    csv         csv                             import csv def readcsvfile path   open path   rb   f    r     b        reader   csv reader f  row reader  print row f close     csv                                                                          csv                                               import csv def readcsvdata path   data_lines      open path   rb   f  reader   csv reader f  fields   reader next                  row reader  items   dict zip fields  row   data_lines append items  f close   return data_lines   csv      csv                   csv         import csv def writecsvfile path  open path   wb   f    w     b       writer   csv writer f  writer writerow   name    address    age      writerow        data        ych    china   25       Lily    USA    24    writer writerows data    writerows        f close     csv",
        "objectID": "post/python处理csv文件",
        "date": "2015-05-05T00:00:00.000Z",
        "tags": [
            "python",
            "csv"
        ],
        "slug": "python-process-csv-file",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Python 虚拟环境全知道",
        "uri": "post/python虚拟环境全知道",
        "content": "python                                                      python           python2 7    python3 6     python                                                 python                       virtualenv   python     pyenv             docker virtualenv   pip install virtualenv    virtualenv        easy_install            Python       pip         virtualenv py   python virtualenv py                           pip                   virtualenv    pip         pip install virtualenv Collecting virtualenv Using cached virtualenv 15 1 0 py2 py3 none any whl Installing collected packages  virtualenv Successfully installed virtualenv 15 1 0                      virtualenv          virtualenv env4test                           source env4test bin activate  env4test                                 env4test       django2 0   env4test   pip install django                        deactivate      pip list          django      virtualenv                     virtualenvwrapper virtualenvwrapper virtualenv                  virtualenv                                                                  pip install virtualenvwrapper                             virtualenvwrapper sh          usr local bin virtualenvwrapper sh    sudo find    name virtualenvwrapper sh Password   usr local bin virtualenvwrapper sh         zshrc             zsh         source  usr local bin virtualenvwrapper sh               source    zshrc          virtualenvwrapper               mkvirtualenv            rmvirtualenv            workon            deactivate        workon  lsvirtualenv  b      https   virtualenvwrapper readthedocs io en latest  pyenv pyenv Python              Python          Pytho        Python                                 sudo    pyenv             Python         virtualenv    Python           Python                                 MAC       homebrew       brew update   brew install pyenv                  pyenv                curl  L https   raw githubusercontent com pyenv pyenv installer master bin pyenv installer   bash                  zshrc         bashrc                          export PATH  HOME  pyenv bin  PATH eval    pyenv init     eval    pyenv virtualenv init                    source    zshrc          pyenv         Python      pyenv versions   system  set  Users ych  pyenv version  3 6 4 3 6 4 envs ops3 6 4 3 6 4 envs talk3 6 4 ops3 6 4 talk3 6 4            Python            Python      pyenv install  l          pyenv install 2 7 3     python   pyenv uninstall 2 7 3     python         pyenv global 2 7 3   pyenv local 2 7 3 global       Python              pyenv version      local                        python version               Python      global   python    shell   local   global pyenv               python version                  global      pyenv shell 2 7 3        shell   Python           shell   PYENV_VERSION                   local   global        pyenv shell   unset    unset          shell        pyenv virtualenv     pyenv               pyenv virtualenv        virtualenv        ls  la    pyenv plugins total 8 drwxr xr x 9 ych staff 288 12 26 16 27   drwxr xr x 23 ych staff 736 12 26 17 44     rw r  r   1 ych staff 52 12 26 16 26  gitignore drwxr xr x 11 ych staff 352 12 26 16 27 pyenv doctor drwxr xr x 12 ych staff 384 12 26 16 27 pyenv installer drwxr xr x 7 ych staff 224 12 26 16 27 pyenv update drwxr xr x 13 ych staff 416 12 26 16 27 pyenv virtualenv drwxr xr x 8 ych staff 256 12 26 16 27 pyenv which ext drwxr xr x 8 ych staff 256 12 26 16 26 python build                  pyenv virtualenvs        pyenv activate             pyenv deactivate        pyenv uninstall       rm  rf    pyenv versions             pyenv virtualenv 3 6 4 env3 6 4       python             python        Python                                    pyenv versions        pyenv pyenv virtualenv           python                                     https   github com pyenv pyenv  Docker                                       Docker                  Docker                                                                                       django              testpyenv tree       manage py     testpyenv     init py     settings py     urls py     wsgi py             requirements txt  Django  2 0               Dockerfile    python 3 6 4        RUN mkdir  p  usr src app WORKDIR  usr src app        Docker      ADD   requirements txt  usr src app requirements txt      RUN pip install  r requirements txt      ADD    usr src app      CMD python manage py runserver 0 0 0 0 8000   django2 0   python3                python 3 6 4                                    docker build  t cnych testpyenv v0 1 1                       start sh          docker run  d  p 8000 8000   name testpyenv cnych testpyenv v0 1 1     8000      8000                  source start sh                 http   127 0 0 1 8000                                                                                                               django                                                         Docker      volume                                     start sh    work_path   pwd  docker run  d  p 8000 8000   name te",
        "objectID": "post/python虚拟环境全知道",
        "date": "2018-01-09T00:00:00.000Z",
        "tags": [
            "python",
            "pyenv",
            "virtualenv",
            "docker"
        ],
        "keywords": [
            "python",
            "pyenv",
            "virtualenv",
            "docker",
            "虚拟"
        ],
        "slug": "python-virtualenv-all-know",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1500644970114-4ff3c3dfb61f.jpeg",
                "desc": "Reach for the End."
            }
        ],
        "category": "python"
    },
    {
        "title": "Python装饰器简介",
        "uri": "post/python装饰器简介",
        "content": "Python                                                                                                                                                                                     def anewdecorator a_func   def wrapTheFunction    print  I doing boring work executing a_func     a_func   print  I doing boring work executing a_func     return wrapTheFunction def afunctionrequiring_decoration    print  I function needs decoration remove foul smell   afunctionrequiring_decoration    outputs   I function needs decoration remove foul smell  afunctionrequiringdecoration   anewdecorator afunctionrequiringdecoration   now afunctionrequiring_decoration wrapped wrapTheFunction   afunctionrequiring_decoration    outputs I doing boring work executing a_func   function needs decoration remove foul smell doing boring work executing a_func      python                                                                                                        anewdecorator def afunctionrequiring_decoration       Hey you  Decorate me     print  I function needs decoration    remove foul smell   afunctionrequiring_decoration    outputs  doing boring work executing a_func   function needs decoration remove foul smell doing boring work executing a_func    the  anewdecorator just short saying  afunctionrequiringdecoration   anewdecorator afunctionrequiringdecoration       wraps      Python                                    print afunctionrequiringdecoration name_  Output  wrapTheFunction           Ouput      afunctionrequiring_decoration        warpTheFunction                     docstring      Python                       functools wraps             functools wraps  functools import wraps def anewdecorator a_func    wraps a_func  def wrapTheFunction    print  I doing boring work executing a_func     a_func   print  I doing boring work executing a_func     return wrapTheFunction  anewdecorator def afunctionrequiring_decoration       Hey yo  Decorate me     print  I function needs decoration    remove foul smell   print afunctionrequiringdecoration name_  Output  afunctionrequiring_decoration                          functools import wraps def decorator_name f    wraps f  def decorated args   kwargs   not can_run  return  Function will not run  return f args   kwargs  return decorated  decorator_name def func    return  Function running   can_run   True print func    Output  Function running can_run   False print func    Output  Function will not run     wraps                                                                                    wraps                                                             decorator_name                               Python                                                                                functools import wraps def logit logfile  out log    def logging_decorator func    wraps func  def wrapped_function args   kwargs   logstring   func name_     called  print log_string    logfile       open logfile   a   opened_file            logfile openedfile write logstring     n   return func args   kwargs  return wrapped_function return logging_decorator  logit   def myfunc1    pass myfunc1   Output  myfunc1 called        out log                       logit logfile  func2 log   def myfunc2    pass myfunc2   Output  myfunc2 called        func2 log                                         logit                                                                             email                                                                                           logit  functools import wraps class logit object   def init self  logfile  out log    self logfile   logfile def call self  func    wraps func  def wrapped_function args   kwargs   logstring   func name_     called  print log_string    logfile    open self logfile   a   opened_file               openedfile write logstring     n             self notify   return func args   kwargs  return wrapped_function def notify self   logit          pass                                                   logit   def myfunc1    pass       logit        email      email              class email_logit logit         logit                email         def init self  email  admin myproject com   args   kwargs   self email   email super logit  self  init args   kwargs  def notify self       email self email          pass       email_logit    logit",
        "objectID": "post/python装饰器简介",
        "date": "2016-11-14T00:00:00.000Z",
        "publishdate": "2016-11-14T00:00:00.000Z",
        "bigimg": [
            {
                "src": "/img/posts/decorator-cover.jpg",
                "desc": ""
            }
        ],
        "tags": [
            "python",
            "装饰器"
        ],
        "slug": "django-decorator-usage",
        "category": "python",
        "gitcomment": true
    },
    {
        "title": "RC、RS 使用方法",
        "uri": "post/RC和RS的使用",
        "content": "Pod                        Pod          Pod                                                        Pod         Pod                                                      Pod           Pod                                                                          Pod                                                                  Pod    Pod            Pod                   Pod                                Kubernetes                Replication Controller        Pod Replica Set     Replication Controller Deployment          Pod Replica Set Replication Controller RC  Replication Controller  RC RC Kubernetes                RC           Pod          Pod          Pod                                 Pod  Pod            RC         Pod                Pod        RC      Pod                                                        Pod      RC   Pod                  Pod               Pod                      Pod  10              2                                                HPA                                                      RC          Nginx Pod YAML      apiVersion  v1 kind  ReplicationController metadata  name  rc demo labels  name  rc spec  replicas  3 selector  name  rc template  metadata  labels  name  rc spec  containers  name  nginx demo image  nginx ports  containerPort  80    YAML          Pod     kind ReplicationController spec replicas    Pod        1 spec selector  RC            Pod spec template           Pod            apiVersion kind  spec template metadata labels       Pod labels  spec selector     RC          Pod     YAML             RC          rc demo       3 Pod   Pod    nginx        spec selector spec template metadata labels                            spec selector       Pod    metadata labels                                   RC       rc demo yaml     kubectl create  f rc demo yaml   RC    kubectl rc           kubectl describe rc rc demo       RC    Pod      2    kubectl apply  f rc demo yaml      kubectl edit rc rc demo         RC                    nginx 1 7 9    kubectl rolling update rc demo   image nginx 1 7 9        Pod               YAML            kubectl rolling update rc demo  f rc demo yaml                                 RC                              Replication Set RS  Replication Set  RS   Kubernetes                RS Deployment   RC     RS RC                   RC        selector env dev app nginx   RS        selector version  v1  v2                    kubectl        RC              RS                  RS     Deployment                                   Pod              Deployment      Replica Set           RC RS                            RC   Pod            RC        Pod        apiversion kind  RC   label selector      Pod           RC   Pod         Pod           RC   Pod            Pod                                                   RC  RS      Pod                                   Deployment             Docker   Kubernetes                  k8s                                       kubernetes",
        "objectID": "post/RC和RS的使用",
        "subtitle": "使用Replication Controller、Replica Set 管理Pod",
        "date": "2018-06-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod"
        ],
        "slug": "use-rc-rs-manage-pod",
        "keywords": [
            "kubernetes",
            "rc",
            "rs",
            "pod"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1493546109643-cd9fda7b38fe.jpeg",
                "desc": "Light in Pinks"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Secret 的使用",
        "uri": "post/Secret 的使用",
        "content": "ConfigMap       ConfigMap       Kubernetes                 ConfigMap                                 ConfigMap         ConfigMap                               Secret Secret              OAuth     ssh key          Secret    Pod      docker              Secret       Opaque base64      Secret                     base64  decode                  kubernetes io dockerconfigjson       docker registry       kubernetes io service account token    serviceaccount   serviceaccout    Kubernetes        secret Pod     serviceaccount    secret      Pod   run secrets kubernetes io serviceaccount   Opaque Secret Opaque          map      value base64                   admin     admin321   Secret                   base64       echo  n  admin    base64 YWRtaW4    echo  n  admin321    base64 YWRtaW4zMjE                         YAML    secret demo yaml  apiVersion  v1 kind  Secret metadata  name  mysecret type  Opaque data  username  YWRtaW4  password  YWRtaW4zMjE              kubectl          kubectl create  f secret demo yaml secret  mysecret  created   get secret        kubectl secret NAME TYPE DATA AGE default token n9w2d kubernetes io service account token 3 33d mysecret Opaque 2 40s     default token cty7pdefault token n9w2d            secret  serviceacount default       describe           kubectl describe secret mysecret Name  mysecret Namespace  default Labels  Annotations  Type  Opaque Data password  8 bytes username  5 bytes         describe      Data              Data                 YAML          kubectl secret mysecret  o yaml apiVersion  v1 data  password  YWRtaW4zMjE  username  YWRtaW4  kind  Secret metadata  creationTimestamp  2018 06 19T15 27 06Z name  mysecret namespace  default resourceVersion   3694084  selfLink   api v1 namespaces default secrets mysecret uid  39c139f5 73d5 11e8 a101 525400db4df7 type  Opaque    Secret                         Volume                                         busybox        secret1 pod yaml  apiVersion  v1 kind  Pod metadata  name  secret1 pod spec  containers  name  secret1 image  busybox command      bin sh     c    env    env  name  USERNAME valueFrom  secretKeyRef  name  mysecret key  username name  PASSWORD valueFrom  secretKeyRef  name  mysecret key  password             secretKeyRef           configMapKeyRef            Secret          ConfigMap           Pod    kubectl create  f secret1 pod yaml pod  secret1 pod  created       Pod         kubectl logs secret1 pod     USERNAME admin PASSWORD admin321           USERNAME   PASSWORD             Volume            Pod    Volume       Pod    secret2 pod yaml  apiVersion  v1 kind  Pod metadata  name  secret2 pod spec  containers  name  secret2 image  busybox command     bin sh     c    ls  etc secrets   volumeMounts  name  secrets mountPath   etc secrets volumes  name  secrets secret  secretName  mysecret   Pod    kubectl create  f secret pod2 yaml pod  secret2 pod  created               kubectl logs secret2 pod password username     secret   key                                              secretName    items   key   path            ConfigMap          kubernetes io dockerconfigjson      Opaque                docker registry   Secret     kubectl create             kubectl create secret docker registry myregistry   docker server DOCKERSERVER   docker username DOCKERUSER   docker password DOCKERPASSWORD   docker email DOCKEREMAIL secret  myregistry  created     Secret      kubectl secret NAME TYPE DATA AGE default token n9w2d kubernetes io service account token 3 33d myregistry kubernetes io dockerconfigjson 1 15s mysecret Opaque 2 34m       TYPE   myregistry      kubernetes io dockerconfigjson        describe             kubectl describe secret myregistry Name  myregistry Namespace  default Labels  Annotations  Type  kubernetes io dockerconfigjson Data  dockerconfigjson  152 bytes        Data                       o yaml           kubectl secret myregistry  o yaml apiVersion  v1 data   dockerconfigjson  eyJhdXRocyI6eyJET0NLRVJfU0VSVkVSIjp7InVzZXJuYW1lIjoiRE9DS0VSX1VTRVIiLCJwYXNzd29yZCI6IkRPQ0tFUl9QQVNTV09SRCIsImVtYWlsIjoiRE9DS0VSX0VNQUlMIiwiYXV0aCI6IlJFOURTMFZTWDFWVFJWSTZSRTlEUzBWU1gxQkJVMU5YVDFKRSJ9fX0  kind  Secret metadata  creationTimestamp  2018 06 19T16 01 05Z name  myregistry namespace  default resourceVersion   3696966  selfLink   api v1 namespaces default secrets myregistry uid  f91db707 73d9 11e8 a101 525400db4df7 type  kubernetes io dockerconfigjson       data dockerconfigjson        base64                   echo eyJhdXRocyI6eyJET0NLRVJfU0VSVkVSIjp7InVzZXJuYW1lIjoiRE9DS0VSX1VTRVIiLCJwYXNzd29yZCI6IkRPQ0tFUl9QQVNTV09SRCIsImVtYWlsIjoiRE9DS0VSX0VNQUlMIiwiYXV0aCI6IlJFOURTMFZTWDFWVFJWSTZSRTlEUzBWU1gxQkJVMU5YVDFKRSJ9fX0    base64  d   auths    DOCKERSERVER    username   DOCKERUSER   password   DOCKERPASSWORD   email   DOCKEREMAIL   auth   RE9DS0VSX1VTRVI6RE9DS0VSX1BBU1NXT1JE                   docker             myregistry  Secret  apiVersion  v1 kind  Pod metadata  name  foo spec  containers  name  foo image  192 168 1 100 5000 test v1 imagePullSecrets  name  myregistry             192 168 1 100 5000 test v1                     Secret    Pod  YAM",
        "objectID": "post/Secret 的使用",
        "subtitle": "Kubernetes Secret 资源对象使用方法",
        "date": "2018-06-20T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "secret"
        ],
        "keywords": [
            "kubernetes",
            "secret"
        ],
        "slug": "use-secret-in-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1517960413843-0aee8e2b3285.jpeg",
                "desc": "happy moment"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Service 的使用",
        "uri": "post/Service 的使用",
        "content": "Pod            Pod                          RC Deployment            Pod     Pod     IP       Pod           IP                              Pod             Pod    API           Pod          Pod                     Pod                         Pod                 IP                                                     Kubernetes                          IP               WEB              Nginx          Nginx                                 Nginx    upstream                                  Consul ZooKeeper       etcd                                                       Nginx                                                                           Pod                  Pod                               Pod             Pod                                   Kubernetes                    Service Service               Pod                                   Serivce     Pod      Label Selector                         3                                                   Pod                                             Service                        IP        Service           Kubernetes      IP                Node IP Node   IP   Pod IP  Pod IP   Cluster IP  Service IP      Node IP Kubernetes          IP                                  Kubernetes        Kubernetes                   Node IP                IP     Pod IP   Pod IP     Docker Engine  docker0   IP                 flannel              Pod IP        Cluster IP      IP      Kubernetes Service      Kubernetes                    ping                          Service Port                 Service   Service                                 Pod           8080             app myapp                       Service    apiVersion  v1 kind  Service metadata  name  myservice spec  selector  app  myapp ports  protocol  TCP port  80 targetPort  8080 name  myapp http        kubectl create  f myservice yaml         myservice Service              TCP      8080      app myapp Pod    Service              Cluster IP  Service       selector   Pod     Pod         myservice Endpoints                    Pod            Service               targetPort        targetPort      port                targetPort              backend Pod                               backend Pod                   Service                   Service     TCP   UDP        TCP     kube proxy          Kubernetes      Node     kube proxy       Service     VIP    IP         clusterIP          Kubernetes        iptables             kube proxy   Kubernetes master  Service     Endpoints               Service       iptables            Service   clusterIP    IP                  Service     backend                Endpoints          iptables              backend Pod                backend               IP            service spec sessionAffinity        ClientIP         None                     Pod      iptables              Pod         readiness probes  Service         Service                 Service           ClusterIP                   ClusterIP         IP                                ServiceType  NodePort      Node      IP       NodePort      NodePort        ClusterIP       ClusterIP                             NodePort     LoadBalancer                                      NodePort     ClusterIP                      ExternalName      CNAME               externalName           foo bar example com                  Kubernetes 1 7        kube dns      NodePort         type     NodePort Kubernetes master               30000 32767         Node          Node           Service        Service   spec ports    nodePort                                Service        spec ports   nodePort   spec clusterIp spec ports   port                     NodePort           Nginx        service demo yaml  apiVersion  v1 kind  Service metadata  name  myservice spec  selector  app  myapp type  NodePort ports  protocol  TCP port  80 targetPort  80 name  myapp http    Service    kubectl create  f service demo yaml         Service        kubectl svc NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE kubernetes ClusterIP 10 96 0 1 443 TCP 27d myservice NodePort 10 104 57 198 80 32560 TCP 14h       myservice  TYPE        NodePort    PORT S         32560                 describe     Service          kubectl describe svc myservice Name  myservice Namespace  default Labels  Annotations  Selector  app nginx Type  NodePort IP  10 104 57 198 Port  mynginx http 80 TCP TargetPort  80 TCP NodePort  mynginx http 32560 TCP Endpoints  10 244 1 55 80 10 244 2 189 80 10 244 2 190 80   1 more    Session Affinity  None External Traffic Policy  Cluster Events  ExternalName ExternalName   Service        selector             Endpoint                                       kind  Service apiVersion  v1 metadata  name  my service namespace  prod spec  type  ExternalName externalName  my database example com       my service prod svc cluster local                          DNS           my database example com   CNAME                                    DNS                               Kubernetes             Pod       Selector   Endpoint    Service   type                                   Docker   Kubernetes ",
        "objectID": "post/Service 的使用",
        "subtitle": "学习使用 Kubernetes 中的 Service 对象",
        "date": "2018-06-13T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod"
        ],
        "slug": "use-service-in-k8s",
        "keywords": [
            "kubernetes",
            "service",
            "pod"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1518301885719-b60b8379b2a9.jpeg",
                "desc": "Sunset"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "webpack3入门到放肆视频教程",
        "uri": "post/webpack3入门到放肆视频教程",
        "content": "python        nodejs golang                                                                                              webpack3              webpack                   React Vue        webpack                                                                                                               nodejs                                      Webpack3 x                   Webpack      CSS     ES2015     SASS               CSS JS                    Webpack Manifests",
        "objectID": "post/webpack3入门到放肆视频教程",
        "date": "2017-12-26T00:00:00.000Z",
        "publishdate": "2017-12-26T00:00:00.000Z",
        "bigimg": [
            {
                "src": "/img/posts/webpack-get-started.png",
                "desc": "@海马学院"
            }
        ],
        "tags": [
            "webpack",
            "视频"
        ],
        "slug": "webpack3-get-started",
        "category": "devops",
        "gitcomment": true
    },
    {
        "title": "为kubernetes dashboard访问用户添加权限控制",
        "uri": "post/为kubernetes dashboard访问用户添加权限限制",
        "content": "kubernetes dashboard            Dashboard                              admin        cluster admin                                    token  Dashboard                                                        Role Role               Role       namespace                                         Pods           kind  Role apiVersion  rbac authorization k8s io v1beta1 metadata  namespace  default name  pod reader rules  apiGroups            indicates core API group resources    pods   verbs    get    watch    list   ClusterRole ClusterRole   Role                ClusterRole                          node            endpoints     healthz                   pods                                       secrets       kind  ClusterRole apiVersion  rbac authorization k8s io v1beta1 metadata   namespace  omitted ClusterRoles not namespaced name  secret reader rules  apiGroups       resources    secrets   verbs    get    watch    list   RoleBinding ClusterRoleBinding RoloBinding                    RoleBinding         subjects                         users groups service accounts  RoleBinding               ClusterRoleBinding                         pod reader      jane                   pod reader     role binding allows  jane  read pods  default  namespace  kind  RoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  read pods namespace  default subjects  kind  User name  jane apiGroup  rbac authorization k8s io roleRef  kind  Role name  pod reader apiGroup  rbac authorization k8s io RoleBinding      ClusterRole     namespace          ServiceAccount                               ClusterRole        namespace     RoleBinding           RoleBinding       ClusterRole    ClusterRole          secrets               dave      development      secrets    RoleBinding     development       role binding allows  dave  read secrets  development  namespace  kind  RoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  read secrets namespace  development   grants permissions within  development  namespace  subjects  kind  User name  dave apiGroup  rbac authorization k8s io roleRef  kind  ClusterRole name  secret reader apiGroup  rbac authorization k8s io       ClusterRoleBinding                            ClusterRoleBinding         manager                 secrets      cluster role binding allows anyone  manager  group read secrets namespace  kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  read secrets global subjects  kind  Group name  manager apiGroup  rbac authorization k8s io roleRef  kind  ClusterRole name  secret reader apiGroup  rbac authorization k8s io   dashboard                                                              cnych           kube system   pods deployments            ServiceAccount    kubectl create sa cnych  n kube system           role cnych  role yaml  kind  Role apiVersion  rbac authorization k8s io v1 metadata  namespace  kube system name  role cnych rules  apiGroups       resources    pods   verbs    get    watch    list   apiGroups    extensions    apps   resources    deployments   verbs    get    list    watch    create    update    patch    delete        rules     pods deployments                        role cnych   cnych ServiceAccount   role bind yaml  kind  RoleBinding apiVersion  rbac authorization k8s io v1 metadata  name  role bind cnych namespace  kube system subjects  kind  ServiceAccount name  cnych namespace  kube system roleRef  kind  Role name  role cnych apiGroup  rbac authorization k8s io         yaml      kubect create  f role yaml   kubect create  f role bind yaml                       cnych  ServiceAccount token     Dashboard     kubectl secret  n kube system  grep cnych cnych token nxgqx kubernetes io service account token 3 47m   kubectl secret cnych token nxgqx  o jsonpath   data token   n kube system  base64  d         base64         dashboard              token                               token                                      kube system           https       pod namespace kube system             pod                   events forbidden  User  system serviceaccount kube system cnych  cannot list events namespace  kube system                  pod deployment           deployment                                          Role                                     https   kubernetes io docs admin authorization rbac  Add Users Kubernetes  kubectl                 Kubernetes                k8s                                       kubernetes",
        "objectID": "post/为kubernetes dashboard访问用户添加权限限制",
        "date": "2018-01-18T00:00:00.000Z",
        "publishdate": "2017-01-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "dashboard",
            "rbac"
        ],
        "keywords": [
            "kubernetes",
            "dashboard",
            "rbac",
            "权限"
        ],
        "slug": "add-authorization-for-kubernetes-dashboard",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1439209306665-700c9bca794c.jpeg",
                "desc": "two boats"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "服务网格(Service Mesh)是什么?",
        "uri": "post/什么是服务网格?",
        "content": "Trace                                                                                                              Service Mesh     Service Mesh  Service Mesh             2016    Linkerd  Buoyant          Linkerd    Service Mesh                  infoQ      istio    Service Mesh                             Service Mesh                                         Willian Morgan Linker  CEO    Service Mesh      service mesh dedicated infrastructure layer handling service to service communication  It s responsible reliable delivery requests complex topology services comprise modern  cloud native application  practice  service mesh typically implemented array lightweight network proxies deployed alongside application code  without application needing aware                                                                                                                                               sidecar Service Mesh                                                      Service Mesh                       Service Mesh                                         Sidecar    Sidecar  Kubernetes    POD         Sidecar                                       Service Mesh                              Service Mesh                                                                                                                                               Service Mesh                     Sidecar                                            Sidecar                                                                                                                                                          Service Mesh                                  Service Mesh                Sidecar                                       Service Mesh                   Sidecar                Service Mesh                      Service Mesh             Serivce Mesh      istio      https   buoyant io 2017 04 25 whats a service mesh and why do i need one",
        "objectID": "post/什么是服务网格?",
        "date": "2017-10-21T00:00:00.000Z",
        "tags": [
            "microservice",
            "Service Mesh",
            "服务网格",
            "微服务"
        ],
        "keywords": [
            "microservice",
            "Service Mesh",
            "服务网格",
            "微服务"
        ],
        "slug": "what-is-service-mesh",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/18723523_813563038801986_2018903369518678016_n.jpg",
                "desc": "断桥残雪@杭州西湖 Apr 30,2017"
            }
        ],
        "category": "microservice"
    },
    {
        "title": "使用kubeadm搭建kubernetes1.10集群",
        "uri": "post/使用 kubeadm 搭建 kubernetes 1.10 集群",
        "content": "kubeadm Kubernetes            Kubernetes                             kubeadm                          kubeadm   beta             Using kubeadm Create Cluster       kubeadm                       kubeadm                                                    kubernetes                      Centos7                          cat  etc hosts 10 151 30 57 ydzs master1 10 151 30 62 evjfaxic          systemctl stop firewalld   systemctl disable firewalld   SELINUX    setenforce 0   cat  etc selinux config SELINUX disabled    etc sysctl d k8s conf           net bridge bridge nf call ip6tables   1 net bridge bridge nf call iptables   1 net ipv4 ip_forward   1                modprobe br_netfilter   sysctl  p  etc sysctl d k8s conf                                       gcr io                            docker  master            docker pull cnych kube apiserver amd64 v1 10 0 docker pull cnych kube scheduler amd64 v1 10 0 docker pull cnych kube controller manager amd64 v1 10 0 docker pull cnych kube proxy amd64 v1 10 0 docker pull cnych k8s dns kube dns amd64 1 14 8 docker pull cnych k8s dns dnsmasq nanny amd64 1 14 8 docker pull cnych k8s dns sidecar amd64 1 14 8 docker pull cnych etcd amd64 3 1 12 docker pull cnych flannel v0 10 0 amd64 docker pull cnych pause amd64 3 1 docker tag cnych kube apiserver amd64 v1 10 0 k8s gcr io kube apiserver amd64 v1 10 0 docker tag cnych kube scheduler amd64 v1 10 0 k8s gcr io kube scheduler amd64 v1 10 0 docker tag cnych kube controller manager amd64 v1 10 0 k8s gcr io kube controller manager amd64 v1 10 0 docker tag cnych kube proxy amd64 v1 10 0 k8s gcr io kube proxy amd64 v1 10 0 docker tag cnych k8s dns kube dns amd64 1 14 8 k8s gcr io k8s dns kube dns amd64 1 14 8 docker tag cnych k8s dns dnsmasq nanny amd64 1 14 8 k8s gcr io k8s dns dnsmasq nanny amd64 1 14 8 docker tag cnych k8s dns sidecar amd64 1 14 8 k8s gcr io k8s dns sidecar amd64 1 14 8 docker tag cnych etcd amd64 3 1 12 k8s gcr io etcd amd64 3 1 12 docker tag cnych flannel v0 10 0 amd64 quay io coreos flannel v0 10 0 amd64 docker tag cnych pause amd64 3 1 k8s gcr io pause amd64 3 1              shell                  master                         Node          docker pull cnych kube proxy amd64 v1 10 0 docker pull cnych flannel v0 10 0 amd64 docker pull cnych pause amd64 3 1 docker pull cnych kubernetes dashboard amd64 v1 8 3 docker pull cnych heapster influxdb amd64 v1 3 3 docker pull cnych heapster grafana amd64 v4 4 3 docker pull cnych heapster amd64 v1 4 2 docker pull cnych k8s dns kube dns amd64 1 14 8 docker pull cnych k8s dns dnsmasq nanny amd64 1 14 8 docker pull cnych k8s dns sidecar amd64 1 14 8 docker tag cnych flannel v0 10 0 amd64 quay io coreos flannel v0 10 0 amd64 docker tag cnych pause amd64 3 1 k8s gcr io pause amd64 3 1 docker tag cnych kube proxy amd64 v1 10 0 k8s gcr io kube proxy amd64 v1 10 0 docker tag cnych k8s dns kube dns amd64 1 14 8 k8s gcr io k8s dns kube dns amd64 1 14 8 docker tag cnych k8s dns dnsmasq nanny amd64 1 14 8 k8s gcr io k8s dns dnsmasq nanny amd64 1 14 8 docker tag cnych k8s dns sidecar amd64 1 14 8 k8s gcr io k8s dns sidecar amd64 1 14 8 docker tag cnych kubernetes dashboard amd64 v1 8 3 k8s gcr io kubernetes dashboard amd64 v1 8 3 docker tag cnych heapster influxdb amd64 v1 3 3 k8s gcr io heapster influxdb amd64 v1 3 3 docker tag cnych heapster grafana amd64 v4 4 3 k8s gcr io heapster grafana amd64 v4 4 3 docker tag cnych heapster amd64 v1 4 2 k8s gcr io heapster amd64 v1 4 2          Node            join                    kubeadm kubelet kubectl    docker                                                              kubeadm           yum            cat  etc yum repos d kubernetes repo  kubernetes  name Kubernetes baseurl https   packages cloud google com yum repos kubernetes el7 x86_64 enabled 1 gpgcheck 1 repo_gpgcheck 1 gpgkey https   packages cloud google com yum doc yum key gpg https   packages cloud google com yum doc rpm package key gpg EOF        yum                                       cat  etc yum repos d kubernetes repo  kubernetes  name Kubernetes baseurl http   mirrors aliyun com kubernetes yum repos kubernetes el7 x86_64 enabled 1 gpgcheck 0 repo_gpgcheck 0 gpgkey http   mirrors aliyun com kubernetes yum doc yum key gpg http   mirrors aliyun com kubernetes yum doc rpm package key gpg EOF               1 10            yum                   yum makecache fast    yum install  y kubelet kubeadm kubectl                                         1 10               1 10                     1 10 3                           yum makecache fast    yum install  y kubelet 1 10 0 0 kubeadm 1 10 0 0 kubectl 1 10 0 0    kubelet             kubelet        yum       kubelet            cgroup driver   systemd  docker cgroup driver cgroupfs                 docker info        docker info  grep Cgroup Cgroup Driver  cgroupfs     kubelet      etc systemd system kubelet service d 10 kubeadm conf     KUBELETCGROUPARGS     cgroupfs  Environment  KUBELETCGROUPARGS   cgroup driver cgroupfs                                kubernetes            Kubernetes 1 8          Swap             kubelet             kubelet    ",
        "objectID": "post/使用 kubeadm 搭建 kubernetes 1.10 集群",
        "date": "2018-04-14T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "kubeadm"
        ],
        "keywords": [
            "kubernetes",
            "kubeadm"
        ],
        "slug": "use-kubeadm-install-kubernetes-1.10",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1496072298559-ee7eacbd1b39.jpeg",
                "desc": "Kings Mountain"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Ingress 自动化 HTTPS",
        "uri": "post/使用Let's Encrypt实现Ingress自动化HTTPS",
        "content": "HTTPS        Google     HTTPS                                HTTPS                     CA                           Let s Encrypt     90                                   Kubernetes                Kubernetes Ingress   Let s Encrypt            HTTPS   Kubernetes      HTTPS                              Ingress     HTTPS        Ingress Controller         HTTPS                   SSL TLS       Cert manager        ingress endpoint                certificates                Cert manager         providers         HashiCorp Vault           Helm             Helm               Helm                       cluster issuer    Cert manager        kubernetes io tls acme   true annotation      TLS  ingressShim defaultIssuerName letsencrypt prod ingressShim defaultIssuerKind ClusterIssuer           Cert manager    helm install   name cert manager   namespace kube system   set ingressShim defaultIssuerName letsencrypt prod   set ingressShim defaultIssuerKind ClusterIssuer stable cert manager NAME  cert manager LAST DEPLOYED  Wed Dec 5 18 04 56 2018 NAMESPACE  kube system STATUS  DEPLOYED RESOURCES    v1 ServiceAccount NAME SECRETS AGE cert manager 1 0s   v1beta1 CustomResourceDefinition NAME AGE certificates certmanager k8s io 0s clusterissuers certmanager k8s io 0s issuers certmanager k8s io 0s   v1beta1 ClusterRole cert manager 0s   v1beta1 ClusterRoleBinding NAME AGE cert manager 0s   v1beta1 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE cert manager 1 1 1 0 0s   v1 Pod related  NAME READY STATUS RESTARTS AGE cert manager dd6856945 9ltk9 0 1 ContainerCreating 0 0s NOTES  cert manager deployed successfully  order begin issuing certificates  will need set ClusterIssuer Issuer resource  for example  creating  letsencrypt staging  issuer   information different types issuers configure found documentation  https   cert manager readthedocs io en latest reference issuers html information configure cert manager automatically provision Certificates Ingress resources  look ingress shim documentation  https   cert manager readthedocs io en latest reference ingress shim html           Pod        kubectl pod  n kube system   selector app cert manager NAME READY STATUS RESTARTS AGE cert manager cert manager 7797579f9 m4dbc 1 1 Running 0 1m           Cert manager      Kubernetes custom resources    kubectl crd NAME AGE certificates certmanager k8s io 1m clusterissuers certmanager k8s io 1m issuers certmanager k8s io 1m          Cert manager              letsencrypt prod  cluster issuer        clusterissuers certmanager k8s io  CRD     cluster issuer yaml  apiVersion  certmanager k8s io v1alpha1 kind  ClusterIssuer metadata  name  letsencrypt prod spec  acme  server  https   acme v02 api letsencrypt org directory email  icnych gmail com privateKeySecretRef  name  letsencrypt prod http01             ClusterIssuer      kubectl create  f cluster issuer yaml clusterissuer certmanager k8s io  letsencrypt prod  created   kubectl clusterissuer NAME AGE letsencrypt prod 16s             Cert manager    ClusterIssuer          HTTPS        Kubernetes Dashboard     Dashboard                     Ingress         dashboard ingress yaml  apiVersion  extensions v1beta1 kind  Ingress metadata  name  kube ui namespace  kube system annotations  kubernetes io ingress class   traefik  kubernetes io tls acme   true  spec  tls  hosts  k8sui qikqiak com secretName  k8sui tls rules  host  k8sui qikqiak com http  paths  path      backend  serviceName  kubernetes dashboard servicePort  443                  annotations           Cert Manager                   HTTPS            tls           k8sui tls   Secret                Secret                 Cert Manager                                kubectl create  f dashboard ingress yaml                                   Ingress Controller                  etc hosts                                       Ingress       Ingress                  kubectl ingress  n kube system NAME HOSTS ADDRESS PORTS AGE cm acme http solver hl5sx k8sui qikqiak com 80 37s kube ui k8sui qikqiak com 80  443 41s        Traefik   Dashboard                    Ingress                    describe     Ingress       Name  kube ui Namespace  kube system Address  Default backend  default http backend 80    TLS  k8sui tls terminates k8sui qikqiak com Rules  Host Path Backends                    k8sui qikqiak com   kubernetes dashboard 443  10 244 0 31 8443  Annotations  kubernetes io tls acme  true kubernetes io ingress class  traefik Events  Type Reason Age Message                               Normal CreateCertificate 13m cert manager Successfully created Certificate  k8sui tls                Certificate                       kubectl certificate  n kube system NAME AGE k8sui tls 15m      Let s Encrypt                           Ingress      Secret        kubectl secret  n kube system k8sui tls kubernetes io tls 2 32m          Cert manager   Pod           kubectl logs  f cert manager dd6856945 4drmr  n kube system        1 sync go 124  Certificate  k8sui tls  ingress  kube ui  already exists I1205 16 27 21 372285 1 sync go 127  Certificate  k8sui tls  ingress  kube ui",
        "objectID": "post/使用Let's Encrypt实现Ingress自动化HTTPS",
        "subtitle": "使用 Let's Encrypt 实现 Kubernetes Ingress 自动化 HTTPS",
        "date": "2018-12-05T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ingress",
            "traefik"
        ],
        "slug": "automatic-kubernetes-ingress-https-with-lets-encrypt",
        "keywords": [
            "kubernetes",
            "ingress",
            "https",
            "traefik"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1543970256-c86ba45b0d9b.jpeg",
                "desc": "You don’t have to be at the top to enjoy the view"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "使用YAML 文件创建 Kubernetes Deployment",
        "uri": "post/使用YAML 文件创建 kubernetes Deployment",
        "content": "kubernetes             kubectl          POD         kubernetes          YAML                 YAML         POD                  YAML              YAML         kubernetes pod          kubernetes deployment   YAML    YAML                         JSON     YAML        j m l                                                                         Tab                                                                      kubernetes                 Lists Maps            Lists Maps Maps Lists                                           Maps        Maps      Map        key value     Maps                      apiVersion  v1 kind  Pod                                                            kind   apiVersion           v1 Pod     YAML       JSON                    apiVersion    v1    kind    pod                   YAML         KEY               Maps  apiVersion  v1 kind  Pod metadata  name  kube100 site labels  app  web     YAML    metadata    KEY         Maps        labels    KEY       Map                             YAML         YAML                                YAML                                                                    4            name   labels             YAML                MAP   app   labels       app               YAML           tab                 YAML       JSON        apiVersion    v1    kind    Pod    metadata      name    kube100 site    labels      app    web                JSON                YAML              Lists Lists               YAML              args Cat Dog Fish                                                    JSON          args      Cat    Dog    Fish         list         Maps Maps        list      apiVersion  v1 kind  Pod metadata  name  kube100 site labels  app  web spec  containers  name  front end image  nginx ports  containerPort  80 name  flaskapp demo image  jcdemo flaskapp ports  containerPort  5000      YAML             containers   List           name image ports       ports      key   containerPort   Map                 JSON          apiVersion    v1    kind    Pod    metadata      name    kube100 site    labels      app   web        spec      containers       name    front end    image    nginx    ports       containerPort    80           name    flaskapp demo    image    jcdemo flaskapp    ports       containerPort    5000                   JSON           YAML             YAML    Pod         YAML                                     YAML         Deployment         kubernetes                             kubernetes            Pod apiVersion  v1 kind  Pod metadata  name  kube100 site labels  app  web spec  containers  name  front end image  nginx ports  containerPort  80 name  flaskapp demo image  jcdemo flaskapp ports  containerPort  5000                POD                   apiVersion       v1               kubernetes                     kind            Pod                      Deployment Job Ingress Service     metadata          Pod     meta         namespace         spec      containers storage volumes     Kubernetes                                    Kubernetes API     Kubernetes Pod                        spec  containers  name  front end image  nginx ports  containerPort  80                           front end     nginx                    80                                                                                               name image command args workingDir ports env resources volumeMounts livenessProbe readinessProbe livecycle terminationMessagePath imagePullPolicy securityContext stdin stdinOnce tty     POD              POD   YAML      pod yaml     kubectl   POD    kubectl create  f pod yaml pod  kube100 site  created                   kubectl      POD         kubectl pods NAME READY STATUS RESTARTS AGE kube100 site 2 2 Running 0 1m        POD                                  kubectl describe                POD    kubectl delete  f pod yaml pod  kube100 site  deleted    Deployment                Deployment                      POD           POD                      kubernetes     Deployment       kubernetes      POD                                       POD                      Deployment  apiVersion  extensions v1beta1 kind  Deployment metadata  name  kube100 site spec  replicas  2      apiVersion     extensions v1beta1   kind    Deployment                       meta                         spec                                     Pod                                Kubernetes v1beta1 API           Depolyment                        Deployment   YAML     apiVersion  extensions v1beta1 kind  Deployment metadata  name  kube100 site spec  replicas  2 template  metadata  labels  app  web spec  containers  name  front end image  nginx ports  containerPort  80 name  flaskapp demo image  jcdemo flaskapp ports  containerPort  5000             pod yaml          template       POD            YAML      deployment yaml      Deployment    kubectl create  f deployment yaml deployment  kube100 site  created                    Deployment       kubectl deployments NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE kube100 site 2 2 2 2 2m           Pods                       YAML      Kubernetes",
        "objectID": "post/使用YAML 文件创建 kubernetes Deployment",
        "date": "2018-02-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "yaml",
            "Deployment"
        ],
        "keywords": [
            "kubernetes",
            "YAML",
            "Deployment"
        ],
        "slug": "use-yaml-create-kubernetes-deployment",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1502990313206-7f37a9514bea.jpeg",
                "desc": "Zigzag"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "华为 CloudNativeLives K8S 系列课程",
        "uri": "post/华为 CloudNativeLives K8S系列课程",
        "content": "CloudNativeLives   Kubernetes                                         Cloud Native                Cloud Migration      Cloud Native                                                                                                                  CloudNativeLives                                                              CNCF Cloud Native Computing Foundation                                                                                    CNCF   Maintainer Committer         CNCF                                CloudNativeLives           20 00                 https   bbs huaweicloud com webinar CloudNativeLives                                     k8s                CloudNativeLives                    0 1     Kubernetes               Kubernetes                                      k8s                                       kubernetes",
        "objectID": "post/华为 CloudNativeLives K8S系列课程",
        "date": "2018-08-31T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "CloudNative",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "CloudNative",
            "课程",
            "华为"
        ],
        "slug": "huawei-cloudnativelives-k8s-course",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535632788826-78ca9d09d2e7.jpeg",
                "desc": "NIGHT FULL OF MAGIC"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "双11优点知识课程优惠活动",
        "uri": "post/双11优点知识课程优惠活动",
        "content": "11                                         11                                                                11 11                                                                                               Docker Kubernetes      349    399          Kubernetes      49    59   Django2 0         80    99    0         59    69           https   youdianzhishi com",
        "objectID": "post/双11优点知识课程优惠活动",
        "date": "2018-11-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "双11",
            "课程",
            "活动"
        ],
        "slug": "course-11-promotion",
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "名称解释OCI、runc、containerd、Docker、CRI、CRI-O",
        "uri": "post/名称解释OCI、runc、containerd、Docker、CRI、CRI-O",
        "content": "TODO",
        "objectID": "post/名称解释OCI、runc、containerd、Docker、CRI、CRI-O",
        "date": "2018-06-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod",
            "Docker"
        ],
        "keywords": [
            "kubernetes",
            "Pod",
            "Docker",
            "runc",
            "CRI"
        ],
        "slug": "what-is-oci-runc-containerd-cri-docker",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1497864149936-d3163f0c0f4b.jpeg",
                "desc": "Coloured pencils"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "国庆 K8S 课程特别活动",
        "uri": "post/国庆 K8S 课程特别活动",
        "content": "3                                Kubernetes      59    Docker   Kubernetes       399       Kubernetes       99      557         399              www haimaxy com          2018 9 26  10 01        1             Kubernetes       Docker   Kubernetes          2      iEverything               59      3",
        "objectID": "post/国庆 K8S 课程特别活动",
        "date": "2018-09-27T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "国庆",
            "课程",
            "活动"
        ],
        "slug": "k8s-course-promotion",
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "圣诞元旦课程优惠活动",
        "uri": "post/圣诞元旦课程优惠活动",
        "content": "A                                     B                                   C                                                                                              Docker Kubernetes      360    399   Kubernetes        59    69   Django2 0         88    99          Kubernetes      49    59       Kubernetes                Kubernetes      99         2019 1 3                               https   youdianzhishi com",
        "objectID": "post/圣诞元旦课程优惠活动",
        "date": "2018-12-22T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "课程"
        ],
        "slug": "shengdan-promotion",
        "keywords": [
            "kubernetes",
            "课程",
            "优惠"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fyfc61yavdj30p00angoc.jpg",
                "desc": "活动"
            }
        ],
        "category": "课程"
    },
    {
        "title": "在kubernetes 集群上搭建docker 私有仓库Harbor",
        "uri": "post/在kubernetes 上搭建docker 私有仓库Harbor",
        "content": "Harbor          Docker       Registry                                      Docker Distribution          Registry     Harbor                   Registry               Harbor        Registry                   Registry                           Harbor                                       kubernetes            Harbor                    Docker                                      project                        Registry                                                              Docker                AD LDAP      Harbor           AD LDAP                                                                                         RESTful API   RESTful API         Harbor                                                     vSphere   OVA               clone harbor             harbor    kubernetes        kubernetes_deployment md  harbor      python    make kubernetes prepare    kubernetes  ConfigMap           python               python             openssl                            openssl                f         harbor cfg                  k  https          harbor cfg     sslcertkey     c  https           harbor cfg     ssl_cert     s          16                                               make harbor cfg  Harbor          make kubernetes    rc yaml                      rc yaml                     containers  name  nginx app it s importent need modify path image  image  harbor nginx make kubernetes pv  pvc yaml  Persistent Volume Claim                     resources  requests  set value adapt needs storage  100Gi make kubernetes pv  pv yaml  Persistent Volume          pvc yaml  PV   PVC              PVC                PV         capacity  value PVC storage  100Gi                        ConfigMap    python make kubernetes prepare                    make kubernetes jobservice jobservice cm yaml make kubernetes mysql mysql cm yaml make kubernetes nginx nginx cm yaml make kubernetes registry registry cm yaml make kubernetes ui ui cm yaml                                               make kubernetes templates         Harbor       jobservice cm yaml  jobservice       WEB     mysql cm yaml  MySQL  Root      nginx cm yaml  Https     nginx    registry cm yaml  Token       Registry                                storage  filesystem  rootdirectory   storage                         Docker         ui cm yaml  Token       UI  Dashboard       WEB     ui   jobservice   beego        beego                                            namespace kube ops    Harbor    namespace                traefik ingress                     nginx             nginx              make kubernetes     rc yaml    ReplicationController  Deployment   Deployment ReplicationController        apiVersion      apiVersion  extensions v1beta1    sepc    selector         make kubernetes      rc yaml  mysql rc yaml    svc yaml     namespace kube ops         mysql              mysql rc yaml  StatefulSet apiVersion        apps v1beta1             nfs                make kubernetes pv      ops pv yaml      pv         apiVersion  v1 kind  PersistentVolume metadata  name  opspv labels  k8s app  opspv spec  accessModes  ReadWriteMany capacity  storage  100Gi persistentVolumeReclaimPolicy  Retain nfs  path   ops data server  192 168 1 139          nfs           apiVersion  v1 kind  PersistentVolumeClaim metadata  name  opspvc namespace  kube ops labels  k8s app  opspvc spec  accessModes  ReadWriteMany resources  requests  storage  100Gi selector  matchLabels  k8s app  opspv             pv pvc       rc yaml     claimName      opspvc      volumeMounts       subPath               volumeMounts  name  logs mountPath   var log jobs subPath  harbor logs volumes  name  logs persistentVolumeClaim  claimName  opspvc           Harbor realse                            harbor   tgz          docker                docker load  i harbor   tgz            POD                                                         vmware docker            adminserver     clone     make kubernetes template    adminserver cm yaml             github                        github                       ConfigMap                  Harbor   create pv   pvc   kubectl apply  f make kubernetes pv ops pv yaml create config map   kubectl apply  f make kubernetes adminserver adminserver cm yaml   kubectl apply  f make kubernetes jobservice jobservice cm yaml   kubectl apply  f make kubernetes mysql mysql cm yaml   kubectl apply  f make kubernetes registry registry cm yaml   kubectl apply  f make kubernetes ui ui cm yaml create service   kubectl apply  f make kubernetes adminserver adminserver svc yaml   kubectl apply  f make kubernetes jobservice jobservice svc yaml   kubectl apply  f make kubernetes mysql mysql svc yaml   kubectl apply  f make kubernetes registry registry svc yaml   kubectl apply  f make kubernetes ui ui svc yaml create k8s deployment statefulset   kubectl apply  f make kubernetes adminserver adminserver rc yaml   kubectl apply  f make kubernetes registry registry rc yaml   kubectl apply  f make kubernetes mysql mysql rc yaml   kubectl apply  f make kubernetes jobservice jobservice rc yaml   kubectl apply  f make kubernetes u",
        "objectID": "post/在kubernetes 上搭建docker 私有仓库Harbor",
        "date": "2017-11-20T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker",
            "Harbor"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "Harbor",
            "私有仓库"
        ],
        "slug": "install-docker-registry-harbor-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23595852_383101912103802_7062153744867131392_n.jpg",
                "desc": "it’s the season for rainy days and yellow ginkgo leaves. "
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "基于 Jenkins 的 CI/CD(一)",
        "uri": "post/基于 jenkins 的 CICD(一)",
        "content": "Kubernetes                                                          CI CD                            Kubernete CI CD              Jenkins Gitlab CI     drone                  Jenkins  CI CD                              Jenkins                 Jenkins                     Jenkins                             Kubernetes  CI CD           Jenkins     Kubernetes           Deployment  jenkins2 yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  jenkins2 namespace  kube ops spec  template  metadata  labels  app  jenkins2 spec  terminationGracePeriodSeconds  10 serviceAccountName  jenkins2 containers  name  jenkins image  jenkins jenkins lts imagePullPolicy  IfNotPresent ports  containerPort  8080 name  web protocol  TCP containerPort  50000 name  agent protocol  TCP resources  limits  cpu  1000m memory  1Gi requests  cpu  500m memory  512Mi livenessProbe  httpGet  path   login port  8080 initialDelaySeconds  60 timeoutSeconds  5 failureThreshold  12 readinessProbe  httpGet  path   login port  8080 initialDelaySeconds  60 timeoutSeconds  5 failureThreshold  12 volumeMounts  name  jenkinshome subPath  jenkins2 mountPath   var jenkins_home env  name  LIMITS_MEMORY valueFrom  resourceFieldRef  resource  limits memory divisor  1Mi name  JAVA_OPTS value   Xmx  LIMITS_MEMORY m  XshowSettings vm  Dhudson slaves NodeProvisioner initialDelay 0  Dhudson slaves NodeProvisioner MARGIN 50  Dhudson slaves NodeProvisioner MARGIN0 0 85  Duser timezone Asia Shanghai securityContext  fsGroup  1000 volumes  name  jenkinshome persistentVolumeClaim  claimName  opspvc apiVersion  v1 kind  Service metadata  name  jenkins2 namespace  kube ops labels  app  jenkins2 spec  selector  app  jenkins2 type  NodePort ports  name  web port  8080 targetPort  web nodePort  30002 name  agent port  50000 targetPort  agent                              kube ops   namespace                 namespace    kubectl create namespace kube ops            jenkins jenkins lts        jenkins     Docker                                                                   https   github com jenkinsci docker                                    var jenkins_home            opspvc   PVC                        PVC                   StorageClass          pvc yaml  apiVersion  v1 kind  PersistentVolume metadata  name  opspv spec  capacity  storage  20Gi accessModes  ReadWriteMany persistentVolumeReclaimPolicy  Delete nfs  server  10 151 30 57 path   data k8s kind  PersistentVolumeClaim apiVersion  v1 metadata  name  opspvc namespace  kube ops spec  accessModes  ReadWriteMany resources  requests  storage  20Gi         PVC       kubectl create  f pvc yaml                       serviceAccount jenkins2         jenkins                   serviceAccount                  sa      cluster admin                             rbac yaml  apiVersion  v1 kind  ServiceAccount metadata  name  jenkins2 namespace  kube ops kind  Role apiVersion  rbac authorization k8s io v1beta1 metadata  name  jenkins2 namespace  kube ops rules  apiGroups    extensions    apps   resources    deployments   verbs    create    delete    get    list    watch    patch    update   apiGroups       resources    services   verbs    create    delete    get    list    watch    patch    update   apiGroups       resources    pods   verbs    create   delete   get   list   patch   update   watch   apiGroups       resources    pods exec   verbs    create   delete   get   list   patch   update   watch   apiGroups       resources    pods log   verbs    get   list   watch   apiGroups       resources    secrets   verbs    get   apiVersion  rbac authorization k8s io v1beta1 kind  RoleBinding metadata  name  jenkins2 namespace  kube ops roleRef  apiGroup  rbac authorization k8s io kind  Role name  jenkins2 subjects  kind  ServiceAccount name  jenkins2 namespace  kube ops    rbac            kubectl create  f rbac yaml serviceaccount  jenkins2  created role rbac authorization k8s io  jenkins2  created rolebinding rbac authorization k8s io  jenkins2  created                   NodePort        Jenkins   web       30002             agent               Jenkins   master   slave                              Jenkins       kubectl create  f jenkins2 yaml deployment extensions  jenkins2  created service  jenkins2  created                               Pod        kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE jenkins2 7f5494cd44 pqpzs 0 1 Running 0 2m       Pod    Running       READY    0       describe         Pod          kubectl describe pod jenkins2 7f5494cd44 pqpzs  n kube ops     Normal Created 3m kubelet  node01 Created container Normal Started 3m kubelet  node01 Started container Warning Unhealthy 1m  x10 2m  kubelet  node01 Liveness probe failed  http   10 244 1 165 8080 login  dial tcp 10 244 1 165 8080  getsockopt  connection refused Warning Unhealthy 1m  x10 2m  kubelet  node01 Readiness probe failed  http   10 244 1 165 8080 login  dial tcp 10 244 1 165 8080  getsockopt  connection refused         Warning                                          kubectl logs  f jenkins2 7f5494cd44 pqpzs  n kube ops touch  cannot touch   var jenki",
        "objectID": "post/基于 jenkins 的 CICD(一)",
        "subtitle": "基于 kubernetes 的动态 jenkins slave",
        "date": "2018-07-28T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "jenkins",
            "slave",
            "CI",
            "CD",
            "gitlab"
        ],
        "keywords": [
            "kubernetes",
            "jenkins",
            "slave",
            "CI",
            "CD",
            "gitlab",
            "动态"
        ],
        "slug": "kubernetes-jenkins1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1532154984646-37dc46508066.jpeg",
                "desc": "Rainbow after the Hailstorm"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "基于 Jenkins 的 CI/CD(三)",
        "uri": "post/基于 jenkins 的 CICD(三)",
        "content": "Jenkins Pipeline        Kubernetes                                                                               CI CD                           Jenkins                     Jenkins     Jenkinsfile                              Jenkins Web UI                                Jenkinsfile                             git        dev         main go                                     k8s yaml                            https   github com cnych jenkins demo tree dev         Jenkinsfile                                 Jenkinsfile  node  haimaxy jnlp     stage  Prepare     echo  1 Prepare Stage  checkout scm script   build_tag   sh returnStdout  true  script   git rev parse   short HEAD   trim    env BRANCH_NAME     master     buildtag      env BRANCHNAME    build_tag         stage  Test     echo  2 Test Stage    stage  Build     echo  3 Build Docker Image Stage  sh  docker build  t cnych jenkins demo   build_tag       stage  Push     echo  4 Push Docker Image Stage  withCredentials  usernamePassword credentialsId   dockerHub   passwordVariable   dockerHubPassword   usernameVariable   dockerHubUser       sh  docker login  u   dockerHubUser   p   dockerHubPassword   sh  docker push cnych jenkins demo   build_tag       stage  Deploy     echo  5  Deploy Stage   env BRANCH_NAME     master     input                 sh  sed  i  s    build_tag    k8s yaml  sh  sed  i  s    env BRANCH_NAME    k8s yaml  sh  kubectl apply  f k8s yaml   record                checkout scm                                tag           master                               master                                      k8s yaml                      dev     github      BlueOcean        BlueOcean           CI CD     BlueOcean   Jenkins                Jenkins Pipeline         UI            fressstyle     job BlueOcean                 CD Pipeline                  Pipeline          Pipeline          Pipeline                 BlueOcean     Pipeline                                        GitHub    Bitbucket                             BlueOcean          Jenkins           Docker                      Jenkins       BlueOcean       Jenkins Web UI          Manage Jenkins    Manage Plugins    Available         BlueOcean                     Blue Ocean                 Pipeline   Job            Blue Ocean          Pipeline             Git GitHub                 Pipeline              Jenkins Web UI            Open Blue Ocean                         Pipeline     Blue Ocean       Create new pipeline                     Pipeline            Git Bitbucket GitHub        GitHub                GitHub       token   GitHub          Personal access token         token          Pipeline                                                jenkins demo           Pipeline     Blue Ocean                        Jenkinsfile          Pipeline         master   dev                 Jenkinsfile                 Pipeline                        master                dev             dev    pipeline                                                        Push                 jenkins demo_dev I2WMFUIFQCIFGRPNHN3HU7IZIMHEQMHWPUN2TP6DCYSWHFFFFHOA  Running shell script docker push    jenkins demo dev ee90aa5 push refers repository  docker io    jenkins demo                   Docker     Tag  dev ee90aa5         Jenkinsfile                k8s yaml               BRANCH_NAME    Jenkinsfile                 dev      push   Github           Jenkins Blue Ocean                                                      kubectl pods NAME READY STATUS RESTARTS AGE     jenkins demo 648876568d q5mbx 0 1 Completed 3 57s       kubectl logs jenkins demo 648876568d q5mbx Hello  Kubernetes I m Jenkins CI  BRANCH  dev             BRANCH  dev          CI CD              dev          master                   jenkins demo  dev  git status branch dev nothing commit  working directory clean   jenkins demo  dev  git checkout master Switched branch  master  branch up to date  origin master     jenkins demo  master  git merge dev Updating 50e0401  ee90aa5 Fast forward Jenkinsfile   29                               k8s yaml   3     main go   2    3 files changed  14 insertions     20 deletions      jenkins demo  master  git push origin master Total 0  delta 0   reused 0  delta 0  git github com cnych jenkins demo git 50e0401  ee90aa5 master    master        Jenkins   Blue Ocean            master                             Push               jenkins demo_master XA3VZ5LP4XTCFAHHXIN3G5ZB4XA4J5H6I4DNKOH6JAXZXARF7LYQ  Running shell script docker push    jenkins demo ee90aa5                    TAG   ee90aa5                   Jenkinsfile                     Deploy                                                     master                            Proceed                         Kubernetes                kubectl pods NAME READY STATUS RESTARTS AGE     jenkins demo c69dc6fdf 6ssjf 0 1 Completed 5 4m       kubectl logs jenkins demo c69dc6fdf 6ssjf Hello  Kubernetes I m Jenkins CI  BRANCH  master                  master                                    CI CD                             CI CD                                            Helm Gitlab                Pipe",
        "objectID": "post/基于 jenkins 的 CICD(三)",
        "subtitle": "Jenkins Blue Ocean 的使用",
        "date": "2018-08-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "jenkins",
            "blueocean",
            "CI",
            "CD",
            "github",
            "pipeline"
        ],
        "keywords": [
            "kubernetes",
            "jenkins",
            "blueocean",
            "CI",
            "CD",
            "pipeline"
        ],
        "slug": "kubernetes-jenkins3",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1533151027763-09535debae4a.jpeg",
                "desc": "Durdle Door Holiday Park"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "基于 Jenkins 的 CI/CD(二)",
        "uri": "post/基于 jenkins 的 CICD(二)",
        "content": "Kubernetes       Jenkins Slave                     Jenkins        Kubernetes     Jenkins Pipeline         Jenkins                            Pipeline      Pipeline              Jenkins                                                           Jenkins Pipeline          Node       Node      Jenkins    Master    Agent     Step                     Jenkins Slave      Node    Stage       Pipeline          Stage    Stage           Build Test Deploy Stage                  Node Step    Step                             Docker        Jenkins           sh  make           shell                      Jenkins Pipline    Pipeline      Groovy                    Groovy          Pipeline        Declarative       Scripted Pipeline        Pipeline                Jenkins   Web UI                   Jenkinsfile                       Jenkins           SCMD       Jenkinsfile Pipeline              Pipeline                   Pipeline     Jenkins   Web UI               Job   Web UI     New Item         pipeline demo          Pipeline       OK          Pipeline        Script            node   stage  Clone     echo  1 Clone Stage    stage  Test     echo  2 Test Stage    stage  Build     echo  3 Build Stage    stage  Deploy     echo  4  Deploy Stage                 Build Now      Job                           Console Output                           Pipeline     4                                 Pipeline                         Pipeline Syntax              Pipeline                         Slave                    Pipeline                      Jenkins   Slave                  Slave                Slave Pod              label                label              Pipeline      node      label        node  haimaxy jnlp     stage  Clone     echo  1 Clone Stage    stage  Test     echo  2 Test Stage    stage  Build     echo  3 Build Stage    stage  Deploy     echo  4  Deploy Stage              node       haimaxy jnlp       label                kubernetes      Pod    kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE jenkins 7c85b6f4bd rfqgv 1 1 Running 4 6d                 kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE jenkins 7c85b6f4bd rfqgv 1 1 Running 4 6d jnlp 0hrrz 1 1 Running 0 23s            jnlp 0hrrz  Pod             Pod         kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE jenkins 7c85b6f4bd rfqgv 1 1 Running 4 6d         Job            Jenkins   Web UI       Console Output                                      Pod                 Job                      Stage View        Kubernetes                 Jenkins Slave                      Kubernetes           Kubernetes                                                    Dockerfile      Docker       Docker           Kubernetes YAML       YAML     Docker    TAG     kubectl               Kubernetes                                              Jenkins                          YAML      CI           CD                            Pipeline              node  haimaxy jnlp     stage  Clone     echo  1 Clone Stage    stage  Test     echo  2 Test Stage    stage  Build     echo  3 Build Docker Image Stage    stage  Push     echo  4 Push Docker Image Stage    stage  YAML     echo  5  Change YAML File Stage    stage  Deploy     echo  6  Deploy Stage                 golang        kubernetes          https   github com cnych jenkins demo                          Pipeline         clone                                           Dockerfile                              Docker                                                YAML         TAG        TAG                     kubectl                     CI CD                                                 Clone    stage  Clone     echo  1 Clone Stage  git url   https   github com cnych jenkins demo git                                       stage  Build     echo  3 Build Docker Image Stage  sh  docker build  t cnych jenkins demo   build_tag                         docker build                              Slave Pod             Docker Docker                   Slave     docker build               sh      docker build            tag             tag       latest   tag                                 git commit        tag               tag     git                           tag          stage                               tag                 Clone    stage             stage             stage  Clone     echo  1 Clone Stage  git url   https   github com cnych jenkins demo git  script   build_tag   sh returnStdout  true  script   git rev parse   short HEAD   trim       stage  Build     echo  3 Build Docker Image Stage  sh  docker build  t cnych jenkins demo   build_tag                                                                                         docker hub                        Harbor             Harbor          docker hub                                                           docker hub                                   docker              docker login                         docker push            docker hub                     Pipeline            stage  Push     echo  4 Push Docker Image Stage  sh  docker login  u cnych  p xxxxx  sh  docker push cnych jenki",
        "objectID": "post/基于 jenkins 的 CICD(二)",
        "subtitle": "Jenkins Pipeline 部署 Kubernetes 应用",
        "date": "2018-07-29T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "jenkins",
            "slave",
            "CI",
            "CD",
            "github",
            "pipeline"
        ],
        "keywords": [
            "kubernetes",
            "jenkins",
            "slave",
            "CI",
            "CD",
            "pipeline"
        ],
        "slug": "kubernetes-jenkins2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1532727296720-528974148542.jpeg",
                "desc": "Blood Moon Eclipse"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "外部服务发现之 ingress(一)",
        "uri": "post/外部服务发现之 ingress(一)",
        "content": "Kubernetes      kube dns                 Kubernetes                               NodePort   LoadBlancer     Service                       Kubernetes                                     ingress             NodePort                                   NodePort                  ingress                  Port     Ingress      kuberenets                               Service          nginx haproxy                           nginx            nginx                          Nginx                         Nginx Pod                     consul                       docker                   Ingress                                                                   Ingress controller      Ingress controller                   kube apiserver             service pod                Ingress controller     Ingress                                       consul consul template                  Ingress controller        traefik nginx controller Kubernetes Ingress Controller Kong HAProxy Ingress controller              Ingress Controller            traefik   nginx controller traefik      nginx controller                          traefik         ingress      Traefik Traefik                                                           Docker Swarm Mesos Marathon  Mesos Kubernetes Consul Etcd Zookeeper BoltDB Rest API             traefik          traefik   Pod              master                  master             traefik                           RBAC         rbac yaml   apiVersion  v1 kind  ServiceAccount metadata  name  traefik ingress controller namespace  kube system kind  ClusterRole apiVersion  rbac authorization k8s io v1beta1 metadata  name  traefik ingress controller rules  apiGroups     resources  services endpoints secrets verbs  list watch apiGroups  extensions resources  ingresses verbs  list watch kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  traefik ingress controller roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  traefik ingress controller subjects  kind  ServiceAccount name  traefik ingress controller namespace  kube system               kubectl create  f rbac yaml serviceaccount  traefik ingress controller  created clusterrole rbac authorization k8s io  traefik ingress controller  created clusterrolebinding rbac authorization k8s io  traefik ingress controller  created      Deployment     Pod         traefik        traefik yaml  kind  Deployment apiVersion  extensions v1beta1 metadata  name  traefik ingress controller namespace  kube system labels  k8s app  traefik ingress lb spec  replicas  1 selector  matchLabels  k8s app  traefik ingress lb template  metadata  labels  k8s app  traefik ingress lb name  traefik ingress lb spec  serviceAccountName  traefik ingress controller terminationGracePeriodSeconds  60 tolerations  operator   Exists  nodeSelector  kubernetes io hostname  master containers  image  traefik name  traefik ingress lb ports  name  http containerPort  80 name  admin containerPort  8080 args    api   kubernetes   logLevel INFO kind  Service apiVersion  v1 metadata  name  traefik ingress service namespace  kube system spec  selector  k8s app  traefik ingress lb ports  protocol  TCP port  80 name  web protocol  TCP port  8080 name  admin type  NodePort                  kubectl create  f traefik yaml deployment extensions  traefik ingress controller  created service  traefik ingress service  created       yaml     tolerations  operator   Exists  nodeSelector  kubernetes io hostname  master               master                 nodeSelector   traefik      master           tolerations                    kubeadm     master                                tolerations                                       nodeSelector   tolerations      Pod                        traefik        web ui          8080                                 NodePort    kubectl pods  n kube system  l k8s app traefik ingress lb  o wide NAME READY STATUS RESTARTS AGE IP NODE traefik ingress controller 57c4f787d9 bfhnl 1 1 Running 0 8m 10 244 0 18 master   kubectl svc  n kube system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE     traefik ingress service NodePort 10 102 183 112 80 30539 TCP 8080 30486 TCP 8m               masternodeip 30486        traefik   dashboard    Ingress            NodePort     traefik   Dashboard          ingress                 ingress     ingress yaml  apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik web ui namespace  kube system annotations  kubernetes io ingress class  traefik spec  rules  host  traefik haimaxy com http  paths  backend  serviceName  traefik ingress service servicePort  8080     traefik dashboard       ingress       kubectl create  f ingress yaml ingress extensions  traefik web ui  created        ingress            rules             traefik   dashboard      ingress          serviceName             traefik ingress service          8080                 servicePort               port     admin                             etc hosts      traefik haimaxy com   master      IP                   http   traefik haimaxy com                 dashboard  ",
        "objectID": "post/外部服务发现之 ingress(一)",
        "subtitle": "traefik 的安装使用",
        "date": "2018-08-15T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ingress",
            "traefik",
            "nginx",
            "haproxy",
            "kong"
        ],
        "keywords": [
            "kubernetes",
            "ingress",
            "traefik",
            "nginx",
            "haproxy",
            "kong"
        ],
        "slug": "ingress-traefik1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1534181220741-388dc50c711d.jpg",
                "desc": "In the middle of the nowhere"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "外部服务发现之 ingress(二)",
        "uri": "post/外部服务发现之 ingress(二)",
        "content": "traefik          ingress                 ingress tls    path     ingress           TLS                     https                                          CA                                       openssl     CA       openssl req  newkey rsa 2048  nodes  keyout tls key  x509  days 365  out tls crt                 kubectl      secret               kubectl create secret generic traefik cert   from file tls crt   from file tls key  n kube system    Traefik          Traefik               Traefik      https  defaultEntryPoints     http    https    entryPoints   entryPoints http  address     80   entryPoints http redirect  entryPoint    https  entryPoints https  address     443   entryPoints https tls    entryPoints https tls certificates   CertFile     ssl tls crt  KeyFile     ssl tls key                 http   https             http          https              traefik         https       https                           CertFile   KeyFile         traefik pod                                Pod               secret        volume       Pod         traefik toml            traefik pod                   ConfigMap               traefik toml          ConfigMap       traefik pod       kubectl create configmap traefik conf   from file traefik toml  n kube system              traefik pod   yaml      kind  Deployment apiVersion  extensions v1beta1 metadata  name  traefik ingress controller namespace  kube system labels  k8s app  traefik ingress lb spec  replicas  1 selector  matchLabels  k8s app  traefik ingress lb template  metadata  labels  k8s app  traefik ingress lb name  traefik ingress lb spec  serviceAccountName  traefik ingress controller terminationGracePeriodSeconds  60 volumes  name  ssl secret  secretName  traefik cert name  config configMap  name  traefik conf tolerations  operator   Exists  nodeSelector  kubernetes io hostname  master containers  image  traefik name  traefik ingress lb volumeMounts  mountPath    ssl  name   ssl  mountPath    config  name   config  ports  name  http containerPort  80 hostPort  80 name  https containerPort  443 hostPort  443 name  admin containerPort  8080 args    configfile  config traefik toml   api   kubernetes   logLevel INFO              443                 configfile      traefik toml                volume             traefik pod    kubectl apply  f traefik yaml   kubectl logs  f traefik ingress controller 7dcfd9c6df v58k7  n kube system time  2018 08 26T11 26 44Z  level info msg  Server configuration reloaded  80  time  2018 08 26T11 26 44Z  level info msg  Server configuration reloaded  443  time  2018 08 26T11 26 44Z  level info msg  Server configuration reloaded  8080            traefik pod                                      traefik   dashboard      https                                                                                                                       traefik   dashboard       ingress       TLS                             ingress   path              3     web                           backend yaml  kind  Deployment apiVersion  extensions v1beta1 metadata  name  svc1 spec  replicas  1 template  metadata  labels  app  svc1 spec  containers  name  svc1 image  cnych example web service env  name  APP_SVC value  svc1 ports  containerPort  8080 protocol  TCP kind  Deployment apiVersion  extensions v1beta1 metadata  name  svc2 spec  replicas  1 template  metadata  labels  app  svc2 spec  containers  name  svc2 image  cnych example web service env  name  APP_SVC value  svc2 ports  containerPort  8080 protocol  TCP kind  Deployment apiVersion  extensions v1beta1 metadata  name  svc3 spec  replicas  1 template  metadata  labels  app  svc3 spec  containers  name  svc3 image  cnych example web service env  name  APP_SVC value  svc3 ports  containerPort  8080 protocol  TCP kind  Service apiVersion  v1 metadata  labels  app  svc1 name  svc1 spec  type  ClusterIP ports  port  8080 name  http selector  app  svc1 kind  Service apiVersion  v1 metadata  labels  app  svc2 name  svc2 spec  type  ClusterIP ports  port  8080 name  http selector  app  svc2 kind  Service apiVersion  v1 metadata  labels  app  svc3 name  svc3 spec  type  ClusterIP ports  port  8080 name  http selector  app  svc3            3  Deployment     3  Service    kubectl create  f backend yaml deployment extensions  svc1  created deployment extensions  svc2  created deployment extensions  svc3  created service  svc1  created service  svc2  created service  svc3  created          ingress         3     example ingress yaml  apiVersion  extensions v1beta1 kind  Ingress metadata  name  example web app annotations  kubernetes io ingress class   traefik  spec  rules  host  example haimaxy com http  paths  path   s1 backend  serviceName  svc1 servicePort  8080 path   s2 backend  serviceName  svc2 servicePort  8080 path    backend  serviceName  svc3 servicePort  8080           ingress                     path                        ingress       kubectl create  f test ingress yaml ingress extensions  example web app  created   kubectl ingress NAME HOSTS ADDRESS PORTS AGE example web app example haimaxy com 80 1m   kubectl desc",
        "objectID": "post/外部服务发现之 ingress(二)",
        "subtitle": "Ingress TLS 和 PATH 的使用",
        "date": "2018-08-31T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ingress",
            "traefik",
            "nginx",
            "https"
        ],
        "keywords": [
            "kubernetes",
            "ingress",
            "openssl",
            "traefik",
            "https",
            "nginx"
        ],
        "slug": "ingress-traefik2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535565454739-863432ea3c0e.jpeg",
                "desc": "Thunderstorm over Paris"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "360 开源 K8S Dashboard Wayne 的安装使用",
        "uri": "post/奇虎360 开源 Kubernetes Dashboard wayne使用",
        "content": "Kubernetes                 Dashboard          Dashboard              360         Kubernetes Dashboard    Wayne  Wayne           Web   Kubernetes               Kubernetes                                                            Wayne         360                                    360                   DC       Wayne      Wayne               Bruce Wayne                              Angular               Ace      Kubernetes             Beego              Client go   Kubernetes           MySQL           RBAC Role based access control                                                                  k8s           k8s                         Json Yaml     k8s     LDAP OAuth 2 0 DB                LDAP     DB              OAuth2                        Kubernetes                                                                         webhook       APIKey                   APIKey                         APIKey                                                                k8s                                                                        web shell        web shell          Pod                                                     Web UI                      Worker                    audit   webhook           Wayne    MySQL   RabbitMQ    MySQL                    RabbitMQ                               MySQL                  MySQL                    Kubernetes            MySQL                 db yaml  apiVersion  apps v1beta1 kind  Deployment metadata  name  mysql namespace  kube system labels  app  mysql spec  template  metadata  labels  app  mysql spec  containers  name  mysql image  mysql 5 7 14 imagePullPolicy  IfNotPresent ports  containerPort  3306 name  dbport env  name  MYSQLROOTPASSWORD value  rootPassw0rd volumeMounts  name  db mountPath   var lib mysql volumes  name  db emptyDir     apiVersion  v1 kind  Service metadata  name  mysql namespace  kube system spec  selector  app  mysql ports  name  mysqlport protocol  TCP port  3306 targetPort  dbport              root             wayne                                                                    kubec create  f db yaml   kubectl pods  n kube system NAME READY STATUS RESTARTS AGE mysql 6ffcf87ddc 7kkbk 1 1 Running 0 1h          kubectl svc  n kube system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE mysql ClusterIP 10 106 31 171 3306 TCP 1h                         mysql 3306    MySQL         Wayne    clone Wayne   git       git clone https   github com Qihoo360 wayne     hack kubernetes               Wayne            ls  la hack kubernetes total 24 drwxr xr x 5 ych staff 160 Nov 19 13 40   drwxr xr x 5 ych staff 160 Nov 19 11 33     rw r  r   1 ych staff 339 Nov 19 11 33 configmap yaml  rw r  r   1 ych staff 967 Nov 19 13 40 deployment yaml  rw r  r   1 ych staff 229 Nov 19 11 33 service yaml                kube system                   namespace     kube system                   MySQL            configmap yaml             360       ConfigMap                app conf                    from file       ConfigMap         app conf    appname   wayne httpport   8080 runmode   prod autorender   false copyrequestbody   true EnableDocs   true EnableAdmin   true StaticDir   public static Custom config ShowSql   false enable username password login EnableDBLogin   true token  generate jwt token RsaPrivateKey      apikey rsa private pem  RsaPublicKey      apikey rsa public pem  token end time  second TokenLifeTime 86400 kubernetes labels config AppLabelKey  wayne app NamespaceLabelKey   wayne ns PodAnnotationControllerKindLabelKey   wayne cloud controller kind database configuration  mysql DBName   wayne DBTns   tcp mysql 3306  DBUser   root DBPasswd   rootPassw0rd DBLoc    Asia 2FShanghai  DBConnTTL   30 web shell auth appKey    860af247a91a19b2368d6425797921c6  Set demo namespace group id DemoGroupId   1 DemoNamespaceId   1 Sentry LogLevel   7 SentryEnable   false  SentryDSN      SENTRY_DSN    SentryLogLevel      SENTRY_LOGLEVEL  4   Robin EnableRobin   false api keys EnableApiKeys   false Bus BusEnable   false  BusRabbitMQURL      MQ_URL  amqp   guest guest rabbitmq 5672     Canary Production            metaData   mode   beta       beta    BetaUrl      BETA_URL  https   beta wayne cloud    AppUrl      APP_URL  https   www wayne cloud   oauth2  RedirectUrl      REDIRECT_URL  https   www wayne cloud    auth qihoo  enabled   false client_id   client client_secret   secret auth_url   https   example com oauth2 v1 authorize token_url   https   example com oauth2 v1 token api_url   https   example com oauth2 v1 userinfo ldap config enable ldap login  auth ldap  enabled   false ldap_url   ldap   127 0 0 1 ldapsearchdn    cn admin dc example dc com  ldapsearchpassword   admin ldapbasedn    dc example dc com  ldap_filter   ldap_uid   cn ldap_scope   2 ldapconnectiontimeout   30                          runmode   prod                           DBName   wayne DBTns   tcp mysql 3306  DBUser   root DBPasswd   rootPassw0rd DBLoc    Asia 2FShanghai  DBConnTTL   30  DBTns      mysql                    DBUser    root                             ConfigMap       kubectl create configmap infra wa",
        "objectID": "post/奇虎360 开源 Kubernetes Dashboard wayne使用",
        "date": "2018-11-19T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "wayne"
        ],
        "slug": "kubernetes-dashboard-wayne-usage",
        "keywords": [
            "kubernetes",
            "360",
            "开源",
            "dashboard",
            "wayne"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1542481889-27404a7ec14a.jpeg",
                "desc": "church of St. John of Nepomuk in Ranui, Italy"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "好吧，海马学院正式上线了",
        "uri": "post/好吧，海马学院正式上线了",
        "content": "Sideproject                                      Python                                                                                                                                                                                Web                                                                                                                                                                                                               10                                                                                                                                                                                                                              Python   Golang   Docker   Kubernetes   Devops         Vue   React                                                        Kubernetes 1 9 2             Webpack3 x           Python                        Python      Celery Django              Kubernetes    Python        Vue   Django                                    iEverything                 PC     https   www haimaxy com                              PC                                                                                                                                                                                                             ydzs io       io                                         k8s",
        "objectID": "post/好吧，海马学院正式上线了",
        "subtitle": "一个互联网实战项目学习平台",
        "date": "2018-04-02T00:00:00.000Z",
        "tags": [
            "海马学院",
            "一点知识",
            "上线"
        ],
        "keywords": [
            "海马学院",
            "一点知识",
            "上线",
            "视频教程",
            "实战项目"
        ],
        "slug": "haimaxy-online",
        "toc": true,
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1511376777868-611b54f68947.jpeg",
                "desc": "BEGIN."
            }
        ],
        "category": "一点知识"
    },
    {
        "title": "如何学习Kubernetes？",
        "uri": "post/如何学习Kubernetes",
        "content": "Docker Kubernetes                            Google Microsoft IBM                                  BAT                      Kubernetes                                                                                                                                        namespace     cgroups                                                                                                                              JVM                 Kubernetes     IP               Debug  Kubernetes StatefulSet Operator       PV PVC                                                                                                                                                                                          Linux                              Kubernetes                     Docker  Kubernetes                                                                       Kubernetes         Kubernetes                Kubernetes                                  Kubernetes                       Docker     Docker           katacoda          Kubernetes                                 Kubernetes       Kubernetes          Rancher    Kubernetes               Rancher          Kubernetes                     Docker MAC Windows   Kubernetes              kubectl     Kubernetes                     Kubeadm                                          kubeadm         Kubernetes                                                        Kubernetes                                      Kubernetes                             Kubernetes                CI CD     ServiceMesh                                Kubernetes                                          Kubernetes                                                                               Kubernetes         Docker Kubernetes                  Docker        Kubernetes                          Docker  Kubernetes                 Docker                 Kubernetes     kubeadm     Kubernetes      Kubernetes                       Kubernetes        Kubernetes         Helm             Kubernetes CI CD                399    499                               40                                                                                  Kubernetes                                    Kubernetes                  Kubernetes                                                                                                     4                                                                               Kubernetes         Kubernetes                                                                          Kubernetes                                       Kubernetes                                                                     Kubernetes                       Kubernetes                       Kubernetes                                                                                              4                                   Kubernetes                                                                                                                                                                                                 68    99 9 8                        24                               App                                             9 2           Docker Kubernetes                           Kubernetes                       k8s                                       kubernetes",
        "objectID": "post/如何学习Kubernetes",
        "subtitle": "如何可以快速学习Kubernetes",
        "date": "2018-08-29T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "k8s"
        ],
        "keywords": [
            "kubernetes",
            "学习",
            "视频",
            "专栏",
            "极客时间",
            "优点知识"
        ],
        "slug": "how-to-learn-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535383494412-9bdda0d6d9f3.jpeg",
                "desc": "Lighthouse"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "利用Python 优雅的将PDF 转换成图片",
        "uri": "post/将PDF转换成图片",
        "content": "PDF                                           PDF                                 PDF                                 PyPDF    PDF                                        PDF                          PDF          PdfFileReader        PyPDF2 API                                          wand             coding  utf 8    import io wand image import Image wand color import Color PyPDF2 import PdfFileReader  PdfFileWriter memo      def getPdfReader filename   reader   memo get filename  None  reader None  reader   PdfFileReader filename  strict False  memo filename    reader return reader def runconvert filename  page  res 120   idx   page   1 pdfile   getPdfReader filename  pageObj   pdfile getPage page  dst_pdf   PdfFileWriter   dst_pdf addPage pageObj  pdf_bytes   io BytesIO   dstpdf write pdfbytes  pdf_bytes seek 0  img   Image file pdf_bytes  resolution res  img format    png  img compression_quality   90 img background_color   Color  white   img_path     s d png     filename  filename rindex        idx  img save filename img_path  img destroy             PDF              PDF                           PDF                                      PDF                                                                           celery                            github                      PDF  H5                                https   pdfh5 com",
        "objectID": "post/将PDF转换成图片",
        "date": "2017-10-30T00:00:00.000Z",
        "publishdate": "2017-12-06T00:00:00.000Z",
        "tags": [
            "python",
            "PDF"
        ],
        "bigimg": [
            {
                "src": "/img/posts/15624042_1804617946454032_2037034921851092992_n.jpg",
                "desc": "普吉岛@泰国 JAN 6,2017"
            }
        ],
        "slug": "python-convert-pdf-images",
        "category": "python",
        "gitcomment": true
    },
    {
        "title": "并发模型",
        "uri": "post/并发模型",
        "content": "Golang       goroutine                                                                                                C10k C10k   Client 10000          1                   C100k C1000k                                                                                                                                                                  CPU        I O                     Web    I O            I O           CPU                           CPU           I O                                      handle                           I O                                    I O                                         The C10K problem                                                     Web                  Web                                                    jQuery Ajex                                                                   B                B                                   B    B        A                                                                                    Unix    I O                               UNIX    I O                                                                              I O                                 PCB process control block                                   TCB thread control block                                            TCB                                                                                                                         KST Kernel Supported Threads          UST  User Supported Threads         TCB                                                                                                                                                                                                                                                  1 1 1 n n m                                  RR  round robin                                            Preemptive Mode                                   Nonpreemptiv Mode                                I O                               Coroutine                                                            Erlang Lua Python Golang                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    1                                                                                                           2                          fork                                                      Apache                Prefork MPM                                               worker MPM                               worker MPM                          PHP3 4 5                          worker MPM        Worker MPM                                    MPM                       prefork MPM                                     crash                             web   apache      3                                 accept                                                                                                                                                                                                                                                                      IO                                                                                                                                                   100         1000     10000          10                           4        callback       Nginx                  IO      Nginx           master            worker                  worker                        master       worker           worker                      worker         master         socket         sock             fork      workers                sockfd socket              accept              connected descriptor                                                            Nginx   accept                     worker     Nginx      epoll        I O               Nginx      Node js         Node js                   Node js                                           I O         emit                                              Node js               libev     libev                                            Node js                                                                                                                                             Node js             libevent   libev          5                                                                           python         yield     golang     go      goroutine                     gorounte            k                 Windows     2M Linux     8M     goroutine                                                                                                                                                goroutine                                   goroutine           goroutine                         goroutine        goroutine                   G goroutine  M machine  P  process",
        "objectID": "post/并发模型",
        "date": "2018-09-17T00:00:00.000Z",
        "tags": [
            "并发",
            "golang"
        ],
        "keywords": [
            "并发",
            "高并发",
            "线程",
            "进程",
            "协程",
            "同步",
            "异步",
            "阻塞",
            "非阻塞"
        ],
        "slug": "concurrency-model-compare",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535429102716-478f09fbf748.jpeg",
                "desc": "并发模型"
            }
        ],
        "category": "golang"
    },
    {
        "title": "手动搭建高可用的kubernetes 集群",
        "uri": "post/手动搭建高可用的Kubernetes 集群",
        "content": "kubernetes                         kubernetes                   v1 8 2      kube apiserver     traefik ingress      kubernetes   docker     harbor    kubernetes                                                                    kubernetes                                           CentOS 7 Ubuntu 16 04               TLS      RBAC                                                                                                                                                                            1 9         Kubernetes                                        k8s                                       kubernetes            1                    Kubernetes 1 8 2 1 9 x               Docker 17 10 0 ce Etcd 3 2 9 Flanneld TLS            etcd kubernetes master  node  RBAC    kubelet TLS Bootstrapping kubedns dashboard heapster    harbor   nfs     etcd       k8s master       k8s node    master01 192 168 1 137 master02 192 168 1 138 master03 node03 192 168 1 170             master03    node                node01  192 168 1 161 node02  192 168 1 162                                             TLS Bootstrapping    Token        head  c 16  dev urandom   od  An  t x   tr  d        BOOTSTRAP_TOKEN  8981b594122ebed7596f1d3b69c78223                   Pod         Service CIDR                    IP Port   SERVICE_CIDR  10 254 0 0 16  Pod    Cluster CIDR                   flanneld     CLUSTER_CIDR  172 30 0 0 16         NodePort Range  NODEPORTRANGE  30000 32766  etcd         ETCD_ENDPOINTS  https   192 168 1 137 2379 https   192 168 1 138 2379 https   192 168 1 170 2379  flanneld        FLANNELETCDPREFIX   kubernetes network  kubernetes   IP         SERVICE_CIDR     IP  CLUSTERKUBERNETESSVC_IP  10 254 0 1     DNS   IP  SERVICE_CIDR        CLUSTERDNSSVC_IP  10 254 0 2     DNS    CLUSTERDNSDOMAIN  cluster local   MASTER API Server    MASTER_URL  k8s api virtual local            env sh               usr k8s bin                            apiserver        etc hosts        192 168 1 137 k8s api virtual local k8s api   192 168 1 137 master01  IP      IP   apiserver                    ECS                                                                        2    CA       kubernetes           TLS                CloudFlare PKI    cfssl    Certificate Authority CA           CA                    TLS        CFSSL   wget https   pkg cfssl org R1 2 cfssl_linux amd64   chmod  x cfssl_linux amd64   sudo mv cfssl_linux amd64  usr k8s bin cfssl   wget https   pkg cfssl org R1 2 cfssljson_linux amd64   chmod  x cfssljson_linux amd64   sudo mv cfssljson_linux amd64  usr k8s bin cfssljson   wget https   pkg cfssl org R1 2 cfssl certinfo_linux amd64   chmod  x cfssl certinfo_linux amd64   sudo mv cfssl certinfo_linux amd64  usr k8s bin cfssl certinfo   export PATH  usr k8s bin  PATH   mkdir ssl    cd ssl   cfssl print defaults config   config json   cfssl print defaults csr   csr json        usr k8s bin                      export PATH  usr k8s bin  PATH    etc rc local       CA        config json   ca config json    cat ca config json    signing      default      expiry    87600h      profiles      kubernetes      expiry    87600h    usages      signing    key encipherment    server auth    client auth            config json       profiles                                 profile  signing                    ca pem    CA TRUE  server auth    client     CA  server            client auth    server     CA  client              CA        ca csr json    cat ca csr json    CN    kubernetes    key      algo    rsa    size   2048     names        C    CN    L    BeiJing    ST    BeiJing    O    k8s    OU    System        CN  Common Name kube apiserver                   User Name                    O  Organization kube apiserver                     Group     CA          cfssl gencert  initca ca csr json   cfssljson  bare ca   ls ca    ca config json ca csr ca csr json ca key pem ca pem          CA                      etc kubernetes ssl        sudo mkdir  p  etc kubernetes ssl   sudo cp ca   etc kubernetes ssl 3       etcd    kubernetes     etcd              3    etcd     3       kubernetes master 3         etcd01 etcd02 etcd03  etcd01 192 168 1 137 etcd02 192 168 1 138 etcd03 192 168 1 170                    export NODE_NAME etcd01                                 export NODE_IP 192 168 1 137          IP   export NODE_IPS  192 168 1 137 192 168 1 138 192 168 1 170    etcd        IP     etcd       IP      export ETCD_NODES etcd01 https   192 168 1 137 2380 etcd02 https   192 168 1 138 2380 etcd03 https   192 168 1 170 2380                 ETCDENDPOINTS FLANNELETCDPREFIX CLUSTERCIDR   source  usr k8s bin env sh   etcd        https   github com coreos etcd releases                  wget https   github com coreos etcd releases download v3 2 9 etcd v3 2 9 linux amd64 tar gz   tar  xvf etcd v3 2 9 linux amd64 tar gz   sudo mv etcd v3 2 9 linux amd64 etcd   usr k8s bin    TLS                     etcdctl  etcd    etcd            TLS       etcd           cat   etcd csr json etcd service kubectl      kube config         kube apiserver                             kubectl          kubec",
        "objectID": "post/手动搭建高可用的Kubernetes 集群",
        "date": "2017-11-06T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "高可用",
            "集群",
            "docker"
        ],
        "keywords": [
            "kubernetes",
            "安装",
            "二进制",
            "高可用",
            "集群",
            "docker",
            "kubectl",
            "Haproxy",
            "Keepalived"
        ],
        "slug": "manual-install-high-available-kubernetes-cluster",
        "gitcomment": true,
        "toc": true,
        "bigimg": [
            {
                "src": "/img/posts/23164024_304744326693830_684783048734015488_n.jpg",
                "desc": "Foggy weather on the coast + a chance encounter with wild horses"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "手摸手教你写 Kubernetes 的 golang 服务",
        "uri": "post/手摸手教你写Kubernetes的golang服务",
        "content": "kubernetes                  kubernetes                              kubernetes golang    golang    golang                                                                         golang                   https   golang google cn             goappk8s             src     mkdir goappk8s    cd goappk8s   mkdir src  goappk8s         GOPATH     setup gopath sh     bin bash DIR    cd    dirname    BASH_SOURCE 0         pwd   export GOPATH   DIR                GOPATH           source setup gopath sh   echo  GOPATH  Users ych devs workspace yidianzhishi goappk8s       GOPATH                 src       golang       mkdir  p github com cnych goappk8s    cd github com cnych goappk8s   touch main go           golang         ping     package main import    github com gin gonic gin   net http    func main     router    gin Default   router GET   ping   func c  gin Context    c String http StatusOK   PONG      router Run   8080                          github com gin gonic gin                  GOPATH           govendor                         dep glide     github com cnych goappk8s               govendor init   govendor fetch github com gin gonic gin                                     GOPATH              go install github com cnych goappk8s      bin goappk8s  GIN debug   WARNING  Creating Engine instance Logger Recovery middleware already attached   GIN debug   WARNING  Running  debug  mode  Switch  release  mode production  using env  export GIN_MODE release using code  gin SetMode gin ReleaseMode   GIN debug   ping     main main func1  3 handlers   GIN debug  Listening serving HTTP  8080          golang                      http   127 0 0 1 8080 ping            PONG                 Docker         Docker                   golang     Dockerfile     main go     golang build env ADD    go src app WORKDIR  go src app RUN go  u  v github com kardianos govendor RUN govendor sync RUN GOOS linux GOARCH 386 go build  v  o  go src app app server alpine RUN apk add  U tzdata RUN ln  sf  usr share zoneinfo Asia Shanghai  etc localtime COPY   from build env  go src app app server  usr local bin app server EXPOSE 8080 CMD    app server        Docker      docker build  t cnych goappk8s v1 0 0                Successfully built 00751f94d8a9 Successfully tagged cnych goappk8s v1 0 0   docker push cnych goappk8s v1 0 0                cnych goappk8s v1 0 0      dockerhub                                                                kubernetes    Kubernetes             kubernetes                                     Dockerfile             kubernetes       k8s yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  goapp deploy namespace  kube apps labels  k8s app  goappk8s spec  replicas  2 revisionHistoryLimit  10 minReadySeconds  5 strategy  type  RollingUpdate rollingUpdate  maxSurge  1 maxUnavailable  1 template  metadata  labels  k8s app  goappk8s spec  containers  image  cnych goappk8s v1 0 0 imagePullPolicy  Always name  goappk8s ports  containerPort  8080 protocol  TCP resources  limits  cpu  100m memory  100Mi requests  cpu  50m memory  50Mi livenessProbe  tcpSocket  port  8080 initialDelaySeconds  10 timeoutSeconds  3 readinessProbe  httpGet  path   ping port  8080 initialDelaySeconds  10 timeoutSeconds  2 apiVersion  v1 kind  Service metadata  name  goapp svc namespace  kube apps labels  k8s app  goappk8s spec  ports  name  api port  8080 protocol  TCP targetPort  8080 selector  k8s app  goappk8s apiVersion  extensions v1beta1 kind  Ingress metadata  name  goapp ingress namespace  kube apps spec  rules  host  goappk8s local http  paths  path    backend  serviceName  goapp svc servicePort  api    k8s yaml         3    Deployment Service Ingress    YAML                      YAML      Kubernetes Deployment        replicas  2          POD       strategy      RollingUpdate resources         POD        livenessProbe readinessProbe             kubectl           kubectl apply  f k8s yaml deployment  goapp deploy  created service  goapp svc  created ingress  goapp ingress  created                                   kubectl deployments  n kube apps  grep goapp goapp deploy 2 2 2 2 57s   kubectl svc  n kube apps  grep goapp goapp svc ClusterIP 10 254 109 69 8080 TCP 1m   kubectl ingress  n kube apps  grep goapp goapp ingress goappk8s local 80 1m   kubectl pods  n kube apps  grep goapp goapp deploy 84bb6979c 59qkl 1 1 Running 0 2m goapp deploy 84bb6979c mgg2r 1 1 Running 0 2m        kubernetes        POD              etc hosts     Ingress          k8s    IP goappk8s local              http   goappk8s local ping              PONG                   github             CI CD                           kubernetes                                               k8s                                       kubernetes",
        "objectID": "post/手摸手教你写Kubernetes的golang服务",
        "date": "2018-02-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker",
            "golang"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "golang",
            "服务"
        ],
        "slug": "write-kubernets-golang-service-step-by-step",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1508922450598-2f5b1193950a.jpeg",
                "desc": "Lake Wakatipu, New Zealand"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "更优雅的git log",
        "uri": "post/更好的git log",
        "content": "git log                git log                                                                                                                    git log   graph   pretty format   Cred h Creset   C yellow  d Creset  s  Cgreen  cr   C bold blue  Creset    abbrev commit                                        git config   global alias lg  log   color   graph   pretty format   Cred h Creset   C yellow  d Creset  s  Cgreen  cr   C bold blue  Creset    abbrev commit                      git lg                         git lg  p",
        "objectID": "post/更好的git log",
        "date": "2017-12-20T00:00:00.000Z",
        "tags": [
            "git",
            "log",
            "ops"
        ],
        "slug": "a-better-git-log",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/24327236_2084467321787075_5515671519205785600_n.jpg",
                "desc": "Fall and fog"
            }
        ],
        "category": "ops"
    },
    {
        "title": "更新django2.0的10条注意事项",
        "uri": "post/更新django2.0的10条注意事项",
        "content": "django 2 0                   python2 x                2 x              python3 x           python3 x                                 python            python          django2 0                 Django 2 0              1  url django core urlresolvers import reverse     django urls import reverse 2  MIDDLEWARE settings py   MIDDLEWARE_CLASSES    MIDDLEWARE          3  django shortcuts render   django shortcuts rendertoresponse               django shortcuts render      4  User isauthenticated  User isanonymous    User isauthenticated   User isanonymous           User isauthenticated User isanonymous  5  SessionAuthenticationMiddleware    SessionAuthenticationMiddleware            Django 1 10           6  assignmenttag   simpletag  register assignmenttag    register simpletag  django2 0              Django 2 0         7  on_delete models CASCADE  model ForeignKey OneToOne     on_delete models CASCADE  8  URL        Django   URL                       Pythonic                       url r  articles   P 0 9  4       views year_archive               path  articles     views year_archive   9                 annotate        Window        Frame     10                                          Django 2 0",
        "objectID": "post/更新django2.0的10条注意事项",
        "date": "2018-01-02T00:00:00.000Z",
        "tags": [
            "django",
            "django2.0"
        ],
        "slug": "upgrading-django-20-10-tips",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1500206329404-5057e0aefa48.jpeg",
                "desc": "Seeking the one who is higher than us. Lifting our hands to calling his name. Surrendering all of our being through worship."
            }
        ],
        "category": "python"
    },
    {
        "title": "TDD开发容器化的Python微服务应用(一)",
        "uri": "post/测试驱动开发课程",
        "content": "Docker                                                  TDD                                                                                                                                                                                                                  iEverything           python            python                   Docker               Flask Buleprint    Jinja      flask microservices main   Docker Compose    Nginx Admin    flask microservices users           Flask    flask microservices client       React    flask microservices swagger   Swagger API         1                   github            tag       RealPython                                            Docker  Flask MySQL   RESTful API                            TDD                        Docker   started Docker Docker Compose   started Docker Compose Flask   Flaskr TDD               Python v3 6 4 Flask v0 12 2 Flask Script v2 0 6 Flask SQLAlchemy v2 3 2 Flask Testing v0 7 1 PyMySQL v0 8 0 Gunicorn v19 7 1 Nginx v1 13 0 Docker v17 11 0 ce Docker Compose v1 14 0                     Flask    RESTful API             TDD      Docker Docker Compose                                                  Docker     Python Flask     Flask Nginx Gunicorn 2                                        Flask    mkdir flask microservices users    cd flask microservices users   mkdir project   pyenv virtualenv 3 6 4 tdd3   pyenv local tdd3  tdd3   pip install Flask  0 12 2  project       init py            project init py flask import Flask  jsonify    app app   Flask name   app route   ping   methods   GET    def ping_pong    return jsonify    status    success    message    pong           Flask Script               Flask app   tdd3   pip install Flask Script  2 0 6             manage py     manage py flask_script import Manager project import app manager   Manager app  name     main   manager run              Manager                          tdd3   python manage py runserver                    http   localhost 5000 ping        json             message    pong     status    success             Ctrl C   project        config py           project config py class BaseConfig             DEBUG   False TESTING   False class DevelopmentConfig BaseConfig                DEBUG   True class TestingConfig BaseConfig                DEBUG   True TESTING   True class ProductionConfig BaseConfig                DEBUG   False     init py                  flask import Flask  jsonify    app app   Flask name       app config from_object  project config DevelopmentConfig    app route   ping   methods   GET    def ping_pong    return jsonify    status    success    message    pong                        debug          tdd3   python manage py runserver Running http   127 0 0 1 5000   Press CTRL C quit  Restarting stat Debugger active  Debugger PIN  770 657 842                                                                 requirements txt            pip freeze                      tdd3   pip freeze   requirements txt     requirements txt      Flask  0 12 2 Flask Script  2 0 6                 gitignore     pycache env    git             3  Docker              Flask                           Docker Docker Compose    docker  v Docker version 17 05 0 ce  build 89658be   docker compose  v docker compose version 1 14 0  build unknown              Dockerfile     python 3 6 4        RUN mkdir  p  usr src app WORKDIR  usr src app        Docker      ADD   requirements txt  usr src app requirements txt      RUN pip install  r requirements txt      ADD    usr src app      CMD python manage py runserver  h 0 0 0 0                docker compose yml     version   2 1  services  users service  container_name  users service build    volumes      usr src app  ports  5001 5000                               Dockerfile     users service       docker compose yml            volumes                                                                   Docker compose             2 1         docker compose            Docker                                3 x 2 x                                docker compose build                          Docker                                     docker compose  d    d                        http   127 0 0 1 5001 ping             JSON           docker compose yml                           version   2 1  services  users service  container_name  users service build    volumes      usr src app  ports  5001 5000                   environment  APP_SETTINGS project config DevelopmentConfig     proejct init py                   import os flask import Flask  jsonify    app app   Flask name       appsettings   os getenv  APPSETTINGS   app config fromobject appsettings   app route   ping   methods   GET    def ping_pong    return jsonify    status    success    message    pong                docker compose  d                         project init py             import sys print app config  file sys stderr                                         docker compose logs  f users service         DEBUG True TESTING False                    4                   MySQL                     link users service          ",
        "objectID": "post/测试驱动开发课程",
        "date": "2017-12-28T00:00:00.000Z",
        "tags": [
            "python",
            "flask",
            "TDD",
            "docker",
            "react",
            "kubernetes",
            "Microservice"
        ],
        "slug": "tdd-develop-python-microservice-app",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1470020337050-543c4e581988.jpeg",
                "desc": "Cloudy Cabin Escape."
            }
        ],
        "category": "python"
    },
    {
        "title": "TDD开发容器化的Python微服务应用(二)",
        "uri": "post/测试驱动开发课程(二)",
        "content": "3                                                     ReactJS                                                                                                                                                    iEverything           python            python                                  React    React    React        React    1     flask microservices main   Docker Compose    Nginx       flask microservices users   Flask    flask microservices client       2                      Docker Compose      git                             Docker          Travis CI       React    React            3                                                      requirements txt          coverage  4 4 2       manage py         import coverage COV   coverage coverage  branch True  include  project     omit    project tests        COV start    manager command def cov       Runs unit tests coverage     tests   unittest TestLoader   discover  project tests   result   unittest TextTestRunner verbosity 2  run tests  result wasSuccessful    COV stop   COV save   print  Coverage Summary    COV report   COV html_report   COV erase   return 0 return 1                       tdd3   docker compose  f docker compose yml  d   build                 tdd3   docker compose  f docker compose yml run users service python manage py cov                Coverage Summary  Name Stmts Miss Branch BrPart Cover project init py 12 5 0 0 58  project api models py 13 10 0 0 23  project api views py 55 0 10 0 100  project config py 16 0 0 0 100  TOTAL 96 15 10 0 86                    htmlcov                                     htmlcov index html                 htmlcov       gitignore     4       Liniting                       python       linting         Flake8      pep8 pyflakes  linting        requrements txt     flake8     flake8  3 5 0              tdd3   docker compose  f docker compose yml  d   build        flake8         tdd3     docker compose  f docker compose yml run users service flake8 project Starting users db     done project init py 2 1  F401  flask jsonify  imported unused project tests test_users py 28 80  E501 line long  83   79 characters                 flask jsonify                                                        5                                                                                            github       Travis CI                                       travis yml     sudo  required services  docker env  DOCKERCOMPOSEVERSION  1 14 0 before_install  sudo rm  usr local bin docker compose curl  L https   github com docker compose releases download   DOCKERCOMPOSEVERSION  docker compose uname  s uname  m   docker compose chmod  x docker compose sudo mv docker compose  usr local bin before_script  docker compose  f docker compose yml   build  d script  docker compose  f docker compose yml run users service python manage py test docker compose  f docker compose yml run users service flake8 project after_script  docker compose  f docker compose yml down                      docker compose                                                 Travis CI                               GitHub                        Travis CI                     Travis      README md                                                                           GitHub   Travis         6  React    React            javascript                                          React                      React         Why build React  React                    Babel Webpack                            React                     Node NPM    tdd100 node  v v8 5 0   tdd100 npm  v 5 4 2                                         6 1                      React         Create React App        Create React App            npm install create react app   global             flask microservices users                 client                 mkdir client    cd client   create react app                                          npm start         Create React App               http   localhost 3000                  Crtl   C                    npm       package lock json      echo  package lock false      npmrc       npm docs         npmrc        package lock json                 Understanding lock files NPM 5                         6 2                             src     App css App js App test js  index css       index js    import React  react   import ReactDOM  react dom   const App           return   Users      ReactDOM render    document getElementById  root                   React ReactDom           App      ES6                      JSX          ReactDOM render      App        ID root HTML         public     index html                        ES6                   javascript        ES6            ES6    javascript                                             public    index html   head    bootstrap css      6 3                 App             import React   Component   react   import ReactDOM  react dom   class App extends Component   constructor     super      render     return   Users       ReactDOM render    document getElementById  root            npm start                                                    ",
        "objectID": "post/测试驱动开发课程(二)",
        "date": "2018-01-13T00:00:00.000Z",
        "tags": [
            "python",
            "flask",
            "TDD",
            "docker",
            "react",
            "kubernetes",
            "Microservice"
        ],
        "slug": "tdd-develop-python-microservice-app-part2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1435777940218-be0b632d06db.jpeg",
                "desc": "Arctic plains."
            }
        ],
        "category": "python"
    },
    {
        "title": "理解 Kubernetes 的亲和性调度",
        "uri": "post/理解kubernetes的亲和性",
        "content": "POD                                                                  POD                 gitlab        Kubernetes                                                                                    POD                  Kubernetes                       nodeAffinity podAffinity  nodeSelector     label kubernetes                       label                      service      label     POD     POD             label                           node   label    kubectl nodes   show labels NAME STATUS ROLES AGE VERSION LABELS 192 168 1 140 Ready 42d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname 192 168 1 140 192 168 1 161 Ready 118d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io cluster service true kubernetes io hostname 192 168 1 161 192 168 1 170 Ready 118d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io cluster service true kubernetes io hostname 192 168 1 170 192 168 1 172 Ready 114d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io cluster service true kubernetes io hostname 192 168 1 172         192 168 1 140    source qikqiak            kubectl label nodes 192 168 1 140 source qikqiak node  192 168 1 140  labeled            show labels                 node                                 POD   spec      nodeSelector                  label                  busybox POD   YAML     apiVersion  v1 kind  Pod metadata  labels  app  busybox pod name  test busybox spec  containers  command  sleep  3600  image  busybox imagePullPolicy  Always name  test busybox           POD     140                  140    label     apiVersion  v1 kind  Pod metadata  labels  app  busybox pod name  test busybox spec  containers  command  sleep  3600  image  busybox imagePullPolicy  Always name  test busybox nodeSelector  source  qikqiak          describe             kubectl describe pod test busybox        Events  Type Reason Age Message                               Normal Scheduled 49s default scheduler Successfully assigned test busybox 192 168 1 140 Normal SuccessfulMountVolume 49s kubelet  192 168 1 140 MountVolume SetUp succeeded volume  default token hmpbz  Normal Pulling 49s kubelet  192 168 1 140 pulling image  busybox  Normal Pulled 41s kubelet  192 168 1 140 Successfully pulled image  busybox  Normal Created 41s kubelet  192 168 1 140 Created container Normal Started 41s kubelet  192 168 1 140 Started container        Events           POD         140                 nodeSelector                                        nodeAffinity  nodeAffinity nodeAffinity             Anti Affinity                nodeSelector                                                                         POD                                                                                                              nodeAffinity          preferredDuringSchedulingIgnoredDuringExecution requiredDuringSchedulingIgnoredDuringExecution                          test node affinity yaml  apiVersion  v1 kind  Pod metadata  name  with node affinity labels  app  node affinity pod spec  containers  name  with node affinity image  nginx affinity  nodeAffinity  requiredDuringSchedulingIgnoredDuringExecution  nodeSelectorTerms  matchExpressions  key  kubernetes io hostname operator  NotIn values  192 168 1 140 192 168 1 161 preferredDuringSchedulingIgnoredDuringExecution  weight  1 preference  matchExpressions  key  source operator  values  qikqiak      POD       POD      140 161              source qikqiak                       descirbe                              label            Kubernetes              In label          NotIn label           Gt label         Lt label         Exists    label    DoesNotExist    label         nodeSelectorTerms                         matchExpressions                          POD  podAffinity           POD                      POD           Kubernetes 1 4     podAffinity                nodeAffinity   podAffinity  requiredDuringSchedulingIgnoredDuringExecution  preferredDuringSchedulingIgnoredDuringExecution                            podAntiAffinity             with pod affinity busybox pod            node affinity pod             test pod affinity yaml  apiVersion  v1 kind  Pod metadata  name  with pod affinity labels  app  pod affinity pod spec  containers  name  with pod affinity image  nginx affinity  podAffinity  requiredDuringSchedulingIgnoredDuringExecution  labelSelector  matchExpressions  key  app operator  values  busybox pod topologyKey  kubernetes io hostname podAntiAffinity  preferredDuringSchedulingIgnoredDuringExecution  weight  1 podAffinityTerm  labelSelector  matchExpressions  key  app operator  values  node affinity pod topologyKey  kubernetes io hostname          POD                              POD    POD    app busybox pod  label podAntiAffinity                            POD     POD  app node affinity pod  label        POD                POD        140       busybox pod     140    node affinity pod     140                  describe      kubectl describe pod with pod affinity        Events  Type Rea",
        "objectID": "post/理解kubernetes的亲和性",
        "subtitle": "nodeSelector、nodeAffinity、podAffinity、Taints以及Tolerations用法",
        "date": "2018-03-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "affinity",
            "调度"
        ],
        "keywords": [
            "kubernetes",
            "亲和性",
            "调度",
            "affinity",
            "nodeSelector",
            "污点",
            "容忍"
        ],
        "slug": "understand-kubernetes-affinity",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1474436799594-1974f1add7ad.jpeg",
                "desc": "Guntersville Lake, United States"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "用awk做基本运算",
        "uri": "post/用awk做基本计算",
        "content": "awk                                        awk                                                                     2016 03 30 00 02 02 475   17243   140344433927936   MainThread   tasks py 733  DEBUG  upload oss  upload file  data image5 useruploadimage 20160330 00 14584838973975801011834751459267295740 jpg oss cost time 28 ms      28              awk     28             18           18               cat elfin_celery log 2016 03 29 grep  cost  awk  BEGIN  sum 0  sum   18 END print  avg   sum NR   avg  31 5155ms   NR                                        cat elfin_celery log 2016 03 29 grep  cost   awk  BEGIN  min   199999  if   18max 0 max  18 fi END print  Max   max   max 3051ms                  0                                                    http   awk readthedocs org en latest chapter one html http   www xiaoxiaozi com 2009 11 09 1621",
        "objectID": "post/用awk做基本计算",
        "date": "2016-03-31T00:00:00.000Z",
        "tags": [
            "ops",
            "linux",
            "awk"
        ],
        "slug": "awk-base-compute",
        "gitcomment": true,
        "category": "ops"
    },
    {
        "title": "Kubernetes 应用监控",
        "uri": "post/监控 Kubernetes 应用",
        "content": "Prometheus              HTTP S                        agent         metrics    Prometheus                   HTTP                        metrics      Prometheus                                                 metrics      Kubernetes       istio                                             exporter             mysqldexporter nodeexporter    exporter                agent                               Prometheus                      ingress           Traefik      ingress controller     Kubernetes                  Traefik         metrics                     metrics   metrics prometheus  entryPoint    traefik  buckets    0 1  0 3  1 2  5 0               web   web metrics prometheus                             traefik toml                      ConfigMap   Pod        Traefik Pod                 IP    kubectl svc  n kube system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE        traefik ingress service NodePort 10 101 33 56 80 31692 TCP 8080 32115 TCP 63d         curl        Prometheus             NodePort          curl 10 101 33 56 8080 metrics HELP gogcduration_seconds summary GC invocation durations  TYPE gogcduration_seconds summary gogcduration_seconds quantile  0   0 000121036 gogcduration_seconds quantile  0 25   0 000210328 gogcduration_seconds quantile  0 5   0 000279974 gogcduration_seconds quantile  0 75   0 000420738 gogcduration_seconds quantile  1   0 001191494 gogcdurationsecondssum 0 004353914 gogcdurationsecondscount 12 HELP go_goroutines Number goroutines currently exist  TYPE go_goroutines gauge go_goroutines 63                Traefik                           metrics     prometheus yml           prometheus   job     prome cm yaml  apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   traefik  static_configs  targets    traefik ingress service kube system svc cluster local 8080                     scrape_configs                basicauth   bearertoken         metrics     basic                        header       token       kubernetessdconfigs   consulsdconfigs                          Traefik     servicename  traefik ingress service     kube system    namespace           targets          FQDN    traefik ingress service kube system svc cluster local        Traefik   Prometheus                    servicename serviceport              ConfigMap         kubectl delete  f prome cm yaml configmap  prometheus config  deleted   kubectl create  f prome cm yaml configmap  prometheus config  created    Prometheus                       Pod    prometheus yml                Prometheus           web enable lifecycle                 reload              kubectl svc  n kube ops NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE prometheus NodePort 10 102 74 90 9090 30358 TCP 3d   curl  X POST  http   10 102 74 90 9090   reload       ConfigMap    Volume        Pod                                  reload    url     POST             service   CLUSTER IP PORT                         Prometheus   Dashboard                        traefik                       Graph              Traefik                                       metrics                            Prometheus         Kubernetes        exporter                         metrics    Prometheus                   exporter      Prometheus         Prometheus                exporter                              exporters           redis exporter       redis                  sidecar               Pod               redis       redis exporter             Prometheus              prome redis yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  redis namespace  kube ops spec  template  metadata  annotations  prometheus io scrape   true  prometheus io port   9121  labels  app  redis spec  containers  name  redis image  redis 4 resources  requests  cpu  100m memory  100Mi ports  containerPort  6379 name  redis exporter image  oliver006 redis_exporter latest resources  requests  cpu  100m memory  100Mi ports  containerPort  9121 kind  Service apiVersion  v1 metadata  name  redis namespace  kube ops spec  selector  app  redis ports  name  redis port  6379 targetPort  6379 name  prom port  9121 targetPort  9121           redis    Pod               redis                 redis_exporter                kubectl create  f prome redis yaml deployment extensions  redis  created service  redis  created              redis   Pod              kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE prometheus 8566cd9699 gt9wh 1 1 Running 0 3d redis 544b6c8c54 8xd2g 2 2 Running 0 3m   kubectl svc  n kube ops NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE prometheus NodePort 10 102 74 90 9090 30358 TCP 3d redis ClusterIP 10 104 131 44 6379 TCP 9121 TCP 5m        9121                   curl 10 104 131 44 9121 metrics HELP gogcduration_seconds summary GC invocation durations  TYPE gogcduration_seconds summary gogcduration_seconds quantile  0   0 gogcduration_seconds quantile  0 25   0 gogcduration_seconds quantile  ",
        "objectID": "post/监控 Kubernetes 应用",
        "subtitle": "使用 Prometheus 监控 Kubernetes 集群应用",
        "date": "2018-10-28T00:00:00.000Z",
        "slug": "promethues-monitor-k8s-app",
        "tags": [
            "promethues",
            "monitor",
            "kubernetes"
        ],
        "keywords": [
            "kubernetes",
            "监控",
            "promethues"
        ],
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "监控 Kubernetes 集群节点",
        "uri": "post/监控 Kubernetes 集群节点",
        "content": "Promethues     Kubernetes             Kubernetes                                                          Kubernetes             cpu load disk memory                  kube scheduler kube controller manager kubedns coredns                 metrics    Deployment              API              Kubernetes                     Heapster Heapster                     Pod               Kubelet cAdvisor           Heapster              kube state metrics                       Heapster                 metrics server     cAdvisor cAdvisor Google                                 Docker      Kubernetes              cAdvisor    kubelet                 Kube state metrics kube state metrics     API Server                  Deployment Node Pod        kube state metrics          metrics                         Prometheus              metrics server metrics server                      Heapster          metrics server                        kube state metrics   metrics server                       kube state metrics                     Deployment Pod       metrics server            API        CPU                                                                                   Nagios zabbix                       Prometheus                  nodeexporter         nodeexporter                          node_exporter                 conntrack cpu diskstats filesystem loadavg meminfo netstat               Github repo         DaemonSet                              Pod                                 node exporter                        prome node exporter yaml  apiVersion  extensions v1beta1 kind  DaemonSet metadata  name  node exporter namespace  kube ops labels  name  node exporter spec  template  metadata  labels  name  node exporter spec  hostPID  true hostIPC  true hostNetwork  true containers  name  node exporter image  prom node exporter v0 16 0 ports  containerPort  9100 resources  requests  cpu  0 15 securityContext  privileged  true args    path procfs  host proc   path sysfs  host sys   collector filesystem ignored mount points      sys proc dev host etc         volumeMounts  name  dev mountPath   host dev name  proc mountPath   host proc name  sys mountPath   host sys name  rootfs mountPath   rootfs tolerations  key   node role kubernetes io master  operator   Exists  effect   NoSchedule  volumes  name  proc hostPath  path   proc name  dev hostPath  path   dev name  sys hostPath  path   sys name  rootfs hostPath  path                               node exporter                Pod         Pod               hostPID  true hostIPC  true hostNetwork  true3            PID namespace IPC namespace           namespace                      namespace       namespace                        dev  proc  sys                                                     top        cpu              proc stat   free                        proc meminfo                 kubeadm            master                                                                      kubectl create  f prome node exporter yaml daemonset extensions  node exporter  created   kubectl pods  n kube ops  o wide NAME READY STATUS RESTARTS AGE IP NODE node exporter jfwfv 1 1 Running 0 30m 10 151 30 63 node02 node exporter kr8rt 1 1 Running 0 30m 10 151 30 64 node03 node exporter whb7n 1 1 Running 0 20m 10 151 30 57 master prometheus 8566cd9699 gt9wh 1 1 Running 0 4d 10 244 4 39 node02 redis 544b6c8c54 8xd2g 2 2 Running 0 23h 10 244 2 87 node03              3           Pod                     Service             metrics              hostNetwork true                  9100                         curl 127 0 0 1 9100 metrics     nodefilesystemdevice_error device  shm  fstype  tmpfs  mountpoint   rootfs var lib docker containers aefe8b1b63c3aa5f27766053ec817415faf8f6f417bb210d266fef0c2da64674 shm   1 nodefilesystemdevice_error device  shm  fstype  tmpfs  mountpoint   rootfs var lib docker containers c8652ca72230496038a07e4fe4ee47046abb5f88d9d2440f0c8a923d5f3e133c shm   1 nodefilesystemdevice_error device  tmpfs  fstype  tmpfs  mountpoint   dev   0 nodefilesystemdevice_error device  tmpfs  fstype  tmpfs  mountpoint   dev shm   0                                  Helm           helm install   name node exporter stable prometheus node exporter   namespace kube ops            3          node exporter             Service                      Prometheus                                                 Prometheus            node exporter                                        Kubernetes   Promethues     Kubernetes API          5            Node Service Pod Endpoints Ingress       kubectl                            kubectl nodes NAME STATUS ROLES AGE VERSION master Ready master 165d v1 10 0 node02 Ready 85d v1 10 0 node03 Ready 145d v1 10 0      Prometheus                              Node               prometheus yml          job       job_name   kubernetes nodes  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node     kubernetessdconfigs    node Prometheus       Kubernetes        node         job    ",
        "objectID": "post/监控 Kubernetes 集群节点",
        "subtitle": "使用 Prometheus 监控 Kubernetes 集群节点",
        "date": "2018-11-05T00:00:00.000Z",
        "slug": "promethues-monitor-k8s-nodes",
        "tags": [
            "promethues",
            "monitor",
            "kubernetes"
        ],
        "keywords": [
            "kubernetes",
            "监控",
            "promethues"
        ],
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "Skaffold-简化本地开发kubernetes应用的神器",
        "uri": "post/简化本地持续开发kubernetes应用的神器-Skaffold",
        "content": "kubernetes                                CI CD      kubernetes                                                     CI CD                                         kubernetes                                                 Skaffold               kubernetes        Skaffold          kubernetes                              Skaffold             Kubernetes                                  Kubernetes    Skaffold                                     CI CD                                   Skaffold     Skaffold                                                        TAG          kubernetes  manifest                                                       manifest            Skaffold                                        gif      Skaffold          Skaffold                  kubernetes     minikube  Docker MAC Windows Edge                      Skaffold  1  skaffold      Linux              curl  Lo skaffold https   storage googleapis com skaffold releases latest skaffold linux amd64    chmod  x skaffold    sudo mv skaffold  usr local bin      OSX          curl  Lo skaffold https   storage googleapis com skaffold releases latest skaffold darwin amd64    chmod  x skaffold    sudo mv skaffold  usr local bin                             Skaffold github release            2  Kubernetes     Minikube  GKE  Docker Mac Edge  Docker Windows Edge           kubernetes                       Docker Mac Edge  3  kubectl    kubernetes    kubectl                              4  Docker             5  Docker                                                Docker Hub                   docker hub                                   Skaffold                Skaffold        clone      git clone https   github com GoogleCloudPlatform skaffold        examples getting started        cd examples getting started   tree         Dockerfile     k8s pod yaml     main go     skaffold gcb yaml     skaffold yaml 0 directories  5 files              golang    main go  package main import    fmt   time    func main       fmt Println  Hello Skaffold    time Sleep time Second   2        skaffold gcb yaml                 google cloud            skaffold yaml                        cnych skaffold example      apiVersion  skaffold v1alpha1 kind  Config build  artifacts  imageName  cnych skaffold example workspace    local     deploy  kubectl  manifests  paths  k8s   parameters  IMAGE_NAME  cnych skaffold example         k8s pod yaml             IMAGE_NAME        Skaffold                                   apiVersion  v1 kind  Pod metadata  name  getting started spec  containers  name  getting started image  IMAGE_NAME         getting started      skaffold dev       skaffold dev Starting build    Found minikube Docker Desktop context  using local docker daemon  Sending build context Docker daemon 6 144kB Step 1 5   golang 1 9 4 alpine3 7      fb6e10bf973b Step 2 5   WORKDIR  go src github com GoogleCloudPlatform skaffold examples getting started      Using cache      e6ae5322ee52 Step 3 5   CMD     app        Using cache      bac5f3fd392e Step 4 5   COPY main go        Using cache      47fa1e536263 Step 5 5   RUN go build  o app main go      Using cache      f1470fe9f398 Successfully built f1470fe9f398 Successfully tagged a250d03203f9a5df267d8ad63bae8dba latest Successfully tagged cnych skaffold example f1470fe9f3984775f5dea87b5f720d67b6c2eeaaf2ca5efd1ca3c3ec7c4d4cce Build complete  Starting deploy    Deploying k8s pod yaml    Deploy complete  Dependencies may incomplete   getting started getting started  Hello Skaffold   getting started getting started  Hello Skaffold  Skaffold                       Docker       sha256           skaffold yaml       kubernetes manifests        kubectl apply  f      kubernetes                 pod             getting started getting started  Hello Skaffold   getting started getting started  Hello Skaffold   getting started getting started  Hello Skaffold            kubectl          POD    kubectl pods NAME READY STATUS RESTARTS AGE getting started 1 1 Running 3 1h              POD          kubectl pod getting started  o yaml     spec  containers  image  cnych skaffold example f1470fe9f3984775f5dea87b5f720d67b6c2eeaaf2ca5efd1ca3c3ec7c4d4cce imagePullPolicy  IfNotPresent name  getting started                 POD              docker                docker images  grep skaffold cnych skaffold example f1470fe9f3984775f5dea87b5f720d67b6c2eeaaf2ca5efd1ca3c3ec7c4d4cce f1470fe9f398 8 minutes ago 271MB             main go    package main import    fmt   time    func main       fmt Println  Hello blog qikqiak com    time Sleep time Second   2                   POD         getting started getting started  Hello Skaffold   getting started getting started  Hello Skaffold   getting started getting started  Hello blog qikqiak com   getting started getting started  Hello blog qikqiak com   getting started getting started  Hello blog qikqiak com   getting started getting started  Hello blog qikqiak com   getting started getting started  Hello blog qikqiak com                                      POD                           Skaffold                                    Skaffold ",
        "objectID": "post/简化本地持续开发kubernetes应用的神器-Skaffold",
        "subtitle": "墙裂推荐kubernetes应用开发者使用的工具",
        "date": "2018-03-27T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "skaffold",
            "CI/CD"
        ],
        "keywords": [
            "kubernetes",
            "skaffold",
            "持续开发",
            "神器",
            "CI/CD"
        ],
        "slug": "skaffold-simple-local-develop-k8s-app-tools",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1509565840034-3c385bbe6451.jpeg",
                "desc": "nothing"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "给博客加上HTTPS",
        "uri": "post/给博客加上https",
        "content": "https     https           https                                                       https   Let s Encrypt Let s Encrypt         HTTPS                  CA          Let s Encrypt      CA      Let s Encrypt                           Let s Encrypt   Nginx        HTTPS       Certbot Let s Encrypt                        Let s Encrypt          yum install certbot       certbot certonly   email icnych gmail com   agree tos   webroot  w  var www blogs  d blog qikqiak com      w          d                                                    etc letsencrypt live blog qikqiak com         ls  etc letsencrypt live blog qikqiak com  cert pem chain pem fullchain pem privkey pem README           Nginx   https                 Nginx          443     SSL    SSL                    server   listen 443  ssl on  ssl_certificate  etc letsencrypt live blog qikqiak com fullchain pem  sslcertificatekey  etc letsencrypt live blog qikqiak com privkey pem  server_name blog qikqiak com  root  home notes apps blog  index index html              Nginx      nginx  s reload       https   blog qikqiak com                      http   blog qikqiak com    http           http   https                   301                   server   listen 80  server_name blog qikqiak com  rewrite        https    host 1 permanent    server   listen 443  ssl on  ssl_certificate  etc letsencrypt live blog qikqiak com fullchain pem  sslcertificatekey  etc letsencrypt live blog qikqiak com privkey pem  server_name blog qikqiak com  root  home notes apps blog  index index html                   https             Let s Encrypt        90                  certbot                             crontab            crontab  l 30 5 1     root  usr bin certbot renew   renew hook   usr sbin nginx  s reload",
        "objectID": "post/给博客加上https",
        "date": "2017-11-06T00:00:00.000Z",
        "tags": [
            "https",
            "nginx",
            "ops"
        ],
        "slug": "make-https-blog",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/15802194_206063646464303_2027400919364141056_n.jpg",
                "desc": "普吉岛@泰国 JANUARY 8,2017"
            }
        ],
        "category": "ops"
    },
    {
        "title": "自定义django admin后台的action",
        "uri": "post/自定义django-admin后台的action",
        "content": "django                 admin                                django admin                  action              action                              class PhotoDescAdmin admin ModelAdmin   def pub_time self  obj   return obj photo pub_time strftime   Y  m  d   pubtime shortdescription              def make_published self  request  queryset   queryset update enabled True  makepublished shortdescription                   listdisplay     id    pubtime    category    photo    description    userid    username    enabled    created_at   listfilter     createdat    category    search_fields     description    ordering      created_at    rawidfields     photo    category     actions    make_published         make_published        PhotoDescAdmin  actions         django admin     photodesc         action",
        "objectID": "post/自定义django-admin后台的action",
        "date": "2014-07-02T00:00:00.000Z",
        "tags": [
            "django",
            "admin",
            "action"
        ],
        "slug": "custom-django-admin-actions",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "重新理解 kubernetes 亲和性调度",
        "uri": "post/重新理解亲和性调度",
        "content": "Kubernetes                                                                      Pod                                                                    Pod                 gitlab        Kubernetes                                                                                    Pod                   Kubernetes                               nodeAffinity   Pod     podAffinity   nodeSelector                            nodeSelector     label kubernetes                       label                      service      label     Pod      Pod             label                         node   label    kubectl nodes   show labels NAME STATUS ROLES AGE VERSION LABELS master Ready master 147d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname master node role kubernetes io master  node02 Ready 67d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux course k8s kubernetes io hostname node02 node03 Ready 127d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux jnlp haimaxy kubernetes io hostname node03         node02    com youdianzhishi            kubectl label nodes node02 com youdianzhishi node  node02  labeled            show labels                 node                                 Pod  spec     nodeSelector                  label           Pod          node02                nodeSelector       node selector demo yaml  apiVersion  v1 kind  Pod metadata  labels  app  busybox pod name  test busybox spec  containers  command  sleep  3600  image  busybox imagePullPolicy  Always name  test busybox nodeSelector  com  youdianzhishi          describe             kubectl create  f node selector demo yaml pod  test busybox  created   kubectl describe pod test busybox Name  test busybox Namespace  default Node  node02 10 151 30 63        QoS Class  BestEffort Node Selectors  com youdianzhishi Tolerations  node kubernetes io not ready NoExecute 300s node kubernetes io unreachable NoExecute 300s Events  Type Reason Age Message                               Normal SuccessfulMountVolume 55s kubelet  node02 MountVolume SetUp succeeded volume  default token n9w2d  Normal Scheduled 54s default scheduler Successfully assigned test busybox node02 Normal Pulling 54s kubelet  node02 pulling image  busybox  Normal Pulled 40s kubelet  node02 Successfully pulled image  busybox  Normal Created 40s kubelet  node02 Created container Normal Started 40s kubelet  node02 Started container        Events           Pod       default scheduler         node02           nodeSelector                            Pod        Pending       nodeSelector                   nodeSelector                                                nodeAffinity                       kubernetes                                 predicates   priorities                                       pod            nodeAffinity        podAffinity pod         podAntiAffinity pod                                                    pod                                                                                                                                    preferredDuringSchedulingIgnoredDuringExecution requiredDuringSchedulingIgnoredDuringExecution                                              nodeAffinity              pod                                                               Deployment    3  pod               pod           node affinity demo yaml  apiVersion  apps v1beta1 kind  Deployment metadata  name  affinity labels  app  affinity spec  replicas  3 revisionHistoryLimit  15 template  metadata  labels  app  affinity role  test spec  containers  name  nginx image  nginx 1 7 9 ports  containerPort  80 name  nginxweb affinity  nodeAffinity  requiredDuringSchedulingIgnoredDuringExecution        nodeSelectorTerms  matchExpressions  key  kubernetes io hostname operator  NotIn values  node03 preferredDuringSchedulingIgnoredDuringExecution        weight  1 preference  matchExpressions  key  com operator  values  youdianzhishi      pod            node03               com youdianzhishi                                 kubectl nodes   show labels NAME STATUS ROLES AGE VERSION LABELS master Ready master 154d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname master node role kubernetes io master  node02 Ready 74d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux com youdianzhishi course k8s kubernetes io hostname node02 node03 Ready 134d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux jnlp haimaxy kubernetes io hostname node03      node02    com youdianzhishi    label                           pod     descirbe                        kubectl create  f node affinity demo yaml deployment apps  affinity  created   kubectl pods  l app affinity  o wide NAME READY STATUS RESTARTS AGE IP NODE affinity 7b4c946854 5gfln 1 1 Running 0 47s 10 244 4 214 node02 affinity 7b4c946854 l8b47 1 1 Running 0 47s 10 244 4 215 node02 affinity 7b4c946854 r86p5 1 1 Running 0 47s 10 244 4 213 node02         pod        node02           pod          label            Kubernetes              In label        ",
        "objectID": "post/重新理解亲和性调度",
        "date": "2018-10-18T00:00:00.000Z",
        "keywords": [
            "kubernetes",
            "affinity",
            "调度"
        ],
        "tags": [
            "kubernetes",
            "亲和性",
            "调度",
            "affinity",
            "nodeSelector",
            "污点",
            "容忍"
        ],
        "slug": "kubernetes-affinity-scheduler",
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "集群内部服务发现之 DNS",
        "uri": "post/集群内部服务发现之DNS",
        "content": "Service           Service    ClusterIP VIP     Pod                                  VIP                 api        db            Deployment            Service            api       db            db        db     Service              VIP          Service              ClusterIP         Pod           VIP            apiserver         apiserver            service     Endpoints              apiserver                       apiserver    Service    Endpoints                                                             Kubernetes                                        Kubernetes               Pod                      IP   port       Pod                                                              Pod                                    Nginx     test nginx yaml  apiVersion  apps v1beta1 kind  Deployment metadata  name  nginx deploy labels  k8s app  nginx demo spec  replicas  2 template  metadata  labels  app  nginx spec  containers  name  nginx image  nginx 1 7 9 ports  containerPort  80 apiVersion  v1 kind  Service metadata  name  nginx service labels  name  nginx service spec  ports  port  5000 targetPort  80 selector  app  nginx            kubectl create  f test nginx yaml deployment apps  nginx deploy  created service  nginx service  created   kubectl pods NAME READY STATUS RESTARTS AGE     nginx deploy 75675f5897 47h4t 1 1 Running 0 53s nginx deploy 75675f5897 mmm8w 1 1 Running 0 53s       kubectl svc NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE     nginx service ClusterIP 10 107 225 42 5000 TCP 1m              Pod       nginx service            Service        5000                  Pod          app  nginx       Pod                 Pod      Pod               nginx service        test pod yaml  apiVersion  v1 kind  Pod metadata  name  test pod spec  containers  name  test service pod image  busybox command     bin sh     c    env            Pod    kubectl create  f test pod yaml pod  test pod  created   Pod                   kubectl logs test pod     KUBERNETES_PORT tcp   10 96 0 1 443 KUBERNETESSERVICEPORT 443 HOSTNAME test pod HOME  root NGINXSERVICEPORT5000TCP_ADDR 10 107 225 42 NGINXSERVICEPORT5000TCP_PORT 5000 NGINXSERVICEPORT5000TCP_PROTO tcp KUBERNETESPORT443TCPADDR 10 96 0 1 PATH  usr local sbin  usr local bin  usr sbin  usr bin  sbin  bin NGINXSERVICESERVICE_HOST 10 107 225 42 NGINXSERVICEPORT5000TCP tcp   10 107 225 42 5000 KUBERNETESPORT443TCPPORT 443 KUBERNETESPORT443TCPPROTO tcp NGINXSERVICESERVICE_PORT 5000 NGINXSERVICEPORT tcp   10 107 225 42 5000 KUBERNETESSERVICEPORT_HTTPS 443 KUBERNETESPORT443_TCP tcp   10 96 0 1 443 KUBERNETESSERVICEHOST 10 96 0 1 PWD                                      nginx service        HOST PORT PROTO ADDR              Service                   Pod      nginx service                 NGINXSERVICESERVICEHOST   NGINXSERVICESERVICEPORT                  Pod           nginx service                                       initContainer         nginx service        Pod             Pod                    KubeDNS                                                              Service        Service                    ClusterIP                              Service          ClusterIP                        IP                                    DNS           Kubernetes    DNS                  kubedns    DNS                      addon              Kubernetes                                    Kubernetes                           kube dns   CoreDNS        kubeadm             kube dns                            CoreDNS                        kubeadm init   feature gates CoreDNS true Kubernetes DNS pod     3          kubectl         kubectl pods  n kube system NAME READY STATUS RESTARTS AGE     kube dns 5868f69869 zp5kz 3 3 Running 0 19d     READY         3 3               kube dns    3       kubectl describe pod kube dns 5868f69869 zp5kz  n kube system kube dns dnsmasq nanny sidecar  3              kubedns  kubedns    SkyDNS      apiserver    Service   Endpoints               Cache          Kubernetes     Service   Pod   DNS     dnsmasq  dsnmasq        DNS                     1G              DNS                        kubedns                    ConfigMap         sider  sidecar           DNS                    prometheus      Pod     DNS Pod      IP     Kubernetes            IP      kubelet        cluster dns         DNS         DNS                    cluster domain    kubelet        dnsmasq      ConfigMap                                 ConfigMap      DNS                           apiVersion  v1 kind  ConfigMap metadata  name  kube dns namespace  kube system data  stubDomains      acme local     1 2 3 4    upstreamNameservers      8 8 8 8    8 8 4 4            acme local    DNS        DNS 1 2 3 4 Google    DNS                                        DNS                                                                                                           kubernetes default svc cluster local   kube dns     foo acme local       DNS  1 2 3 4      widget com      DNS  8 8 8 8  8 8 4 4                    Pod    DNS        Kubernetes      Pod     DNS     Default     ClusterFirst       dnsPolicy                Default ",
        "objectID": "post/集群内部服务发现之DNS",
        "date": "2018-08-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "kubends",
            "coredns",
            "service"
        ],
        "keywords": [
            "kubernetes",
            "kubends",
            "coredns",
            "service",
            "服务发现"
        ],
        "slug": "service-found-dns",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1533630018502-93824e440009.jpeg",
                "desc": "lighthouse"
            }
        ],
        "category": "kubernetes"
    }
]